{"version":3,"sources":["../../../../node_modules/thirdweb/src/react/web/wallets/shared/CoinbaseSDKConnection.tsx"],"sourcesContent":["import { useCallback, useEffect, useRef, useState } from \"react\";\nimport type { Chain } from \"../../../../chains/types.js\";\nimport type { ThirdwebClient } from \"../../../../client/client.js\";\nimport type { Wallet } from \"../../../../wallets/interfaces/wallet.js\";\nimport type { WalletInfo } from \"../../../../wallets/wallet-info.js\";\nimport type { InjectedWalletLocale } from \"../injected/locale/types.js\";\nimport { ConnectingScreen } from \"./ConnectingScreen.js\";\n\n/**\n * @internal\n */\nfunction ExternalWalletConnectUI(props: {\n  onBack?: () => void;\n  onGetStarted: () => void;\n  done: () => void;\n  locale: InjectedWalletLocale;\n  wallet: Wallet;\n  walletInfo: WalletInfo;\n  client: ThirdwebClient;\n  chain: Chain | undefined;\n  size: \"compact\" | \"wide\";\n}) {\n  const { onBack, done, wallet, walletInfo, onGetStarted, locale } = props;\n  const [errorConnecting, setErrorConnecting] = useState(false);\n\n  const connect = useCallback(() => {\n    setErrorConnecting(false);\n    wallet\n      .connect({\n        chain: props.chain,\n        client: props.client,\n      })\n      .then(() => {\n        done();\n      })\n      .catch((e) => {\n        console.error(e);\n        setErrorConnecting(true);\n      });\n  }, [props.client, wallet, props.chain, done]);\n\n  const scanStarted = useRef(false);\n  useEffect(() => {\n    if (scanStarted.current) {\n      return;\n    }\n    scanStarted.current = true;\n    connect();\n  }, [connect]);\n\n  return (\n    <ConnectingScreen\n      client={props.client}\n      errorConnecting={errorConnecting}\n      locale={{\n        failed: locale.connectionScreen.failed,\n        getStartedLink: locale.getStartedLink,\n        inProgress: locale.connectionScreen.inProgress,\n        instruction: locale.connectionScreen.instruction,\n        tryAgain: locale.connectionScreen.retry,\n      }}\n      onBack={onBack}\n      onGetStarted={onGetStarted}\n      onRetry={connect}\n      size={props.size}\n      walletId={wallet.id}\n      walletName={walletInfo.name}\n    />\n  );\n}\n\nexport default ExternalWalletConnectUI;\n"],"names":[],"mappings":"yDAAA,EAAyC,CAAlC,CAA0D,CAAhB,AAAgB,AAAxD,CAAwD,CAAd,MAAM,CAMzD,EAAiC,AANb,CAMb,CAAkD,AANnC,CAMb,AAAgD,CANO,AAMP,CANQ,KAMT,CAAC,AAN1B,EAAE,MAMR,AANc,EAMZ,AANc,MAMR,EAKjC,SAAS,AAAwB,CAUhC,EACC,GAAM,CAAE,QAAM,MAAE,CAAI,CAXU,OAWR,CAAM,YAAE,CAAU,cAAE,CAAY,QAAE,CAAM,CAAE,CAAG,EAC7D,CAAC,EAAiB,AADgD,CAAC,CAC9B,CAAA,CAAA,EAAG,EAAA,KAAxB,GAAwB,AAAQ,EAAZ,AAAa,IAEjD,CAFsD,CAAC,AAEhD,CAFiD,AAEjD,EAAG,EAAA,AAAH,WAAG,AAAW,EAAC,GAAG,EAAE,AAC/B,GAAmB,GACnB,EADwB,AAErB,CAFsB,CAAC,EACpB,GACI,CAAC,CACP,CAHc,IAGT,CAAE,EAAM,GAAD,EAAM,CAClB,MAAM,CAAE,EAAM,GAAD,GAAO,CACrB,CAAC,CACD,IAAI,CAAC,GAAG,EACP,AADS,GAEX,CAAC,AADK,CACJ,CADM,AAEP,CAFQ,IAEH,CAAC,AAAC,CAAC,EAAE,CACT,CADW,MACJ,CAAC,KAAK,CAAC,CAAC,CAAC,CAChB,AADiB,GACE,EACrB,CAAC,CADwB,AACvB,AACN,CAF8B,AACvB,AACN,CAF8B,AAE5B,CAAC,EAAM,GAAD,GAFe,AAER,CAAE,EAAQ,EAAM,EAAR,CAAO,EAAM,CAAE,EAAK,CAAC,CAAF,AAAG,AAExC,EAAW,CAAA,EAAG,EAAA,IAAH,EAAS,AAAN,GAAO,GAS3B,EATgC,CAAC,CAAC,KAClC,EAAA,SAAA,AAAS,EAAC,GAAG,EAAE,AACT,EAAY,OAAO,EAAE,AAAV,CAAW,AAG1B,EAAY,OAAO,EAAR,AAAW,EACtB,EAD0B,CAAC,CAE7B,CAAC,CAAE,CADM,AACL,EADO,AACC,CADA,AACC,CAEN,AAFO,AAEP,CAAA,EACL,AAHS,EAGT,GAAA,EAAC,EAAA,gBAAgB,CAAA,CACf,MAAM,CAAE,EAAM,GAAD,GAAO,CACpB,eAAe,CAAE,EACjB,MAAM,CAAE,CACN,KAF8B,CAExB,CAAE,EAAO,IAAD,YAAiB,CAAC,MAAM,CACtC,cAAc,CAAE,EAAO,IAAD,UAAe,CACrC,UAAU,CAAE,EAAO,IAAD,YAAiB,CAAC,UAAU,CAC9C,WAAW,CAAE,EAAO,IAAD,YAAiB,CAAC,WAAW,CAChD,QAAQ,CAAE,EAAO,IAAD,YAAiB,CAAC,KAAK,CACxC,CACD,MAAM,CAAE,EACR,IADc,QACF,CAAE,EACd,OAAO,CAAE,EADiB,AAE1B,IAAI,CADY,AACV,EAAM,GAAD,CAAK,CAChB,QAAQ,CAAE,EAAO,EAAE,CACnB,CADgB,SACN,CAAE,EAAW,IAAI,EAC3B,AAEN,CADG,AACF,CAH2B,AAExB"}