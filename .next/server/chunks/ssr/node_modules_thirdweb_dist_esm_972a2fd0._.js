module.exports=[259184,a=>{"use strict";var b=a.i(777259);function c(a){return b.concat(...a)}a.s(["concatHex",()=>c])},60268,a=>{"use strict";async function b(a,b){return await a({method:"eth_sendRawTransaction",params:[b]})}a.s(["eth_sendRawTransaction",()=>b])},31077,413811,a=>{"use strict";var b=a.i(566167),c=a.i(521045),d=a.i(60268),e=a.i(615526),f=a.i(770529),g=a.i(707014);function h(a){if(["string","number"].includes(typeof a)&&!Number.isInteger(Number(a)))throw Error(`Expected value to be an integer to convert to a bigint, got ${a} of type ${typeof a}`);return a instanceof Uint8Array?BigInt((0,g.uint8ArrayToHex)(a)):BigInt(a)}let i=(a,b)=>"bigint"==typeof a?b(a):Array.isArray(a)?a.map(a=>i(a,b)):a&&"object"==typeof a?Object.fromEntries(Object.entries(a).map(([a,c])=>[a,i(c,b)])):a;a.s(["replaceBigInts",0,i,"toBigInt",()=>h],413811);var j=a.i(259184),k=a.i(48302),l=a.i(427492),m=a.i(662713),n=a.i(695313),o=a.i(485516);let p=32n*a.i(283678).maxUint16;var q=a.i(185228);class r extends q.BaseError{constructor({givenLength:a,maxBytecodeSize:b}){super(`Bytecode cannot be longer than ${b} bytes. Given length: ${a}`,{name:"BytecodeLengthExceedsMaxSizeError"})}}class s extends q.BaseError{constructor({givenLengthInWords:a}){super(`Bytecode length in 32-byte words must be odd. Given length in words: ${a}`,{name:"BytecodeLengthInWordsMustBeOddError"})}}class t extends q.BaseError{constructor({givenLength:a}){super(`The bytecode length in bytes must be divisible by 32. Given length: ${a}`,{name:"BytecodeLengthMustBeDivisibleBy32Error"})}}async function u(a){let{account:b,transaction:c}=a,f=await w(a),g=await v({account:b,chainId:c.chain.id,eip712Transaction:f}),h=(0,e.getRpcClient)(c),i=await (0,d.eth_sendRawTransaction)(h,g);return{chain:c.chain,client:c.client,transactionHash:i}}async function v(a){let d,{account:e,eip712Transaction:f,chainId:h}=a,i=(d=function(a){let{gas:c,nonce:d,to:e,from:f,value:h,maxFeePerGas:i,maxPriorityFeePerGas:j,paymaster:k,paymasterInput:l,gasPerPubdata:m,data:q,factoryDeps:u}=a;return{data:q||"0x0",factoryDeps:u?.map(a=>(0,g.toHex)(function(a){let c=(0,b.toBytes)(a);if(c.length%32!=0)throw new t({givenLength:c.length});if(c.length>p)throw new r({givenLength:c.length,maxBytecodeSize:p});let d=(0,o.sha256)(c),e=(0,b.toBytes)(d),f=c.length/32;if(f%2==0)throw new s({givenLengthInWords:f});let g=(0,b.toBytes)(f),h=(0,n.pad)(g,{size:2}),i=new Uint8Array([1,0]);return e.set(i,0),e.set(h,2),e}(a)))??[],from:BigInt(f),gasLimit:c??0n,gasPerPubdataByteLimit:m??50000n,maxFeePerGas:i??0n,maxPriorityFeePerGas:j??0n,nonce:d?BigInt(d):0n,paymaster:k?BigInt(k):0n,paymasterInput:l||"0x",to:e?BigInt(e):0n,txType:113n,value:h??0n}}(f),{domain:{chainId:f.chainId,name:"zkSync",version:"2"},message:d,primaryType:"Transaction",types:{Transaction:[{name:"txType",type:"uint256"},{name:"from",type:"uint256"},{name:"to",type:"uint256"},{name:"gasLimit",type:"uint256"},{name:"gasPerPubdataByteLimit",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymaster",type:"uint256"},{name:"nonce",type:"uint256"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"factoryDeps",type:"bytes32[]"},{name:"paymasterInput",type:"bytes"}]}}),k=await e.signTypedData({...i});return function(a){let{chainId:b,gas:d,nonce:e,to:f,from:h,value:i,maxFeePerGas:k,maxPriorityFeePerGas:l,customSignature:m,factoryDeps:n,paymaster:o,paymasterInput:p,gasPerPubdata:q,data:r}=a,s=[e?(0,g.toHex)(e):"0x",l?(0,g.toHex)(l):"0x",k?(0,g.toHex)(k):"0x",d?(0,g.toHex)(d):"0x",f??"0x",i?(0,g.toHex)(i):"0x",r??"0x0",(0,g.toHex)(b),(0,g.toHex)(""),(0,g.toHex)(""),(0,g.toHex)(b),h??"0x",q?(0,g.toHex)(q):(0,g.toHex)(50000n),n??[],m??"0x",o&&p?[o,p]:[]];return(0,j.concatHex)(["0x71",(0,c.toRlp)(s)])}({...f,chainId:h,customSignature:k})}async function w(a){let{account:b,transaction:c}=a,{gas:d,maxFeePerGas:e,maxPriorityFeePerGas:g,gasPerPubdata:h}=await x({from:(0,f.getAddress)(b.address),transaction:c});return{...await (0,m.toSerializableTransaction)({from:b.address,transaction:{...c,gas:d,maxFeePerGas:e,maxPriorityFeePerGas:g}}),...c.eip712,from:b.address,gasPerPubdata:h}}async function x(a){let{transaction:b,from:c}=a,[d,f,j,l]=await Promise.all([(0,k.resolvePromisedValue)(b.gas),(0,k.resolvePromisedValue)(b.maxFeePerGas),(0,k.resolvePromisedValue)(b.maxPriorityFeePerGas),(0,k.resolvePromisedValue)(b.eip712)]),m=l?.gasPerPubdata;if(void 0===d||void 0===f||void 0===j){let a=(0,e.getRpcClient)(b),k=await y({from:c,transaction:b}),l=await a({method:"zks_estimateFee",params:[i(k,g.toHex)]});d=2n*h(l.gas_limit),f=2n*h(l.max_fee_per_gas),j=h(l.max_priority_fee_per_gas)||1n,(m=2n*h(l.gas_per_pubdata_limit))<50000n&&(m=50000n)}return{gas:d,gasPerPubdata:m,maxFeePerGas:f,maxPriorityFeePerGas:j}}async function y(a){let{transaction:c,from:d}=a,[e,f,g,h]=await Promise.all([(0,l.encode)(c),(0,k.resolvePromisedValue)(c.to),(0,k.resolvePromisedValue)(c.value),(0,k.resolvePromisedValue)(c.eip712)]),i=h?.gasPerPubdata;return{data:e,eip712Meta:{...h,factoryDeps:h?.factoryDeps?.map(a=>Array.from((0,b.hexToBytes)(a))),gasPerPubdata:i||50000n},from:d,gasPerPubdata:i,to:f,type:"0x71",value:g}}a.s(["getZkGasFees",()=>x,"populateEip712Transaction",()=>w,"sendEip712Transaction",()=>u,"signEip712Transaction",()=>v],31077)}];

//# sourceMappingURL=node_modules_thirdweb_dist_esm_972a2fd0._.js.map