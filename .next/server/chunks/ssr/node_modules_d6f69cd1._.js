module.exports=[816330,a=>{"use strict";function b(a,b){return b&&(a.__preparedMethod=b.preparedMethod,a.__contract=b.contract),a}a.s(["TransactionTypeMap",0,{eip1559:1,eip2930:2,eip4844:3,eip7702:4,legacy:0},"prepareTransaction",()=>b])},13894,a=>{"use strict";var b=a.i(532444),c=a.i(464352),d=a.i(12174),e=a.i(48302),f=a.i(816330),g=a.i(72725);function h(a){let{contract:h,method:i,params:j,...k}=a,l=()=>(async()=>{if(Array.isArray(i))return i;if((0,g.isAbiFunction)(i))return(0,d.prepareMethod)(i);if("function"==typeof i)return(0,d.prepareMethod)(await i(h));if("string"==typeof i&&i.startsWith("function ")){let a=(0,b.parseAbiItem)(i);if("function"===a.type)return(0,d.prepareMethod)(a);throw Error('"method" passed is not of type "function"')}if(h.abi&&h.abi?.length>0){let a=h.abi?.find(a=>"function"===a.type&&a.name===i);if(a)return(0,d.prepareMethod)(a)}throw Error(`Could not resolve method "${i}".`)})();return(0,f.prepareTransaction)({...k,chain:h.chain,client:h.client,data:async()=>{let a;return 0===(a=Array.isArray(i)?i:await l())[1].length?a[0]:a[0]+(0,c.encodeAbiParameters)(a[1],await (0,e.resolvePromisedValue)(j??[])).slice(2)},to:h.address},{contract:h,preparedMethod:l})}a.s(["prepareContractCall",()=>h])},687973,30353,a=>{"use strict";var b=a.i(872694),c=a.i(161848),d=a.i(566167),e=a.i(652868),f=a.i(595904),g=a.i(303418),h=a.i(466323),i=a.i(756800),j=a.i(149601);let k="/docs/contract/decodeEventLog";function l(a){let{abi:c,data:d,strict:e,topics:l}=a,m=e??!0,[n,...o]=l;if(!n)throw new b.AbiEventSignatureEmptyTopicsError({docsPath:k});let p=c.find(a=>"event"===a.type&&n===(0,f.toEventSelector)((0,j.formatAbiItem)(a)));if(!(p&&"name"in p)||"event"!==p.type)throw new b.AbiEventSignatureNotFoundError(n,{docsPath:k});let{name:q,inputs:r}=p,s=r?.some(a=>!("name"in a&&a.name)),t=s?[]:{},u=r.map((a,b)=>[a,b]).filter(([a])=>"indexed"in a&&a.indexed);for(let a=0;a<u.length;a++){let[c,d]=u[a],e=o[a];if(!e)throw new b.DecodeLogTopicsMismatch({abiItem:p,param:c});t[s?d:c.name||d]=function({param:a,value:b}){return"string"===a.type||"bytes"===a.type||"tuple"===a.type||a.type.match(/^(.*)\[(\d+)?\]$/)?b:((0,i.decodeAbiParameters)([a],b)||[])[0]}({param:c,value:e})}let v=r.filter(a=>!("indexed"in a&&a.indexed));if(v.length>0){if(d&&"0x"!==d)try{let a=(0,i.decodeAbiParameters)(v,d);if(a)if(s)for(let b=0;b<r.length;b++)t[b]=t[b]??a.shift();else for(let b=0;b<v.length;b++)t[v[b].name]=a[b]}catch(a){if(m){if(a instanceof b.AbiDecodingDataSizeTooSmallError||a instanceof g.PositionOutOfBoundsError)throw new b.DecodeLogDataMismatch({abiItem:p,data:d,params:v,size:(0,h.size)(d)});throw a}}else if(m)throw new b.DecodeLogDataMismatch({abiItem:p,data:"0x",params:v,size:0})}return{eventName:q,args:Object.values(t).length>0?t:void 0}}function m(a){let{abi:g,args:h,logs:i,strict:j=!0}=a,k=(()=>{if(a.eventName)return Array.isArray(a.eventName)?a.eventName:[a.eventName]})();return i.map(a=>{try{let b=g.find(b=>"event"===b.type&&a.topics[0]===(0,f.toEventSelector)(b));if(!b)return null;let i=l({...a,abi:[b],strict:j});if(k&&!k.includes(i.eventName)||!function(a){let{args:b,inputs:f,matchArgs:g}=a;if(!g)return!0;if(!b)return!1;function h(a,b,f){try{if("address"===a.type)return(0,c.isAddressEqual)(b,f);if("string"===a.type||"bytes"===a.type)return(0,e.keccak256)((0,d.toBytes)(b))===f;return b===f}catch{return!1}}return Array.isArray(b)&&Array.isArray(g)?g.every((a,c)=>{if(null==a)return!0;let d=f[c];return!!d&&(Array.isArray(a)?a:[a]).some(a=>h(d,a,b[c]))}):!("object"!=typeof b||Array.isArray(b)||"object"!=typeof g||Array.isArray(g))&&Object.entries(g).every(([a,c])=>{if(null==c)return!0;let d=f.find(b=>b.name===a);return!!d&&(Array.isArray(c)?c:[c]).some(c=>h(d,c,b[a]))})}({args:i.args,inputs:b.inputs,matchArgs:h}))return null;return{...i,...a}}catch(e){let c,d;if(e instanceof b.AbiEventSignatureNotFoundError)return null;if(e instanceof b.DecodeLogDataMismatch||e instanceof b.DecodeLogTopicsMismatch){if(j)return null;c=e.abiItem.name,d=e.abiItem.inputs?.some(a=>!("name"in a&&a.name))}return{...a,args:d?[]:{},eventName:c}}}).filter(Boolean)}a.s(["decodeEventLog",()=>l],30353),a.s(["parseEventLogs",()=>m],687973)},14091,931604,a=>{"use strict";var b=a.i(872694),c=a.i(185228);class d extends c.BaseError{constructor(a){super(`Filter type "${a}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}a.s(["FilterTypeNotSupportedError",()=>d],931604);var e=a.i(566167),f=a.i(652868),g=a.i(595904),h=a.i(762029),i=a.i(149601),j=a.i(895261);let k="/docs/contract/encodeEventTopics";function l(a){let{abi:c,eventName:d,args:e}=a,f=c[0];if(d){let a=(0,j.getAbiItem)({abi:c,name:d});if(!a)throw new b.AbiEventNotFoundError(d,{docsPath:k});f=a}if("event"!==f.type)throw new b.AbiEventNotFoundError(void 0,{docsPath:k});let h=(0,i.formatAbiItem)(f),l=(0,g.toEventSelector)(h),n=[];if(e&&"inputs"in f){let a=f.inputs?.filter(a=>"indexed"in a&&a.indexed),b=Array.isArray(e)?e:Object.values(e).length>0?a?.map(a=>e[a.name])??[]:[];b.length>0&&(n=a?.map((a,c)=>Array.isArray(b[c])?b[c].map((d,e)=>m({param:a,value:b[c][e]})):void 0!==b[c]&&null!==b[c]?m({param:a,value:b[c]}):null)??[])}return[l,...n]}function m({param:a,value:b}){if("string"===a.type||"bytes"===a.type)return(0,f.keccak256)((0,e.toBytes)(b));if("tuple"===a.type||a.type.match(/^(.*)\[(\d+)?\]$/))throw new d(a.type);return(0,h.encodeAbiParameters)([a],[b])}a.s(["encodeEventTopics",()=>l],14091)},282668,a=>{"use strict";var b=a.i(513166);a.s(["toEventHash",()=>b.toSignatureHash])},866408,713837,863153,a=>{"use strict";function b(a){let b;return()=>(b||(b=a()),b)}a.s(["once",()=>b],866408),a.s(["broadcastZkTransaction",()=>w,"bundleUserOp",()=>o,"estimateUserOpGas",()=>p,"executeWithSignature",()=>u,"getQueuedTransactionHash",()=>v,"getUserOpGasFees",()=>q,"getUserOpReceipt",()=>r,"getZkPaymasterData",()=>t],863153);var c=a.i(984929),d=a.i(687973),e=a.i(532444),f=a.i(14091),g=a.i(282668);function h(a){let b,{signature:c}=a;return{abiEvent:b=c&&"object"==typeof c&&"type"in c&&"event"===c.type?c:(0,e.parseAbiItem)(c),hash:(0,g.toEventHash)(b),topics:(0,f.encodeEventTopics)({abi:[b],args:a.filters})}}var i=a.i(707014),j=a.i(317218),k=a.i(380167),l=a.i(378950),m=a.i(726654);function n(a){return Object.fromEntries(Object.entries(a).map(([a,b])=>[a,null==b||(0,m.isHex)(b)?b:(0,i.toHex)(b)]))}async function o(a){return x({...a,operation:"eth_sendUserOperation",params:[n(a.userOp),a.options.entrypointAddress??l.ENTRYPOINT_ADDRESS_v0_6]})}async function p(a,b){let c=await x({...a,operation:"eth_estimateUserOperationGas",params:[n(a.userOp),a.options.entrypointAddress??l.ENTRYPOINT_ADDRESS_v0_6,b??{}]});return{callGasLimit:(0,i.hexToBigInt)(c.callGasLimit)+l.MANAGED_ACCOUNT_GAS_BUFFER,paymasterPostOpGasLimit:void 0!==c.paymasterPostOpGasLimit?(0,i.hexToBigInt)(c.paymasterPostOpGasLimit):void 0,paymasterVerificationGasLimit:void 0!==c.paymasterVerificationGasLimit?(0,i.hexToBigInt)(c.paymasterVerificationGasLimit):void 0,preVerificationGas:(0,i.hexToBigInt)(c.preVerificationGas),verificationGas:void 0!==c.verificationGas?(0,i.hexToBigInt)(c.verificationGas):void 0,verificationGasLimit:(0,i.hexToBigInt)(c.verificationGasLimit)}}async function q(a){let b=await x({...a,operation:"thirdweb_getUserOperationGasPrice",params:[]});return{maxFeePerGas:(0,i.hexToBigInt)(b.maxFeePerGas),maxPriorityFeePerGas:(0,i.hexToBigInt)(b.maxPriorityFeePerGas)}}async function r(a){let b=await s(a);if(b){if(!1===b.success){let a=function(a){let{logs:b,events:c,strict:e}=a;return(0,d.parseEventLogs)({abi:c.map(a=>a.abiEvent),logs:b,strict:e})}({events:[function(a={}){return h({filters:a,signature:"event UserOperationRevertReason(bytes32 indexed userOpHash, address indexed sender, uint256 nonce, bytes revertReason)"})}(),function(a={}){return h({filters:a,signature:"event PostOpRevertReason(bytes32 indexed userOpHash, address indexed sender, uint256 nonce, bytes revertReason)"})}()],logs:b.logs}),e=a[0]?.args?.revertReason;if(!e)throw Error(`UserOp failed at txHash: ${b.receipt.transactionHash}`);let f=(0,c.decodeErrorResult)({data:e});throw Error(`UserOp failed with reason: '${f.args.join(",")}' at txHash: ${b.receipt.transactionHash}`)}return b.receipt}}async function s(a){let b=await x({operation:"eth_getUserOperationReceipt",options:a,params:[a.userOpHash]});if(b)return function(a){let{receipt:b}=a,c={...b,blockNumber:b.blockNumber?BigInt(b.blockNumber):null,contractAddress:b.contractAddress?b.contractAddress:null,cumulativeGasUsed:b.cumulativeGasUsed?BigInt(b.cumulativeGasUsed):null,effectiveGasPrice:b.effectiveGasPrice?BigInt(b.effectiveGasPrice):null,gasUsed:b.gasUsed?BigInt(b.gasUsed):null,logs:b.logs,status:b.status,to:b.to?b.to:null,transactionHash:b.transactionHash,transactionIndex:b.transactionIndex,type:b.type};return b.blobGasPrice&&(c.blobGasPrice=BigInt(b.blobGasPrice)),b.blobGasUsed&&(c.blobGasUsed=BigInt(b.blobGasUsed)),{...a,actualGasCost:BigInt(a.actualGasCost),actualGasUsed:BigInt(a.actualGasUsed),nonce:BigInt(a.nonce),receipt:c,userOpHash:a.userOpHash}}(b)}async function t(a){let b=await x({operation:"zk_paymasterData",options:a.options,params:[a.transaction]});return{paymaster:b.paymaster,paymasterInput:b.paymasterInput}}async function u(a){let b=await x({...a,operation:"tw_execute",params:[a.eoaAddress,a.wrappedCalls,a.signature,a.authorization]});if(!b.queueId)throw Error(`Error executing 7702 transaction: ${(0,k.stringify)(b)}`);return{transactionId:b.queueId}}async function v(a){return{transactionHash:(await x({...a,operation:"tw_getTransactionHash",params:[a.transactionId]})).transactionHash}}async function w(a){return{transactionHash:(await x({operation:"zk_broadcastTransaction",options:a.options,params:[{...a.transaction,signedTransaction:a.signedTransaction}]})).transactionHash}}async function x(a){let{options:b,operation:c,params:d}=a,e=b.bundlerUrl??(0,l.getDefaultBundlerUrl)(b.chain),f=(0,j.getClientFetch)(b.client),g=await f(e,{useAuthToken:!0,body:(0,k.stringify)({id:1,jsonrpc:"2.0",method:c,params:d}),headers:{"Content-Type":"application/json"},method:"POST"}),h=await g.json();if(!g.ok||h.error){let a=h.error||g.statusText;"object"==typeof a&&(a=(0,k.stringify)(a));let b=h.code||"UNKNOWN";throw Error(`${c} error: ${a}
Status: ${g.status}
Code: ${b}`)}return h.result}a.s(["generateRandomUint192",0,()=>{let a=BigInt(Math.floor(0x100000000*Math.random())),b=BigInt(Math.floor(0x100000000*Math.random())),c=BigInt(Math.floor(0x100000000*Math.random())),d=BigInt(Math.floor(0x100000000*Math.random())),e=BigInt(Math.floor(0x100000000*Math.random())),f=BigInt(Math.floor(0x100000000*Math.random()));return a<<BigInt(160)|b<<BigInt(128)|c<<BigInt(96)|d<<BigInt(64)|e<<BigInt(32)|f},"hexlifyUserOp",()=>n],713837)}];

//# sourceMappingURL=node_modules_d6f69cd1._.js.map