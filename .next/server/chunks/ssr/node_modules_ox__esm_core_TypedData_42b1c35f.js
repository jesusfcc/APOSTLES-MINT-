module.exports=[367580,a=>{"use strict";a.i(613716),a.i(250457),a.i(15752),a.i(672088),a.i(764172);var b=a.i(942125),c=a.i(497978),d=a.i(777259),e=a.i(774392),f=a.i(462314);function g(a){let b=0;for(let c=0;c<a.length;c++){let{dynamic:e,encoded:f}=a[c];e?b+=32:b+=d.size(f)}let c=[],e=[],f=0;for(let g=0;g<a.length;g++){let{dynamic:h,encoded:i}=a[g];h?(c.push(d.fromNumber(b+f,{size:32})),e.push(i),f+=d.size(i)):c.push(i)}return d.concat(...c,...e)}function h(a,f,h){let{checksumAddress:i=!1}=h??{};if(a.length!==f.length)throw new l({expectedLength:a.length,givenLength:f.length});let o=g(function({checksumAddress:a,parameters:f,values:h}){let i=[];for(let l=0;l<f.length;l++)i.push(function a({checksumAddress:f=!1,parameter:h,value:i}){let l,o=(l=h.type.match(/^(.*)\[(\d+)?\]$/))?[l[2]?Number(l[2]):null,l[1]]:void 0;if(o){let[b,c]=o;return function(b,c){let{checksumAddress:e,length:f,parameter:h}=c,i=null===f;if(!Array.isArray(b))throw new m(b);if(!i&&b.length!==f)throw new j({expectedLength:f,givenLength:b.length,type:`${h.type}[${f}]`});let k=!1,l=[];for(let c=0;c<b.length;c++){let d=a({checksumAddress:e,parameter:h,value:b[c]});d.dynamic&&(k=!0),l.push(d)}if(i||k){let a=g(l);if(i){let b=d.fromNumber(l.length,{size:32});return{dynamic:!0,encoded:l.length>0?d.concat(b,a):b}}if(k)return{dynamic:!0,encoded:a}}return{dynamic:!1,encoded:d.concat(...l.map(({encoded:a})=>a))}}(i,{checksumAddress:f,length:b,parameter:{...h,type:c}})}if("tuple"===h.type)return function(b,c){let{checksumAddress:e,parameter:f}=c,h=!1,i=[];for(let c=0;c<f.components.length;c++){let d=f.components[c],g=Array.isArray(b)?c:d.name,j=a({checksumAddress:e,parameter:d,value:b[g]});i.push(j),j.dynamic&&(h=!0)}return{dynamic:h,encoded:h?g(i):d.concat(...i.map(({encoded:a})=>a))}}(i,{checksumAddress:f,parameter:h});if("address"===h.type)return function(a,c){let{checksum:e=!1}=c;return b.assert(a,{strict:e}),{dynamic:!1,encoded:d.padLeft(a.toLowerCase())}}(i,{checksum:f});if("bool"===h.type){var p=i;if("boolean"!=typeof p)throw new c.BaseError(`Invalid boolean value: "${p}" (type: ${typeof p}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:d.padLeft(d.fromBoolean(p))}}if(h.type.startsWith("uint")||h.type.startsWith("int")){let a=h.type.startsWith("int"),[,,b="256"]=e.integerRegex.exec(h.type)??[];return function(a,{signed:b,size:c}){if("number"==typeof c){let e=2n**(BigInt(c)-(b?1n:0n))-1n,f=b?-e-1n:0n;if(a>e||a<f)throw new d.IntegerOutOfRangeError({max:e.toString(),min:f.toString(),signed:b,size:c/8,value:a.toString()})}return{dynamic:!1,encoded:d.fromNumber(a,{size:32,signed:b})}}(i,{signed:a,size:Number(b)})}if(h.type.startsWith("bytes"))return function(a,{type:b}){let[,c]=b.split("bytes"),e=d.size(a);if(!c){let b=a;return e%32!=0&&(b=d.padRight(b,32*Math.ceil((a.length-2)/2/32))),{dynamic:!0,encoded:d.concat(d.padLeft(d.fromNumber(e,{size:32})),b)}}if(e!==Number.parseInt(c))throw new k({expectedSize:Number.parseInt(c),value:a});return{dynamic:!1,encoded:d.padRight(a)}}(i,{type:h.type});if("string"===h.type){var q=i;let a=d.fromString(q),b=Math.ceil(d.size(a)/32),c=[];for(let e=0;e<b;e++)c.push(d.padRight(d.slice(a,32*e,(e+1)*32)));return{dynamic:!0,encoded:d.concat(d.padRight(d.fromNumber(d.size(a),{size:32})),...c)}}throw new n(h.type)}({checksumAddress:a,parameter:f[l],value:h[l]}));return i}({checksumAddress:i,parameters:a,values:f}));return 0===o.length?"0x":o}function i(a,b){if(a.length!==b.length)throw new l({expectedLength:a.length,givenLength:b.length});let c=[];for(let d=0;d<a.length;d++){let e=a[d],f=b[d];c.push(i.encode(e,f))}return d.concat(...c)}(i||(i={})).encode=function a(c,f,g=!1){if("address"===c)return b.assert(f),d.padLeft(f.toLowerCase(),32*!!g);if("string"===c)return d.fromString(f);if("bytes"===c)return f;if("bool"===c)return d.padLeft(d.fromBoolean(f),g?32:1);let h=c.match(e.integerRegex);if(h){let[a,b,c="256"]=h,e=Number.parseInt(c)/8;return d.fromNumber(f,{size:g?32:e,signed:"int"===b})}let i=c.match(e.bytesRegex);if(i){let[a,b]=i;if(Number.parseInt(b)!==(f.length-2)/2)throw new k({expectedSize:Number.parseInt(b),value:f});return d.padRight(f,32*!!g)}let j=c.match(e.arrayRegex);if(j&&Array.isArray(f)){let[b,c]=j,e=[];for(let b=0;b<f.length;b++)e.push(a(c,f[b],!0));return 0===e.length?"0x":d.concat(...e)}throw new n(c)},c.BaseError,c.BaseError;class j extends c.BaseError{constructor({expectedLength:a,givenLength:b,type:c}){super(`Array length mismatch for type \`${c}\`. Expected: \`${a}\`. Given: \`${b}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class k extends c.BaseError{constructor({expectedSize:a,value:b}){super(`Size of bytes "${b}" (bytes${d.size(b)}) does not match expected size (bytes${a}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class l extends c.BaseError{constructor({expectedLength:a,givenLength:b}){super(`ABI encoding parameters/values length mismatch.
Expected length (parameters): ${a}
Given length (values): ${b}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class m extends c.BaseError{constructor(a){super(`Value \`${a}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class n extends c.BaseError{constructor(a){super(`Type \`${a}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}var o=c,p=a.i(725728),q=a.i(99465);function r(a){return["string"==typeof a?.name&&{name:"name",type:"string"},a?.version&&{name:"version",type:"string"},"number"==typeof a?.chainId&&{name:"chainId",type:"uint256"},a?.verifyingContract&&{name:"verifyingContract",type:"address"},a?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function s(a){let{domain:b,types:c}=a;return function(a){let{data:b,primaryType:c,types:e}=a,g=function a(b){let{data:c,primaryType:e,types:g}=b,i=[{type:"bytes32"}],j=[function(a){let{primaryType:b,types:c}=a,e=d.fromString(function(a){let{primaryType:b,types:c}=a,d="",e=function a(b,c=new Set){let{primaryType:d,types:e}=b,f=d.match(/^\w*/u),g=f?.[0];if(c.has(g)||void 0===e[g])return c;for(let b of(c.add(g),e[g]))a({primaryType:b.type,types:e},c);return c}({primaryType:b,types:c});for(let a of(e.delete(b),[b,...Array.from(e).sort()]))d+=`${a}(${(c[a]??[]).map(({name:a,type:b})=>`${b} ${a}`).join(",")})`;return d}({primaryType:b,types:c}));return p.keccak256(e)}({primaryType:e,types:g})];for(let b of g[e]??[]){let[d,e]=function b(c){let{types:d,name:e,type:g,value:i}=c;if(void 0!==d[g])return[{type:"bytes32"},p.keccak256(a({data:i,primaryType:g,types:d}))];if("bytes"===g){let a=i.length%2?"0":"";return i=`0x${a+i.slice(2)}`,[{type:"bytes32"},p.keccak256(i,{as:"Hex"})]}if("string"===g)return[{type:"bytes32"},p.keccak256(f.fromString(i),{as:"Hex"})];if(g.lastIndexOf("]")===g.length-1){let a=g.slice(0,g.lastIndexOf("[")),c=i.map(c=>b({name:e,type:a,types:d,value:c}));return[{type:"bytes32"},p.keccak256(h(c.map(([a])=>a),c.map(([,a])=>a)))]}return[{type:g},i]}({types:g,name:b.name,type:b.type,value:c[b.name]});i.push(d),j.push(e)}return h(i,j)}({data:b,primaryType:c,types:e});return p.keccak256(g)}({data:b,primaryType:"EIP712Domain",types:{...c,EIP712Domain:c?.EIP712Domain||r(b)}})}function t(a){let{domain:b,message:c,primaryType:d,types:e}=a,f=(a,b)=>{let c={...b};for(let b of a){let{name:a,type:d}=b;"address"===d&&(c[a]=c[a].toLowerCase())}return c},g=b?f(e.EIP712Domain??r(b),b):{},h=(()=>{if("EIP712Domain"!==d)return e[d]?f(e[d],c):{}})();return q.stringify({domain:g,message:h,primaryType:d,types:e},(a,b)=>"bigint"==typeof b?b.toString():b)}function u(a){try{return!function(a){let{domain:c,message:f,primaryType:g,types:h}=a,i=(a,c)=>{for(let f of a){let{name:a,type:g}=f,j=c[a],k=g.match(e.integerRegex);if(k&&("number"==typeof j||"bigint"==typeof j)){let[,a,b]=k;d.fromNumber(j,{signed:"int"===a,size:Number.parseInt(b??"")/8})}if("address"===g&&"string"==typeof j&&!b.validate(j))throw new b.InvalidAddressError({address:j,cause:new b.InvalidInputError});let l=g.match(e.bytesRegex);if(l){let[,a]=l;if(a&&d.size(j)!==Number.parseInt(a))throw new v({expectedSize:Number.parseInt(a),givenSize:d.size(j)})}let m=h[g];m&&(function(a){if("address"===a||"bool"===a||"string"===a||a.startsWith("bytes")||a.startsWith("uint")||a.startsWith("int"))throw new y({type:a})}(g),i(m,j))}};if(h.EIP712Domain&&c){if("object"!=typeof c)throw new w({domain:c});i(h.EIP712Domain,c)}if("EIP712Domain"!==g)if(h[g])i(h[g],f);else throw new x({primaryType:g,types:h})}(a),!0}catch{return!1}}class v extends o.BaseError{constructor({expectedSize:a,givenSize:b}){super(`Expected bytes${a}, got bytes${b}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TypedData.BytesSizeMismatchError"})}}class w extends o.BaseError{constructor({domain:a}){super(`Invalid domain "${q.stringify(a)}".`,{metaMessages:["Must be a valid EIP-712 domain."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TypedData.InvalidDomainError"})}}class x extends o.BaseError{constructor({primaryType:a,types:b}){super(`Invalid primary type \`${a}\` must be one of \`${JSON.stringify(Object.keys(b))}\`.`,{metaMessages:["Check that the primary type is a key in `types`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TypedData.InvalidPrimaryTypeError"})}}class y extends o.BaseError{constructor({type:a}){super(`Struct type "${a}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TypedData.InvalidStructTypeError"})}}a.s(["extractEip712DomainTypes",()=>r,"hashDomain",()=>s,"serialize",()=>t,"validate",()=>u],367580)}];

//# sourceMappingURL=node_modules_ox__esm_core_TypedData_42b1c35f.js.map