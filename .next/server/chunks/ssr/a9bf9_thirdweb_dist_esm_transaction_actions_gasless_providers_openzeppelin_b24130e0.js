module.exports=[398323,a=>{"use strict";var b=a.i(828961),c=a.i(726654),d=a.i(380167),e=a.i(63408);async function f({account:a,serializableTransaction:c,transaction:d,gasless:f}){let i=(0,b.getContract)({address:f.relayerForwarderAddress,chain:d.chain,client:d.client}),j=await (0,e.readContract)({contract:i,method:"function getNonce(address) view returns (uint256)",params:[a.address]}),[k,l]=await (async()=>{if(!c.to)throw Error("OpenZeppelin transactions must have a 'to' address");if(!c.gas)throw Error("OpenZeppelin transactions must have a 'gas' value");if(!c.data)throw Error("OpenZeppelin transactions must have a 'data' value");if(f.experimentalChainlessSupport){let b={chainid:BigInt(d.chain.id),data:c.data,from:a.address,gas:c.gas,nonce:j,to:c.to,value:0n};return[await a.signTypedData({domain:{name:"GSNv2 Forwarder",verifyingContract:i.address,version:"0.0.1"},message:b,primaryType:"ForwardRequest",types:{ForwardRequest:h}}),b]}let b={data:c.data,from:a.address,gas:c.gas,nonce:j,to:c.to,value:0n};return[await a.signTypedData({domain:{chainId:d.chain.id,name:f.domainName??"GSNv2 Forwarder",verifyingContract:i.address,version:f.domainVersion??"0.0.1"},message:b,primaryType:"ForwardRequest",types:{ForwardRequest:g}}),b]})();return{message:l,messageType:"forward",signature:k}}let g=[{name:"from",type:"address"},{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"gas",type:"uint256"},{name:"nonce",type:"uint256"},{name:"data",type:"bytes"}],h=[{name:"from",type:"address"},{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"gas",type:"uint256"},{name:"nonce",type:"uint256"},{name:"data",type:"bytes"},{name:"chainid",type:"uint256"}];async function i(a){let{message:b,messageType:e,signature:g}=await f(a),h=await fetch(a.gasless.relayerUrl,{body:(0,d.stringify)({forwarderAddress:a.gasless.relayerForwarderAddress,request:b,signature:g,type:e}),method:"POST"});if(!h.ok)throw Error(`Failed to send transaction: ${await h.text()}`);let i=await h.json();if(!i.result)throw Error(`Relay transaction failed: ${i.message}`);let j=JSON.parse(i.result).txHash;if((0,c.isHex)(j))return{chain:a.transaction.chain,client:a.transaction.client,transactionHash:j};throw Error(`Failed to send transaction: ${(0,d.stringify)(i)}`)}a.s(["prepareOpenZeppelinTransaction",()=>f,"relayOpenZeppelinTransaction",()=>i])}];

//# sourceMappingURL=a9bf9_thirdweb_dist_esm_transaction_actions_gasless_providers_openzeppelin_b24130e0.js.map