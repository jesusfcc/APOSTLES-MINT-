{"version":3,"sources":["../../../../node_modules/thirdweb/src/react/web/wallets/in-app/InAppWalletConnectUI.tsx","../../../../node_modules/thirdweb/src/react/web/wallets/in-app/InAppWalletFormUI.tsx"],"sourcesContent":["\"use client\";\nimport type { Chain } from \"../../../../chains/types.js\";\nimport type { ThirdwebClient } from \"../../../../client/client.js\";\nimport type { Wallet } from \"../../../../wallets/interfaces/wallet.js\";\nimport {\n  useSelectionData,\n  useSetSelectionData,\n} from \"../../providers/wallet-ui-states-provider.js\";\nimport type { ConnectLocale } from \"../../ui/ConnectWallet/locale/types.js\";\nimport { useScreenContext } from \"../../ui/ConnectWallet/Modal/screen.js\";\nimport type { ConnectWalletSelectUIState } from \"../shared/ConnectWalletSocialOptions.js\";\nimport { GuestLogin } from \"../shared/GuestLogin.js\";\nimport { LoadingScreen } from \"../shared/LoadingScreen.js\";\nimport { OTPLoginUI } from \"../shared/OTPLoginUI.js\";\nimport { PassKeyLogin } from \"../shared/PassKeyLogin.js\";\nimport { SocialLogin } from \"../shared/SocialLogin.js\";\nimport { InAppWalletFormUIScreen } from \"./InAppWalletFormUI.js\";\nimport { useInAppWalletLocale } from \"./useInAppWalletLocale.js\";\nimport { WalletAuth } from \"./WalletAuth.js\";\n\n/**\n *\n * @internal\n */\nfunction InAppWalletConnectUI(props: {\n  wallet: Wallet<\"inApp\">;\n  done: () => void;\n  goBack?: () => void;\n  size: \"compact\" | \"wide\";\n  meta?: {\n    title?: string;\n    titleIconUrl?: string;\n    showThirdwebBranding?: boolean;\n    termsOfServiceUrl?: string;\n    privacyPolicyUrl?: string;\n  };\n  client: ThirdwebClient;\n  chain: Chain | undefined;\n  connectLocale: ConnectLocale;\n  isLinking?: boolean;\n  walletConnect: { projectId?: string } | undefined;\n}) {\n  const data = useSelectionData();\n  const setSelectionData = useSetSelectionData();\n  const state = data as ConnectWalletSelectUIState;\n  const localeId = props.connectLocale.id;\n  const locale = useInAppWalletLocale(localeId);\n  const { initialScreen } = useScreenContext();\n\n  if (!locale) {\n    return <LoadingScreen />;\n  }\n\n  // if the modal starts out with the wallet's connect ui instead of wallet selector - going back to main screen requires staying on the same component and clearing the selection data\n  // otherwise, we go back to the wallet selector by calling props.goBack\n  const goBackToMain = () => {\n    if (initialScreen === props.wallet) {\n      setSelectionData({});\n    } else {\n      props.goBack?.();\n      setSelectionData({});\n    }\n  };\n\n  const done = () => {\n    props.done();\n    setSelectionData({});\n  };\n\n  const otpUserInfo = state?.emailLogin\n    ? { email: state.emailLogin }\n    : state?.phoneLogin\n      ? { phone: state.phoneLogin }\n      : undefined;\n\n  if (otpUserInfo) {\n    return (\n      <OTPLoginUI\n        chain={props.chain}\n        client={props.client}\n        done={done}\n        goBack={goBackToMain}\n        isLinking={props.isLinking}\n        locale={locale}\n        size={props.size}\n        userInfo={otpUserInfo}\n        wallet={props.wallet}\n      />\n    );\n  }\n\n  if (state?.passkeyLogin) {\n    return (\n      <PassKeyLogin\n        chain={props.chain}\n        client={props.client}\n        done={done}\n        isLinking={props.isLinking}\n        locale={props.connectLocale}\n        onBack={goBackToMain}\n        size={props.size}\n        wallet={props.wallet}\n      />\n    );\n  }\n\n  if (state?.walletLogin) {\n    return (\n      <WalletAuth\n        chain={props.chain}\n        client={props.client}\n        done={done}\n        inAppLocale={locale}\n        isLinking={state.walletLogin.linking}\n        locale={props.connectLocale}\n        meta={props.meta}\n        onBack={goBackToMain || (() => setSelectionData({}))}\n        size={props.size}\n        wallet={props.wallet}\n        walletConnect={props.walletConnect}\n      />\n    );\n  }\n\n  if (state?.socialLogin) {\n    return (\n      <SocialLogin\n        chain={props.chain}\n        client={props.client}\n        connectLocale={props.connectLocale}\n        done={done}\n        goBack={goBackToMain}\n        isLinking={props.isLinking}\n        locale={locale}\n        size={props.size}\n        socialAuth={state.socialLogin.type}\n        state={state}\n        wallet={props.wallet}\n      />\n    );\n  }\n\n  if (state?.guestLogin) {\n    return (\n      <GuestLogin\n        client={props.client}\n        connectLocale={props.connectLocale}\n        done={done}\n        goBack={goBackToMain}\n        locale={locale}\n        size={props.size}\n        state={state}\n        wallet={props.wallet}\n      />\n    );\n  }\n\n  return (\n    <InAppWalletFormUIScreen\n      chain={props.chain}\n      client={props.client}\n      connectLocale={props.connectLocale}\n      done={done}\n      goBack={props.goBack}\n      inAppWalletLocale={locale}\n      isLinking={props.isLinking}\n      meta={props.meta}\n      select={() => {}}\n      size={props.size}\n      wallet={props.wallet}\n    />\n  );\n}\n\nexport default InAppWalletConnectUI;\n","\"use client\";\nimport { useState } from \"react\";\nimport type { Chain } from \"../../../../chains/types.js\";\nimport type { ThirdwebClient } from \"../../../../client/client.js\";\nimport type { Wallet } from \"../../../../wallets/interfaces/wallet.js\";\nimport { iconSize } from \"../../../core/design-system/index.js\";\nimport type { ConnectLocale } from \"../../ui/ConnectWallet/locale/types.js\";\nimport { useScreenContext } from \"../../ui/ConnectWallet/Modal/screen.js\";\nimport { TOS } from \"../../ui/ConnectWallet/Modal/TOS.js\";\nimport { PoweredByThirdweb } from \"../../ui/ConnectWallet/PoweredByTW.js\";\nimport { Container, ModalHeader } from \"../../ui/components/basic.js\";\nimport { Img } from \"../../ui/components/Img.js\";\nimport { ModalTitle } from \"../../ui/components/modalElements.js\";\nimport { Spacer } from \"../../ui/components/Spacer.js\";\nimport { ConnectWalletSocialOptions } from \"../shared/ConnectWalletSocialOptions.js\";\nimport type { InAppWalletLocale } from \"../shared/locale/types.js\";\n\ntype InAppWalletFormUIProps = {\n  select: () => void;\n  inAppWalletLocale: InAppWalletLocale;\n  connectLocale: ConnectLocale;\n  done: () => void;\n  wallet: Wallet<\"inApp\">;\n  goBack?: () => void;\n  size: \"compact\" | \"wide\";\n  meta?: {\n    title?: string;\n    titleIconUrl?: string;\n    showThirdwebBranding?: boolean;\n    termsOfServiceUrl?: string;\n    privacyPolicyUrl?: string;\n    requireApproval?: boolean;\n  };\n  client: ThirdwebClient;\n  chain: Chain | undefined;\n  isLinking?: boolean;\n};\n\n/**\n * @internal\n */\nexport function InAppWalletFormUIScreen(props: InAppWalletFormUIProps) {\n  const isCompact = props.size === \"compact\";\n  const { initialScreen, screen } = useScreenContext();\n  // This is only used when requireApproval is true to accept the TOS\n  const [isApproved, setIsApproved] = useState(false);\n\n  const isInitialScreen =\n    screen === props.wallet && initialScreen === props.wallet;\n\n  const onBack = isInitialScreen && !props.isLinking ? undefined : props.goBack;\n\n  return (\n    <Container\n      animate=\"fadein\"\n      flex=\"column\"\n      fullHeight\n      p=\"lg\"\n      style={{\n        minHeight: \"250px\",\n      }}\n    >\n      {isCompact &&\n        (isInitialScreen ? (\n          <>\n            <ModalHeader\n              leftAligned={!props.isLinking}\n              onBack={onBack}\n              title={\n                <>\n                  {!props.meta?.titleIconUrl ? null : (\n                    <Img\n                      client={props.client}\n                      height={iconSize.md}\n                      src={props.meta?.titleIconUrl}\n                      width={iconSize.md}\n                    />\n                  )}\n                  <ModalTitle>\n                    {props.meta?.title ??\n                      props.inAppWalletLocale.emailLoginScreen.title}\n                  </ModalTitle>\n                </>\n              }\n            />\n            <Spacer y=\"lg\" />\n          </>\n        ) : (\n          <ModalHeader onBack={onBack} title={props.inAppWalletLocale.signIn} />\n        ))}\n      <Container\n        center=\"y\"\n        expand\n        flex=\"column\"\n        p={isCompact ? undefined : \"lg\"}\n      >\n        <ConnectWalletSocialOptions\n          {...props}\n          disabled={props.meta?.requireApproval && !isApproved}\n          locale={props.inAppWalletLocale}\n        />\n      </Container>\n\n      {isCompact &&\n        (props.meta?.showThirdwebBranding !== false ||\n          props.meta?.termsOfServiceUrl ||\n          props.meta?.privacyPolicyUrl) && <Spacer y=\"xl\" />}\n      <Container flex=\"column\" gap=\"lg\">\n        <TOS\n          isApproved={isApproved}\n          locale={props.connectLocale.agreement}\n          onApprove={() => {\n            setIsApproved(!isApproved);\n          }}\n          privacyPolicyUrl={props.meta?.privacyPolicyUrl}\n          requireApproval={props.meta?.requireApproval}\n          termsOfServiceUrl={props.meta?.termsOfServiceUrl}\n        />\n\n        {props.meta?.showThirdwebBranding !== false && <PoweredByThirdweb />}\n      </Container>\n    </Container>\n  );\n}\n"],"names":[],"mappings":"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","ignoreList":[0,1]}