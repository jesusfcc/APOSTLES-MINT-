module.exports=[602478,a=>{"use strict";var b=a.i(828961),c=a.i(662713),d=a.i(63408),e=a.i(777259),f=a.i(282258),g=a.i(942125),h=a.i(497978);function i(a){if(!a||0===a.length)return[];let b=[];for(let{address:c,storageKeys:d}of a){for(let a=0;a<d.length;a++)if(32!==e.size(d[a]))throw new j({storageKey:d[a]});c&&g.assert(c,{strict:!1}),b.push([c,d])}return b}a.i(725728);class j extends h.BaseError{constructor({storageKey:a}){super(`Size for storage key "${a}" is invalid. Expected 32 bytes. Got ${e.size(a)} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccessList.InvalidStorageKeySizeError"})}}var k=a.i(771268),l=h;let m={wei:0,gwei:9,szabo:12,finney:15,ether:18};function n(a,b="wei"){return function(a,b=0){let c=a.toString(),d=c.startsWith("-");d&&(c=c.slice(1));let[e,f]=[(c=c.padStart(b,"0")).slice(0,c.length-b),c.slice(c.length-b)];return f=f.replace(/(0+)$/,""),`${d?"-":""}${e||"0"}${f?`.${f}`:""}`}(a,m.gwei-m[b])}h.BaseError;class o extends l.BaseError{constructor({feeCap:a}={}){super(`The fee cap (\`maxFeePerGas\`/\`maxPriorityFeePerGas\`${a?` = ${n(a)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionEnvelope.FeeCapTooHighError"})}}class p extends l.BaseError{constructor({gasPrice:a}={}){super(`The gas price (\`gasPrice\`${a?` = ${n(a)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionEnvelope.GasPriceTooHighError"})}}class q extends l.BaseError{constructor({chainId:a}){super(void 0!==a?`Chain ID "${a}" is invalid.`:"Chain ID is invalid."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionEnvelope.InvalidChainIdError"})}}l.BaseError;class r extends l.BaseError{constructor({maxPriorityFeePerGas:a,maxFeePerGas:b}={}){super(`The provided tip (\`maxPriorityFeePerGas\`${a?` = ${n(a)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${b?` = ${n(b)} gwei`:""}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionEnvelope.TipAboveFeeCapError"})}}function s(a){let{chainId:b,maxPriorityFeePerGas:c,maxFeePerGas:d,to:e}=a;if(b<=0)throw new q({chainId:b});if(e&&g.assert(e,{strict:!1}),d&&BigInt(d)>2n**256n-1n)throw new o({feeCap:d});if(c&&d&&c>d)throw new r({maxFeePerGas:d,maxPriorityFeePerGas:c})}function t(a){let{chainId:b,gasPrice:c,to:d}=a;if(b<=0)throw new q({chainId:b});if(d&&g.assert(d,{strict:!1}),c&&BigInt(c)>2n**256n-1n)throw new p({gasPrice:c})}var u=a.i(145892);function v(a){let{authorizationList:b}=a;if(b)for(let a of b){let{address:b,chainId:c}=a;if(b&&g.assert(b,{strict:!1}),0>Number(c))throw new q({chainId:c})}s(a)}function w(a){let{chainId:b,gasPrice:c,to:d}=a;if(d&&g.assert(d,{strict:!1}),void 0!==b&&b<=0)throw new q({chainId:b});if(c&&BigInt(c)>2n**256n-1n)throw new p({gasPrice:c})}async function x(a){let{transaction:g,gasPriceOracleAddress:h}=a,j=(0,b.getContract)({address:h||"0x420000000000000000000000000000000000000F",chain:g.chain,client:g.client}),{gasPrice:l,...m}=await (0,c.toSerializableTransaction)({transaction:g}),n=function(a){let{transaction:b}=a,c=function(a){if(void 0!==a.type)return a.type;if(void 0!==a.authorizationList)return"eip7702";if(void 0!==a.maxFeePerGas||void 0!==a.maxPriorityFeePerGas)return"eip1559";if(void 0!==a.gasPrice)return void 0!==a.accessList?"eip2930":"legacy";throw Error("Invalid transaction type")}(b),d=(()=>{if(a.signature)return"v"in a.signature&&void 0!==a.signature.v?f.fromLegacy({r:e.toBigInt(a.signature.r),s:e.toBigInt(a.signature.s),v:Number(a.signature.v)}):{r:e.toBigInt(a.signature.r),s:e.toBigInt(a.signature.s),yParity:a.signature.yParity};if(void 0!==b.v||void 0!==b.yParity){if(void 0===b.r||void 0===b.s)throw Error("Invalid signature provided with transaction");return{r:"bigint"==typeof b.r?b.r:e.toBigInt(b.r),s:"bigint"==typeof b.s?b.s:e.toBigInt(b.s),yParity:void 0!==b.v&&void 0===b.yParity?f.vToYParity(Number(b.v)):Number(b.yParity)}}})();if("eip1559"===c)return s(b),function(a,b={}){let{chainId:c,gas:d,nonce:g,to:h,value:j,maxFeePerGas:l,maxPriorityFeePerGas:m,accessList:n,data:o,input:p}=a;s(a);let q=i(n),r=f.extract(b.signature||a),t=[e.fromNumber(c),g?e.fromNumber(g):"0x",m?e.fromNumber(m):"0x",l?e.fromNumber(l):"0x",d?e.fromNumber(d):"0x",h??"0x",j?e.fromNumber(j):"0x",o??p??"0x",q,...r?f.toTuple(r):[]];return e.concat("0x02",k.fromHex(t))}(b,{signature:d});if("legacy"===c)return w(b),function(a,b={}){let{chainId:c=0,gas:d,data:g,input:h,nonce:i,to:j,value:l,gasPrice:m}=a;w(a);let n=[i?e.fromNumber(i):"0x",m?e.fromNumber(m):"0x",d?e.fromNumber(d):"0x",j??"0x",l?e.fromNumber(l):"0x",g??h??"0x"],o=b.signature?{r:b.signature.r,s:b.signature.s,v:f.yParityToV(b.signature.yParity)}:void 0!==a.r&&void 0!==a.s?{r:a.r,s:a.s,v:a.v}:void 0;if(o){let a=(()=>{if(o.v>=35)return Math.floor((o.v-35)/2)>0?o.v:27+ +(35!==o.v);if(c>0)return 2*c+35+o.v-27;let a=27+ +(27!==o.v);if(o.v!==a)throw new f.InvalidVError({value:o.v});return a})();n=[...n,e.fromNumber(a),0n===o.r?"0x":e.trimLeft(e.fromNumber(o.r)),0n===o.s?"0x":e.trimLeft(e.fromNumber(o.s))]}else c>0&&(n=[...n,e.fromNumber(c),"0x","0x"]);return k.fromHex(n)}(b,{signature:d});if("eip2930"===c)return t(b),function(a,b={}){let{chainId:c,gas:d,data:g,input:h,nonce:j,to:l,value:m,accessList:n,gasPrice:o}=a;t(a);let p=i(n),q=f.extract(b.signature||a),r=[e.fromNumber(c),j?e.fromNumber(j):"0x",o?e.fromNumber(o):"0x",d?e.fromNumber(d):"0x",l??"0x",m?e.fromNumber(m):"0x",g??h??"0x",p,...q?f.toTuple(q):[]];return e.concat("0x01",k.fromHex(r))}(b,{signature:d});if("eip7702"===c)return v(b),function(a,b={}){let{authorizationList:c,chainId:d,gas:g,nonce:h,to:j,value:l,maxFeePerGas:m,maxPriorityFeePerGas:n,accessList:o,data:p,input:q}=a;v(a);let r=i(o),s=u.toTupleList(c),t=f.extract(b.signature||a),w=[e.fromNumber(d),h?e.fromNumber(h):"0x",n?e.fromNumber(n):"0x",m?e.fromNumber(m):"0x",g?e.fromNumber(g):"0x",j??"0x",l?e.fromNumber(l):"0x",p??q??"0x",r,s,...t?f.toTuple(t):[]];return e.concat("0x04",k.fromHex(w))}(b,{signature:d});throw Error("Invalid transaction type")}({transaction:m});return(0,d.readContract)({contract:j,method:"function getL1Fee(bytes memory _data) view returns (uint256)",params:[n]})}a.s(["estimateL1Fee",()=>x],602478)}];

//# sourceMappingURL=node_modules_thirdweb_dist_esm_gas_estimate-l1-fee_b0416cde.js.map