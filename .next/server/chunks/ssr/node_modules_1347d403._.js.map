{"version":3,"sources":["../../../../node_modules/thirdweb/src/utils/config.ts","../../../../node_modules/thirdweb/src/transaction/actions/send-transaction.ts","../../../../node_modules/thirdweb/src/transaction/actions/encode.ts","../../../../node_modules/thirdweb/src/transaction/actions/to-serializable-transaction.ts","../../../../node_modules/thirdweb/src/transaction/transaction-store.ts","../../../../node_modules/thirdweb/src/insight/get-transactions.ts","../../../../node_modules/thirdweb/src/transaction/actions/send-batch-transaction.ts","../../../../node_modules/thirdweb/src/wallets/in-app/core/eip5792/in-app-wallet-calls.ts","../../../../node_modules/thirdweb/src/transaction/actions/send-and-confirm-transaction.ts"],"sourcesContent":["import type { PreparedTransaction } from \"../transaction/prepare-transaction.js\";\nimport type { Account } from \"../wallets/interfaces/wallet.js\";\n\nlet transactionDecorator:\n  | ((args: {\n      account: Account;\n      transaction: PreparedTransaction;\n    }) => Promise<{ account: Account; transaction: PreparedTransaction }>)\n  | null = null;\n\n/**\n * @internal\n */\nexport function setTransactionDecorator(\n  decoratorFunction: (args: {\n    account: Account;\n    transaction: PreparedTransaction;\n  }) => Promise<{ account: Account; transaction: PreparedTransaction }>,\n) {\n  transactionDecorator = decoratorFunction;\n}\n\n/**\n * @internal\n */\nexport function clearTransactionDecorator() {\n  transactionDecorator = null;\n}\n\n/**\n * @internal\n */\nexport function getTransactionDecorator() {\n  return transactionDecorator;\n}\n","import { getTransactionDecorator } from \"../../utils/config.js\";\nimport type { Account } from \"../../wallets/interfaces/wallet.js\";\nimport type { PreparedTransaction } from \"../prepare-transaction.js\";\nimport { addTransactionToStore } from \"../transaction-store.js\";\nimport type { GaslessOptions } from \"./gasless/types.js\";\nimport { toSerializableTransaction } from \"./to-serializable-transaction.js\";\nimport type { WaitForReceiptOptions } from \"./wait-for-tx-receipt.js\";\n\n/** Send transaction options */\nexport interface SendTransactionOptions {\n  /**\n   * The account to send the transaction with\n   */\n  account: Account;\n  /**\n   * The prepared transaction to send\n   */\n  // biome-ignore lint/suspicious/noExplicitAny: library function that accepts any prepared transaction type\n  transaction: PreparedTransaction<any>;\n  /**\n   * Gasless options for the transaction, if applicable\n   */\n  gasless?: GaslessOptions;\n}\n\n/**\n * Sends a transaction using the provided account.\n *\n * You can send a transaction with a [prepared contract call](https://portal.thirdweb.com/references/typescript/v5/prepareContractCall), a [prepared transaction](https://portal.thirdweb.com/references/typescript/v5/prepareTransaction), or using a write [Extension](https://portal.thirdweb.com/typescript/v5/extensions/use).\n * @param options - The options for sending the transaction.\n * @returns A promise that resolves to the transaction result.\n * @throws An error if the transaction reverts.\n * @transaction\n * @example\n *\n * ### Using a prepared contract call\n *\n * ```ts\n * import { sendTransaction, getContract, prepareContractCall } from \"thirdweb\";\n * import { sepolia } from \"thirdweb/chains\";\n *\n * const contract = getContract({\n *   address: \"0x...\",\n *   chain: sepolia,\n *   client,\n * });\n *\n * const transaction = prepareContractCall({\n *   contract,\n *   method: \"function transfer(address to, uint256 value)\",\n *   params: [to, value],\n * });\n *\n * const { transactionHash } = await sendTransaction({\n *  account,\n *  transaction,\n * });\n * ```\n *\n * ### Using a write extension\n *\n * ```ts\n * import { sendTransaction, getContract } from \"thirdweb\";\n * import { sepolia } from \"thirdweb/chains\";\n * import { mintTo } from \"thirdweb/extensions/erc721\";\n *\n * const contract = getContract({\n *   address: \"0x...\",\n *   chain: sepolia,\n *   client,\n * });\n *\n * const transaction = mintTo({\n *   contract,\n *   to: \"0x...\",\n *   nft: {\n *     name: \"NFT Name\",\n *     description: \"NFT Description\",\n *     image: \"https://example.com/image.png\",\n *   },\n * });\n *\n * const { transactionHash } = await sendTransaction({\n *  account,\n *  transaction,\n * });\n * ```\n *\n * ### Using a prepared transaction\n *\n * ```ts\n * import { sendTransaction, getContract, prepareTransaction } from \"thirdweb\";\n * import { sepolia } from \"thirdweb/chains\";\n *\n * const contract = getContract({\n *   address: \"0x...\",\n *   chain: sepolia,\n *   client,\n * });\n *\n * const transaction = prepareTransaction({\n *   contract,\n *   to: \"0x...\",\n *   value: toWei(\"0.1\"),\n * });\n *\n * const { transactionHash } = await sendTransaction({\n *  account,\n *  transaction,\n * });\n * ```\n *\n * ### Send an EIP-7702 Transaction\n *\n * **Note: This feature is in beta and is subject to breaking changes**\n *\n * ```ts\n * import { sendTransaction, prepareTransaction, signAuthorization } from \"thirdweb\";\n * import { sepolia } from \"thirdweb/chains\";\n *\n * const authorization = await signAuthorization({\n *   request: {\n *     address: \"0x...\",\n *     chainId: 1,\n *     nonce: 0n,\n *   },\n *   account: myAccount,\n * });\n *\n * const transaction = prepareTransaction({\n *   chain: sepolia,\n *   client: client,\n *   to: \"0x...\",\n *   value: 0n,\n *   authorizationList: [authorization],\n * });\n *\n * const { transactionHash } = await sendTransaction({\n *  account,\n *  transaction,\n * });\n * ```\n *\n * ### Gasless usage with [thirdweb Engine](https://portal.thirdweb.com/engine)\n * ```ts\n * const { transactionHash } = await sendTransaction({\n *  account,\n *  transaction,\n *  gasless: {\n *    provider: \"engine\",\n *    relayerUrl: \"https://thirdweb.engine-***.thirdweb.com/relayer/***\",\n *    relayerForwarderAddress: \"0x...\",\n *  }\n * });\n * ```\n *\n * ### Gasless usage with OpenZeppelin\n * ```ts\n * const { transactionHash } = await sendTransaction({\n *  account,\n *  transaction,\n *  gasless: {\n *    provider: \"openzeppelin\",\n *    relayerUrl: \"https://...\",\n *    relayerForwarderAddress: \"0x...\",\n *  }\n * });\n * ```\n */\nexport async function sendTransaction(\n  options: SendTransactionOptions,\n): Promise<WaitForReceiptOptions> {\n  let { account, transaction, gasless } = options;\n\n  const decorator = getTransactionDecorator();\n  if (decorator) {\n    const { account: decoratedAccount, transaction: decoratedTransaction } =\n      await decorator({ account, transaction });\n    account = decoratedAccount;\n    transaction = decoratedTransaction;\n  }\n\n  if (account.onTransactionRequested) {\n    await account.onTransactionRequested(transaction);\n  }\n\n  // if zksync transaction params are set, send with eip712\n  if (transaction.eip712) {\n    const { sendEip712Transaction } = await import(\n      \"./zksync/send-eip712-transaction.js\"\n    );\n    return sendEip712Transaction({\n      account,\n      transaction,\n    });\n  }\n\n  const serializableTransaction = await toSerializableTransaction({\n    from: account,\n    transaction: transaction,\n  });\n  // branch for gasless transactions\n  if (gasless) {\n    // lazy load the gasless tx function because it's only needed for gasless transactions\n    const { sendGaslessTransaction } = await import(\n      \"./gasless/send-gasless-transaction.js\"\n    );\n    return sendGaslessTransaction({\n      account,\n      gasless,\n      serializableTransaction,\n      transaction,\n    });\n  }\n\n  const result = await account.sendTransaction(serializableTransaction);\n  // Store the transaction\n  addTransactionToStore({\n    address: account.address,\n    chainId: transaction.chain.id,\n    transactionHash: result.transactionHash,\n  });\n  return { ...result, chain: transaction.chain, client: transaction.client };\n}\n","import type { Abi, AbiFunction } from \"abitype\";\nimport type { Hex } from \"../../utils/encoding/hex.js\";\nimport type { PreparedTransaction } from \"../prepare-transaction.js\";\n\nconst encodeWeakMap = new WeakMap<\n  PreparedTransaction<Abi, AbiFunction>,\n  Promise<Hex>\n>();\n\n/**\n * Encodes a transaction object into a hexadecimal string representation of the encoded data.\n * @param transaction - The transaction object to encode.\n * @returns A promise that resolves to the encoded data as a hexadecimal string.\n * @transaction\n * @example\n * ```ts\n * import { encode } from \"thirdweb\";\n * const encodedData = await encode(transaction);\n * ```\n */\nexport async function encode<abi extends Abi, abiFn extends AbiFunction>(\n  transaction: PreparedTransaction<abi, abiFn>,\n): Promise<Hex> {\n  if (encodeWeakMap.has(transaction)) {\n    // biome-ignore lint/style/noNonNullAssertion: the `has` above ensures that this will always be set\n    return encodeWeakMap.get(transaction)!;\n  }\n  const promise = (async () => {\n    const [data, extraData, { concatHex }] = await Promise.all([\n      getDataFromTx(transaction),\n      getExtraCallDataFromTx(transaction),\n      import(\"../../utils/encoding/helpers/concat-hex.js\"),\n    ]);\n    if (extraData) {\n      return concatHex([data, extraData]);\n    }\n    return data;\n  })();\n  encodeWeakMap.set(transaction, promise);\n  return promise;\n}\n\n/**\n * Get the transaction.data (from a PreparedTransaction)\n * If the transaction does not have `data`, we default to \"0x\"\n * @internal\n */\nexport async function getDataFromTx<abi extends Abi, abiFn extends AbiFunction>(\n  transaction: PreparedTransaction<abi, abiFn>,\n): Promise<Hex> {\n  if (transaction.data === undefined) {\n    return \"0x\";\n  }\n  if (typeof transaction.data === \"function\") {\n    const data = await transaction.data();\n    if (!data) {\n      return \"0x\";\n    }\n    return data;\n  }\n  return transaction.data;\n}\n\n/**\n * Get the extraCallData from a PreparedTransaction\n * @internal\n * If extraCallData is \"0x\", we will return `undefined`\n * to simplify the code, since concatenating \"0x\" doesn't do anything\n */\nexport async function getExtraCallDataFromTx<\n  abi extends Abi,\n  abiFn extends AbiFunction,\n>(transaction: PreparedTransaction<abi, abiFn>): Promise<Hex | undefined> {\n  if (!transaction.extraCallData) {\n    return undefined;\n  }\n  if (typeof transaction.extraCallData === \"function\") {\n    const extraData = await transaction.extraCallData();\n    if (!extraData) return undefined;\n    if (!extraData.startsWith(\"0x\")) {\n      throw Error(\"Invalid extra calldata - must be a hex string\");\n    }\n    if (extraData === \"0x\") {\n      return undefined;\n    }\n    return extraData;\n  }\n  if (!transaction.extraCallData.startsWith(\"0x\")) {\n    throw Error(\"Invalid extra calldata - must be a hex string\");\n  }\n  return transaction.extraCallData;\n}\n","import { getGasOverridesForTransaction } from \"../../gas/fee-data.js\";\nimport { getRpcClient } from \"../../rpc/rpc.js\";\nimport { getAddress } from \"../../utils/address.js\";\nimport { isZkSyncChain } from \"../../utils/any-evm/zksync/isZkSyncChain.js\";\nimport { resolvePromisedValue } from \"../../utils/promise/resolve-promised-value.js\";\nimport type { Account } from \"../../wallets/interfaces/wallet.js\";\nimport type { PreparedTransaction } from \"../prepare-transaction.js\";\nimport type { SerializableTransaction } from \"../serialize-transaction.js\";\nimport { encode } from \"./encode.js\";\nimport { estimateGas } from \"./estimate-gas.js\";\n\nexport type ToSerializableTransactionOptions = {\n  /**\n   * The transaction to convert to a serializable transaction.\n   */\n  // biome-ignore lint/suspicious/noExplicitAny: TODO: fix later\n  transaction: PreparedTransaction<any>;\n  /**\n   * The from address or account to use for gas estimation and authorization signing.\n   */\n  from?: string | Account;\n};\n\n/**\n * Converts a prepared transaction to a transaction with populated options.\n * @param options - The transaction and additional options for conversion\n * @returns A serializable transaction for inspection or submission to an account.\n *\n *  For easier transaction sending, {@see sendTransaction}\n * @example\n * ```ts\n * import { prepareTransaction, toSerializableTransaction } from \"thirdweb\";\n *\n * const transaction = await prepareTransaction({\n *   transaction: {\n *     to: \"0x...\",\n *     value: 100,\n *   },\n * });\n * const finalTx = await toSerializableTransaction({\n *   transaction,\n * });\n *\n * account.sendTransaction(finalTx);\n * ```\n * @transaction\n */\nexport async function toSerializableTransaction(\n  options: ToSerializableTransactionOptions,\n) {\n  // zk chains require a different rpc method for gas estimation and gas fees\n  const isZkSync = await isZkSyncChain(options.transaction.chain);\n  if (isZkSync) {\n    const { getZkGasFees } = await import(\n      \"./zksync/send-eip712-transaction.js\"\n    );\n    const { gas, maxFeePerGas, maxPriorityFeePerGas } = await getZkGasFees({\n      from:\n        typeof options.from === \"string\" // Is this just an address?\n          ? getAddress(options.from)\n          : options.from !== undefined // Is this an account?\n            ? getAddress(options.from.address)\n            : undefined,\n      transaction: options.transaction,\n    });\n    // passing these values here will avoid re-fetching them below\n    options.transaction = {\n      ...options.transaction,\n      gas,\n      maxFeePerGas,\n      maxPriorityFeePerGas,\n    };\n  }\n\n  const rpcRequest = getRpcClient(options.transaction);\n  const chainId = options.transaction.chain.id;\n  const from = options.from;\n  let [\n    data,\n    nonce,\n    gas,\n    feeData,\n    to,\n    accessList,\n    value,\n    authorizationList,\n    type,\n  ] = await Promise.all([\n    encode(options.transaction),\n    (async () => {\n      // if the user has specified a nonce, use that\n      const resolvedNonce = await resolvePromisedValue(\n        options.transaction.nonce,\n      );\n      if (resolvedNonce !== undefined) {\n        return resolvedNonce;\n      }\n\n      return from // otherwise get the next nonce (import the method to do so)\n        ? await import(\"../../rpc/actions/eth_getTransactionCount.js\").then(\n            ({ eth_getTransactionCount }) =>\n              eth_getTransactionCount(rpcRequest, {\n                address:\n                  typeof from === \"string\"\n                    ? getAddress(from)\n                    : getAddress(from.address),\n                blockTag: \"pending\",\n              }),\n          )\n        : undefined;\n    })(),\n    // takes the same options as the sendTransaction function thankfully!\n    estimateGas({\n      ...options,\n      from: options.from,\n    }),\n    getGasOverridesForTransaction(options.transaction),\n    resolvePromisedValue(options.transaction.to),\n    resolvePromisedValue(options.transaction.accessList),\n    resolvePromisedValue(options.transaction.value),\n    resolvePromisedValue(options.transaction.authorizationList),\n    resolvePromisedValue(options.transaction.type),\n  ]);\n\n  const extraGas = await resolvePromisedValue(options.transaction.extraGas);\n  if (extraGas) {\n    gas += extraGas;\n  }\n\n  return {\n    accessList,\n    authorizationList,\n    chainId,\n    data,\n    gas,\n    nonce,\n    to,\n    type,\n    value,\n    ...feeData,\n  } satisfies SerializableTransaction;\n}\n","import type { Chain } from \"../chains/types.js\";\nimport type { ThirdwebClient } from \"../client/client.js\";\nimport { getTransactions } from \"../insight/get-transactions.js\";\nimport { createStore, type Store } from \"../reactive/store.js\";\nimport type { Hex } from \"../utils/encoding/hex.js\";\n\nexport type StoredTransaction = {\n  transactionHash: Hex;\n  chainId: number;\n  receipt?: {\n    status: \"success\" | \"failed\";\n    to: string;\n  };\n  decoded?: {\n    name: string;\n    signature: string;\n    inputs?: {\n      [key: string]: unknown;\n    };\n  };\n};\n\nconst transactionsByAddress = new Map<string, Store<StoredTransaction[]>>();\n\n/**\n * Retrieve the transaction store for a given address.\n * @param address - The address to retrieve the transaction store for.\n * @returns A store of transactions for the given account to subscribe to.\n * @transaction\n * @example\n * ```ts\n * import { getTransactionStore } from \"thirdweb/transaction\";\n *\n * const store = getTransactionStore(\"0x...\");\n * store.subscribe((transactions) => {\n *   console.log(transactions);\n * });\n * ```\n */\nexport function getTransactionStore(\n  address: string,\n): Store<StoredTransaction[]> {\n  const existingStore = transactionsByAddress.get(address);\n  if (existingStore) {\n    return existingStore;\n  }\n\n  const newStore = createStore<StoredTransaction[]>([]);\n  transactionsByAddress.set(address, newStore);\n\n  return newStore;\n}\n\n/**\n * @internal\n */\nexport function addTransactionToStore(options: {\n  address: string;\n  transactionHash: Hex;\n  chainId: number;\n}) {\n  const { address, transactionHash, chainId } = options;\n  const tranasctionStore = getTransactionStore(address);\n\n  tranasctionStore.setValue([\n    ...tranasctionStore.getValue(),\n    { chainId, transactionHash },\n  ]);\n\n  transactionsByAddress.set(address, tranasctionStore);\n}\n\n/**\n * @internal for now\n */\nexport async function getPastTransactions(options: {\n  walletAddress: string;\n  chain: Chain;\n  client: ThirdwebClient;\n}): Promise<StoredTransaction[]> {\n  const { walletAddress, chain, client } = options;\n  const oneMonthsAgoInSeconds = Math.floor(\n    (Date.now() - 1 * 30 * 24 * 60 * 60 * 1000) / 1000,\n  );\n  const result = await getTransactions({\n    chains: [chain],\n    client,\n    queryOptions: {\n      filter_block_timestamp_gte: oneMonthsAgoInSeconds,\n      limit: 20,\n      decode: true,\n    },\n    walletAddress,\n  });\n  return result.map((tx) => ({\n    chainId:\n      typeof tx.chain_id === \"string\"\n        ? Number(tx.chain_id)\n        : (tx.chain_id as number),\n    receipt: {\n      status: tx.status === 0 ? \"failed\" : \"success\",\n      to: tx.to_address,\n    },\n    transactionHash: tx.hash as Hex,\n    decoded: tx.decoded,\n  }));\n}\n","import type {\n  GetV1WalletsByWalletAddressTransactionsData,\n  GetV1WalletsByWalletAddressTransactionsResponse,\n} from \"@thirdweb-dev/insight\";\nimport type { Chain } from \"../chains/types.js\";\nimport type { ThirdwebClient } from \"../client/client.js\";\n\nexport type Transaction = NonNullable<\n  GetV1WalletsByWalletAddressTransactionsResponse[\"data\"]\n>[number];\n\n/**\n * Get transactions for a wallet\n * @example\n * ```ts\n * import { Insight } from \"thirdweb\";\n *\n * const transactions = await Insight.getTransactions({\n *   client,\n *   walletAddress: \"0x1234567890123456789012345678901234567890\",\n *   chains: [sepolia],\n * });\n * ```\n * @insight\n */\nexport async function getTransactions(args: {\n  client: ThirdwebClient;\n  walletAddress: string;\n  chains: Chain[];\n  queryOptions?: GetV1WalletsByWalletAddressTransactionsData[\"query\"];\n}): Promise<Transaction[]> {\n  const [\n    { getV1WalletsByWalletAddressTransactions },\n    { getThirdwebDomains },\n    { getClientFetch },\n    { assertInsightEnabled },\n    { stringify },\n  ] = await Promise.all([\n    import(\"@thirdweb-dev/insight\"),\n    import(\"../utils/domains.js\"),\n    import(\"../utils/fetch.js\"),\n    import(\"./common.js\"),\n    import(\"../utils/json.js\"),\n  ]);\n\n  await assertInsightEnabled(args.chains);\n  const threeMonthsAgoInSeconds = Math.floor(\n    (Date.now() - 3 * 30 * 24 * 60 * 60 * 1000) / 1000,\n  );\n  const { client, walletAddress, chains, queryOptions } = args;\n\n  const defaultQueryOptions: GetV1WalletsByWalletAddressTransactionsData[\"query\"] =\n    {\n      chain: chains.map((chain) => chain.id),\n      filter_block_timestamp_gte: threeMonthsAgoInSeconds,\n      limit: 100,\n    };\n\n  const result = await getV1WalletsByWalletAddressTransactions({\n    baseUrl: `https://${getThirdwebDomains().insight}`,\n    fetch: getClientFetch(client),\n    path: {\n      wallet_address: walletAddress,\n    },\n    query: {\n      ...defaultQueryOptions,\n      ...queryOptions,\n    },\n  });\n  if (result.error) {\n    throw new Error(\n      `${result.response.status} ${result.response.statusText} - ${result.error ? stringify(result.error) : \"Unknown error\"}`,\n    );\n  }\n  return result.data.data || [];\n}\n","import { resolvePromisedValue } from \"../../utils/promise/resolve-promised-value.js\";\nimport type {\n  Account,\n  SendTransactionOption,\n} from \"../../wallets/interfaces/wallet.js\";\nimport { encode } from \"./encode.js\";\nimport type { SendTransactionOptions } from \"./send-transaction.js\";\nimport type { WaitForReceiptOptions } from \"./wait-for-tx-receipt.js\";\n\nexport type SendBatchTransactionOptions = {\n  transactions: SendTransactionOptions[\"transaction\"][];\n  account: Account;\n};\n\n/**\n * Sends a batch transaction using the provided options.\n * @param options - The options for sending the batch transaction.\n * @returns A promise that resolves to the options for waiting for the receipt of the first transaction in the batch.\n * @throws An error if the account is not connected, there are no transactions to send, or the account does not implement sendBatchTransaction.\n * @transaction\n * @example\n * ```ts\n * import { sendBatchTransaction } from \"thirdweb\";\n *\n * const waitForReceiptOptions = await sendBatchTransaction({\n *  account,\n *  transactions\n * });\n * ```\n */\nexport async function sendBatchTransaction(\n  options: SendBatchTransactionOptions,\n): Promise<WaitForReceiptOptions> {\n  const { account, transactions } = options;\n  if (!account) {\n    throw new Error(\"not connected\");\n  }\n  if (transactions.length === 0) {\n    throw new Error(\"No transactions to send\");\n  }\n  const firstTx = transactions[0];\n  if (!firstTx) {\n    throw new Error(\"No transactions to send\");\n  }\n  if (account.sendBatchTransaction) {\n    const serializedTxs: SendTransactionOption[] = await Promise.all(\n      transactions.map(async (tx) => {\n        // no need to estimate gas for these, gas will be estimated on the entire batch\n        const [data, to, accessList, value] = await Promise.all([\n          encode(tx),\n          resolvePromisedValue(tx.to),\n          resolvePromisedValue(tx.accessList),\n          resolvePromisedValue(tx.value),\n        ]);\n        const serializedTx: SendTransactionOption = {\n          accessList,\n          chainId: tx.chain.id,\n          data,\n          to,\n          value,\n        };\n        return serializedTx;\n      }),\n    );\n    const result = await account.sendBatchTransaction(serializedTxs);\n    return {\n      ...result,\n      chain: firstTx.chain,\n      client: firstTx.client,\n    };\n  }\n  throw new Error(\"Account doesn't implement sendBatchTransaction\");\n}\n","import type { Chain } from \"../../../../chains/types.js\";\nimport type { ThirdwebClient } from \"../../../../client/client.js\";\nimport { eth_getTransactionReceipt } from \"../../../../rpc/actions/eth_getTransactionReceipt.js\";\nimport { getRpcClient } from \"../../../../rpc/rpc.js\";\nimport { sendAndConfirmTransaction } from \"../../../../transaction/actions/send-and-confirm-transaction.js\";\nimport { sendBatchTransaction } from \"../../../../transaction/actions/send-batch-transaction.js\";\nimport type { SendTransactionOptions } from \"../../../../transaction/actions/send-transaction.js\";\nimport { LruMap } from \"../../../../utils/caching/lru.js\";\nimport type { Hex } from \"../../../../utils/encoding/hex.js\";\nimport { randomBytesHex } from \"../../../../utils/random.js\";\nimport type { PreparedSendCall } from \"../../../eip5792/send-calls.js\";\nimport type {\n  GetCallsStatusResponse,\n  WalletCallReceipt,\n} from \"../../../eip5792/types.js\";\nimport type { Account } from \"../../../interfaces/wallet.js\";\n\nconst bundlesToTransactions = new LruMap<Hex[]>(1000);\n\n/**\n * @internal\n */\nexport async function inAppWalletSendCalls(args: {\n  account: Account;\n  calls: PreparedSendCall[];\n  chain: Chain;\n}): Promise<string> {\n  const { account, calls } = args;\n\n  const transactions: SendTransactionOptions[\"transaction\"][] = calls.map(\n    (call) => ({\n      ...call,\n      chain: args.chain,\n    }),\n  );\n\n  const hashes: Hex[] = [];\n  const id = randomBytesHex(65);\n  bundlesToTransactions.set(id, hashes);\n  if (account.sendBatchTransaction) {\n    const receipt = await sendBatchTransaction({\n      account,\n      transactions,\n    });\n    hashes.push(receipt.transactionHash);\n    bundlesToTransactions.set(id, hashes);\n  } else {\n    for (const tx of transactions) {\n      const receipt = await sendAndConfirmTransaction({\n        account,\n        transaction: tx,\n      });\n      hashes.push(receipt.transactionHash);\n      bundlesToTransactions.set(id, hashes);\n    }\n  }\n\n  return id;\n}\n\n/**\n * @internal\n */\nexport async function inAppWalletGetCallsStatus(args: {\n  chain: Chain;\n  client: ThirdwebClient;\n  id: string;\n}): Promise<GetCallsStatusResponse> {\n  const { chain, client, id } = args;\n\n  const bundle = bundlesToTransactions.get(id);\n  if (!bundle) {\n    throw new Error(\"Failed to get calls status, unknown bundle id\");\n  }\n\n  const request = getRpcClient({ chain, client });\n  let status: \"pending\" | \"success\" | \"failure\" = \"success\";\n  const receipts: (WalletCallReceipt<bigint, \"success\" | \"reverted\"> | null)[] =\n    await Promise.all(\n      bundle.map((hash) =>\n        eth_getTransactionReceipt(request, { hash })\n          .then((receipt) => ({\n            blockHash: receipt.blockHash,\n            blockNumber: receipt.blockNumber,\n            gasUsed: receipt.gasUsed,\n            logs: receipt.logs.map((l) => ({\n              address: l.address,\n              data: l.data,\n              topics: l.topics,\n            })),\n            status: receipt.status,\n            transactionHash: receipt.transactionHash,\n          }))\n          .catch(() => {\n            status = \"pending\";\n            return null; // Return null if there's an error to filter out later\n          }),\n      ),\n    );\n\n  return {\n    atomic: false,\n    chainId: chain.id,\n    id,\n    receipts: receipts.filter((r) => r !== null),\n    status,\n    statusCode: 200,\n    version: \"2.0.0\",\n  };\n}\n","import type { TransactionReceipt } from \"../types.js\";\nimport {\n  type SendTransactionOptions,\n  sendTransaction,\n} from \"./send-transaction.js\";\nimport { waitForReceipt } from \"./wait-for-tx-receipt.js\";\n\n/**\n * Sends a transaction using the provided wallet.\n * @param options - The options for sending the transaction.\n * @returns A promise that resolves to the confirmed transaction receipt.\n * @throws An error if the wallet is not connected.\n * @transaction\n * @example\n *\n * ### Basic usage\n * ```ts\n * import { sendAndConfirmTransaction } from \"thirdweb\";\n *\n * const transactionReceipt = await sendAndConfirmTransaction({\n *  account,\n *  transaction\n * });\n * ```\n *\n * ### Gasless usage with [thirdweb Engine](https://portal.thirdweb.com/engine)\n * ```ts\n * const transactionReceipt = await sendAndConfirmTransaction({\n *  account,\n *  transaction,\n *  gasless: {\n *    provider: \"engine\",\n *    relayerUrl: \"https://thirdweb.engine-***.thirdweb.com/relayer/***\",\n *    relayerForwarderAddress: \"0x...\",\n *  }\n * });\n * ```\n *\n * ### Gasless usage with OpenZeppelin\n * ```ts\n * const transactionReceipt = await sendAndConfirmTransaction({\n *  account,\n *  transaction,\n *  gasless: {\n *    provider: \"openzeppelin\",\n *    relayerUrl: \"https://...\",\n *    relayerForwarderAddress: \"0x...\",\n *  }\n * });\n * ```\n */\nexport async function sendAndConfirmTransaction(\n  options: SendTransactionOptions,\n): Promise<TransactionReceipt> {\n  const submittedTx = await sendTransaction(options);\n  return waitForReceipt(submittedTx);\n}\n"],"names":[],"mappings":"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","ignoreList":[0,1,4,5,7,8]}