module.exports=[323390,a=>{"use strict";var b=a.i(762029),c=a.i(908281),d=a.i(828961),e=a.i(770529),f=a.i(726654),g=a.i(694801),h=a.i(380167),i=a.i(63408);async function j({account:a,serializableTransaction:f,transaction:h,gasless:j}){let k=(0,d.getContract)({address:j.relayerForwarderAddress,chain:h.chain,client:h.client}),l=await (0,i.readContract)({contract:k,method:"function getNonce(address,uint256) view returns (uint256)",params:[a.address,0n]}),m=Math.floor(Date.now()/1e3)+(j.deadlineSeconds??3600),n={batchId:0n,batchNonce:l,data:f.data,deadline:m,from:a.address,to:f.to,token:c.ZERO_ADDRESS,tokenGasPrice:0n,txGas:f.gas};if(!n.to)throw Error("Cannot send a transaction without a `to` address");if(!n.txGas)throw Error("Cannot send a transaction without a `gas` value");if(!n.data)throw Error("Cannot send a transaction without a `data` value");let o=(0,b.encodeAbiParameters)([{type:"address"},{type:"address"},{type:"address"},{type:"uint256"},{type:"uint256"},{type:"uint256"},{type:"uint256"},{type:"bytes32"}],[(0,e.getAddress)(n.from),(0,e.getAddress)(n.to),(0,e.getAddress)(n.token),n.txGas,n.tokenGasPrice,n.batchId,n.batchNonce,(0,g.keccak256)(n.data)]);return[n,await a.signMessage({message:o})]}async function k(a){let[b,c]=await j(a),d=await fetch("https://api.biconomy.io/api/v2/meta-tx/native",{body:(0,h.stringify)({apiId:a.gasless.apiId,from:b.from,gasLimit:b.txGas,params:[b,c],to:b.to}),headers:{"Content-Type":"application/json;charset=utf-8","x-api-key":a.gasless.apiKey},method:"POST"});if(!d.ok)throw Error(`Failed to send transaction: ${await d.text()}`);let e=await d.json(),g=e.txHash;if((0,f.isHex)(g))return{chain:a.transaction.chain,client:a.transaction.client,transactionHash:g};throw Error(`Failed to send transaction: ${(0,h.stringify)(e)}`)}a.s(["prepareBiconomyTransaction",()=>j,"relayBiconomyTransaction",()=>k])}];

//# sourceMappingURL=a9bf9_thirdweb_dist_esm_transaction_actions_gasless_providers_biconomy_76b636c0.js.map