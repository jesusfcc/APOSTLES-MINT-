module.exports=[205780,a=>{"use strict";var b=a.i(117407),c=a.i(337855);async function d(a){let{wallet:d,walletConnectClient:g,event:h,chains:i,onConnect:j}=a,k=d.getAccount();if(!k)throw Error("No account connected to provided wallet");let l=h.verifyContext?.verified?.origin;l&&await e({origin:l,walletConnectClient:g});let m=await f({account:k,chains:i,sessionProposal:h,walletConnectClient:g});await (0,c.saveSession)(m),d.subscribe("disconnect",()=>{(0,b.disconnectWalletConnectSession)({session:m,walletConnectClient:g})}),j?.(m)}async function e({walletConnectClient:a,origin:d}){for(let e of(await (0,c.getSessions)()))e.origin===d&&await (0,b.disconnectWalletConnectSession)({session:e,walletConnectClient:a})}async function f({account:a,walletConnectClient:b,sessionProposal:c,chains:d}){if(!c.params.requiredNamespaces?.eip155&&!c.params.optionalNamespaces?.eip155)throw Error("No EIP155 namespace found in Wallet Connect session proposal");let e={chains:[...Array.from(new Set([...c.params.requiredNamespaces?.eip155?.chains?.map(b=>`${b}:${a.address}`)??[],...c.params.optionalNamespaces?.eip155?.chains?.map(b=>`${b}:${a.address}`)??[],...d?.map(b=>`eip155:${b.id}:${a.address}`)??[]]))],events:[...c.params.requiredNamespaces?.eip155?.events??[],...c.params.optionalNamespaces?.eip155?.events??[]],methods:[...c.params.requiredNamespaces?.eip155?.methods??[],...c.params.optionalNamespaces?.eip155?.methods??[]]},f=await b.approve({id:c.id,namespaces:{eip155:{accounts:e.chains,events:e.events,methods:e.methods}}}),g=await f.acknowledged();return{origin:c.verifyContext?.verified?.origin||"Unknown origin",topic:g.topic}}a.s(["acceptSessionProposal",()=>f,"disconnectExistingSessions",()=>e,"onSessionProposal",()=>d])}];

//# sourceMappingURL=a9bf9_thirdweb_dist_esm_wallets_wallet-connect_receiver_session-proposal_a0b79033.js.map