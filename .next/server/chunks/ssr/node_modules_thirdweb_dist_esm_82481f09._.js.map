{"version":3,"sources":["../../../../node_modules/thirdweb/src/transaction/actions/encode.ts","../../../../node_modules/thirdweb/src/transaction/actions/to-serializable-transaction.ts","../../../../node_modules/thirdweb/src/utils/encoding/helpers/concat-hex.ts","../../../../node_modules/thirdweb/src/rpc/actions/eth_sendRawTransaction.ts","../../../../node_modules/thirdweb/src/transaction/actions/zksync/send-eip712-transaction.ts","../../../../node_modules/thirdweb/src/utils/bigint.ts","../../../../node_modules/viem/zksync/constants/number.ts","../../../../node_modules/viem/zksync/errors/bytecode.ts","../../../../node_modules/viem/zksync/utils/hashBytecode.ts","../../../../node_modules/thirdweb/src/transaction/actions/zksync/getEip721Domain.ts"],"sourcesContent":["import type { Abi, AbiFunction } from \"abitype\";\nimport type { Hex } from \"../../utils/encoding/hex.js\";\nimport type { PreparedTransaction } from \"../prepare-transaction.js\";\n\nconst encodeWeakMap = new WeakMap<\n  PreparedTransaction<Abi, AbiFunction>,\n  Promise<Hex>\n>();\n\n/**\n * Encodes a transaction object into a hexadecimal string representation of the encoded data.\n * @param transaction - The transaction object to encode.\n * @returns A promise that resolves to the encoded data as a hexadecimal string.\n * @transaction\n * @example\n * ```ts\n * import { encode } from \"thirdweb\";\n * const encodedData = await encode(transaction);\n * ```\n */\nexport async function encode<abi extends Abi, abiFn extends AbiFunction>(\n  transaction: PreparedTransaction<abi, abiFn>,\n): Promise<Hex> {\n  if (encodeWeakMap.has(transaction)) {\n    // biome-ignore lint/style/noNonNullAssertion: the `has` above ensures that this will always be set\n    return encodeWeakMap.get(transaction)!;\n  }\n  const promise = (async () => {\n    const [data, extraData, { concatHex }] = await Promise.all([\n      getDataFromTx(transaction),\n      getExtraCallDataFromTx(transaction),\n      import(\"../../utils/encoding/helpers/concat-hex.js\"),\n    ]);\n    if (extraData) {\n      return concatHex([data, extraData]);\n    }\n    return data;\n  })();\n  encodeWeakMap.set(transaction, promise);\n  return promise;\n}\n\n/**\n * Get the transaction.data (from a PreparedTransaction)\n * If the transaction does not have `data`, we default to \"0x\"\n * @internal\n */\nexport async function getDataFromTx<abi extends Abi, abiFn extends AbiFunction>(\n  transaction: PreparedTransaction<abi, abiFn>,\n): Promise<Hex> {\n  if (transaction.data === undefined) {\n    return \"0x\";\n  }\n  if (typeof transaction.data === \"function\") {\n    const data = await transaction.data();\n    if (!data) {\n      return \"0x\";\n    }\n    return data;\n  }\n  return transaction.data;\n}\n\n/**\n * Get the extraCallData from a PreparedTransaction\n * @internal\n * If extraCallData is \"0x\", we will return `undefined`\n * to simplify the code, since concatenating \"0x\" doesn't do anything\n */\nexport async function getExtraCallDataFromTx<\n  abi extends Abi,\n  abiFn extends AbiFunction,\n>(transaction: PreparedTransaction<abi, abiFn>): Promise<Hex | undefined> {\n  if (!transaction.extraCallData) {\n    return undefined;\n  }\n  if (typeof transaction.extraCallData === \"function\") {\n    const extraData = await transaction.extraCallData();\n    if (!extraData) return undefined;\n    if (!extraData.startsWith(\"0x\")) {\n      throw Error(\"Invalid extra calldata - must be a hex string\");\n    }\n    if (extraData === \"0x\") {\n      return undefined;\n    }\n    return extraData;\n  }\n  if (!transaction.extraCallData.startsWith(\"0x\")) {\n    throw Error(\"Invalid extra calldata - must be a hex string\");\n  }\n  return transaction.extraCallData;\n}\n","import { getGasOverridesForTransaction } from \"../../gas/fee-data.js\";\nimport { getRpcClient } from \"../../rpc/rpc.js\";\nimport { getAddress } from \"../../utils/address.js\";\nimport { isZkSyncChain } from \"../../utils/any-evm/zksync/isZkSyncChain.js\";\nimport { resolvePromisedValue } from \"../../utils/promise/resolve-promised-value.js\";\nimport type { Account } from \"../../wallets/interfaces/wallet.js\";\nimport type { PreparedTransaction } from \"../prepare-transaction.js\";\nimport type { SerializableTransaction } from \"../serialize-transaction.js\";\nimport { encode } from \"./encode.js\";\nimport { estimateGas } from \"./estimate-gas.js\";\n\nexport type ToSerializableTransactionOptions = {\n  /**\n   * The transaction to convert to a serializable transaction.\n   */\n  // biome-ignore lint/suspicious/noExplicitAny: TODO: fix later\n  transaction: PreparedTransaction<any>;\n  /**\n   * The from address or account to use for gas estimation and authorization signing.\n   */\n  from?: string | Account;\n};\n\n/**\n * Converts a prepared transaction to a transaction with populated options.\n * @param options - The transaction and additional options for conversion\n * @returns A serializable transaction for inspection or submission to an account.\n *\n *  For easier transaction sending, {@see sendTransaction}\n * @example\n * ```ts\n * import { prepareTransaction, toSerializableTransaction } from \"thirdweb\";\n *\n * const transaction = await prepareTransaction({\n *   transaction: {\n *     to: \"0x...\",\n *     value: 100,\n *   },\n * });\n * const finalTx = await toSerializableTransaction({\n *   transaction,\n * });\n *\n * account.sendTransaction(finalTx);\n * ```\n * @transaction\n */\nexport async function toSerializableTransaction(\n  options: ToSerializableTransactionOptions,\n) {\n  // zk chains require a different rpc method for gas estimation and gas fees\n  const isZkSync = await isZkSyncChain(options.transaction.chain);\n  if (isZkSync) {\n    const { getZkGasFees } = await import(\n      \"./zksync/send-eip712-transaction.js\"\n    );\n    const { gas, maxFeePerGas, maxPriorityFeePerGas } = await getZkGasFees({\n      from:\n        typeof options.from === \"string\" // Is this just an address?\n          ? getAddress(options.from)\n          : options.from !== undefined // Is this an account?\n            ? getAddress(options.from.address)\n            : undefined,\n      transaction: options.transaction,\n    });\n    // passing these values here will avoid re-fetching them below\n    options.transaction = {\n      ...options.transaction,\n      gas,\n      maxFeePerGas,\n      maxPriorityFeePerGas,\n    };\n  }\n\n  const rpcRequest = getRpcClient(options.transaction);\n  const chainId = options.transaction.chain.id;\n  const from = options.from;\n  let [\n    data,\n    nonce,\n    gas,\n    feeData,\n    to,\n    accessList,\n    value,\n    authorizationList,\n    type,\n  ] = await Promise.all([\n    encode(options.transaction),\n    (async () => {\n      // if the user has specified a nonce, use that\n      const resolvedNonce = await resolvePromisedValue(\n        options.transaction.nonce,\n      );\n      if (resolvedNonce !== undefined) {\n        return resolvedNonce;\n      }\n\n      return from // otherwise get the next nonce (import the method to do so)\n        ? await import(\"../../rpc/actions/eth_getTransactionCount.js\").then(\n            ({ eth_getTransactionCount }) =>\n              eth_getTransactionCount(rpcRequest, {\n                address:\n                  typeof from === \"string\"\n                    ? getAddress(from)\n                    : getAddress(from.address),\n                blockTag: \"pending\",\n              }),\n          )\n        : undefined;\n    })(),\n    // takes the same options as the sendTransaction function thankfully!\n    estimateGas({\n      ...options,\n      from: options.from,\n    }),\n    getGasOverridesForTransaction(options.transaction),\n    resolvePromisedValue(options.transaction.to),\n    resolvePromisedValue(options.transaction.accessList),\n    resolvePromisedValue(options.transaction.value),\n    resolvePromisedValue(options.transaction.authorizationList),\n    resolvePromisedValue(options.transaction.type),\n  ]);\n\n  const extraGas = await resolvePromisedValue(options.transaction.extraGas);\n  if (extraGas) {\n    gas += extraGas;\n  }\n\n  return {\n    accessList,\n    authorizationList,\n    chainId,\n    data,\n    gas,\n    nonce,\n    to,\n    type,\n    value,\n    ...feeData,\n  } satisfies SerializableTransaction;\n}\n","import * as ox__Hex from \"ox/Hex\";\nimport type { Hex } from \"../hex.js\";\n\n/**\n * Concatenates an array of hexadecimal values into a single hexadecimal value.\n *\n * @param values - An array of hexadecimal values to concatenate.\n * @returns The concatenated hexadecimal value.\n * @utils\n */\nexport function concatHex(values: readonly Hex[]): Hex {\n  return ox__Hex.concat(...values);\n}\n","import type { EIP1193RequestFn, EIP1474Methods, Hex } from \"viem\";\n\n/**\n * Sends a raw transaction to the Ethereum network.\n * @param request - The EIP1193 request function.\n * @param signedTransaction - The signed transaction in hex format.\n * @returns A promise that resolves to the transaction hash.\n * @rpc\n * @example\n * ```ts\n * import { getRpcClient, eth_sendRawTransaction } from \"thirdweb/rpc\";\n * const rpcRequest = getRpcClient({ client, chain });\n * const transactionHash = await eth_sendRawTransaction(rpcRequest, \"0x...\");\n * ```\n */\nexport async function eth_sendRawTransaction(\n  request: EIP1193RequestFn<EIP1474Methods>,\n  signedTransaction: Hex,\n) {\n  return await request({\n    method: \"eth_sendRawTransaction\",\n    params: [signedTransaction],\n  });\n}\n","import { hexToBytes, toRlp } from \"viem\";\nimport { eth_sendRawTransaction } from \"../../../rpc/actions/eth_sendRawTransaction.js\";\nimport { getRpcClient } from \"../../../rpc/rpc.js\";\nimport { type Address, getAddress } from \"../../../utils/address.js\";\nimport { replaceBigInts, toBigInt } from \"../../../utils/bigint.js\";\nimport { concatHex } from \"../../../utils/encoding/helpers/concat-hex.js\";\nimport { type Hex, toHex } from \"../../../utils/encoding/hex.js\";\nimport { resolvePromisedValue } from \"../../../utils/promise/resolve-promised-value.js\";\nimport type { Account } from \"../../../wallets/interfaces/wallet.js\";\nimport type { PreparedTransaction } from \"../../prepare-transaction.js\";\nimport { encode } from \"../encode.js\";\nimport { toSerializableTransaction } from \"../to-serializable-transaction.js\";\nimport type { WaitForReceiptOptions } from \"../wait-for-tx-receipt.js\";\nimport {\n  type EIP721TransactionSerializable,\n  gasPerPubdataDefault,\n  getEip712Domain,\n} from \"./getEip721Domain.js\";\n\ntype SendEip712TransactionOptions = {\n  account: Account;\n  // TODO: update this to `Transaction<\"prepared\">` once the type is available to ensure only prepared transactions are accepted\n  // biome-ignore lint/suspicious/noExplicitAny: library function that accepts any prepared transaction type\n  transaction: PreparedTransaction<any>;\n};\n\n/**\n * Sends a transaction using the provided wallet.\n * @param options - The options for sending the transaction.\n * @returns A promise that resolves to the transaction hash.\n * @throws An error if the wallet is not connected.\n * @transaction\n * @example\n * ```ts\n * import { sendTransaction } from \"thirdweb\";\n *\n * const { transactionHash } = await sendTransaction({\n *  account,\n *  transaction\n * });\n * ```\n */\nexport async function sendEip712Transaction(\n  options: SendEip712TransactionOptions,\n): Promise<WaitForReceiptOptions> {\n  const { account, transaction } = options;\n\n  const eip712Transaction = await populateEip712Transaction(options);\n\n  const hash = await signEip712Transaction({\n    account,\n    chainId: transaction.chain.id,\n    eip712Transaction,\n  });\n\n  const rpc = getRpcClient(transaction);\n  const result = await eth_sendRawTransaction(rpc, hash);\n\n  return {\n    chain: transaction.chain,\n    client: transaction.client,\n    transactionHash: result,\n  };\n}\n\nexport async function signEip712Transaction(options: {\n  account: Account;\n  eip712Transaction: EIP721TransactionSerializable;\n  chainId: number;\n}): Promise<Hex> {\n  const { account, eip712Transaction, chainId } = options;\n  // EIP712 signing of the serialized tx\n  const eip712Domain = getEip712Domain(eip712Transaction);\n\n  const customSignature = await account.signTypedData({\n    // biome-ignore lint/suspicious/noExplicitAny: TODO type properly\n    ...(eip712Domain as any),\n  });\n\n  return serializeTransactionEIP712({\n    ...eip712Transaction,\n    chainId,\n    customSignature,\n  });\n}\n\n/**\n * Populate a prepared transaction to be serialized as a EIP712 transaction\n * @param options\n * @internal\n */\nexport async function populateEip712Transaction(\n  options: SendEip712TransactionOptions,\n): Promise<EIP721TransactionSerializable> {\n  const { account, transaction } = options;\n  const { gas, maxFeePerGas, maxPriorityFeePerGas, gasPerPubdata } =\n    await getZkGasFees({ from: getAddress(account.address), transaction });\n\n  // serialize the transaction (with fees, gas, nonce)\n  const serializableTransaction = await toSerializableTransaction({\n    from: account.address,\n    transaction: {\n      ...transaction,\n      gas,\n      maxFeePerGas,\n      maxPriorityFeePerGas,\n    },\n  });\n\n  return {\n    ...serializableTransaction,\n    ...transaction.eip712,\n    from: account.address as Hex,\n    gasPerPubdata,\n  };\n}\n\nfunction serializeTransactionEIP712(\n  transaction: EIP721TransactionSerializable & {\n    chainId: number;\n    customSignature: Hex;\n  },\n): Hex {\n  const {\n    chainId,\n    gas,\n    nonce,\n    to,\n    from,\n    value,\n    maxFeePerGas,\n    maxPriorityFeePerGas,\n    customSignature,\n    factoryDeps,\n    paymaster,\n    paymasterInput,\n    gasPerPubdata,\n    data,\n  } = transaction;\n\n  const serializedTransaction = [\n    nonce ? toHex(nonce) : \"0x\",\n    maxPriorityFeePerGas ? toHex(maxPriorityFeePerGas) : \"0x\",\n    maxFeePerGas ? toHex(maxFeePerGas) : \"0x\",\n    gas ? toHex(gas) : \"0x\",\n    to ?? \"0x\",\n    value ? toHex(value) : \"0x\",\n    data ?? \"0x0\",\n    toHex(chainId),\n    toHex(\"\"),\n    toHex(\"\"),\n    toHex(chainId),\n    from ?? \"0x\",\n    gasPerPubdata ? toHex(gasPerPubdata) : toHex(gasPerPubdataDefault),\n    factoryDeps ?? [],\n    customSignature ?? \"0x\", // EIP712 signature\n    paymaster && paymasterInput ? [paymaster, paymasterInput] : [],\n  ];\n\n  // @ts-ignore - TODO: fix types\n  return concatHex([\"0x71\", toRlp(serializedTransaction)]);\n}\n\nexport async function getZkGasFees(args: {\n  transaction: PreparedTransaction;\n  from?: Address;\n}) {\n  const { transaction, from } = args;\n  let [gas, maxFeePerGas, maxPriorityFeePerGas, eip712] = await Promise.all([\n    resolvePromisedValue(transaction.gas),\n    resolvePromisedValue(transaction.maxFeePerGas),\n    resolvePromisedValue(transaction.maxPriorityFeePerGas),\n    resolvePromisedValue(transaction.eip712),\n  ]);\n  let gasPerPubdata = eip712?.gasPerPubdata;\n  if (\n    gas === undefined ||\n    maxFeePerGas === undefined ||\n    maxPriorityFeePerGas === undefined\n  ) {\n    const rpc = getRpcClient(transaction);\n    const params = await formatTransaction({ from, transaction });\n    const result = (await rpc({\n      // biome-ignore lint/suspicious/noExplicitAny: TODO add to RPC method types\n      method: \"zks_estimateFee\" as any,\n      // biome-ignore lint/suspicious/noExplicitAny: TODO add to RPC method types\n      params: [replaceBigInts(params, toHex)] as any,\n    })) as {\n      gas_limit: string;\n      max_fee_per_gas: string;\n      max_priority_fee_per_gas: string;\n      gas_per_pubdata_limit: string;\n    };\n    gas = toBigInt(result.gas_limit) * 2n; // overestimating to avoid issues when not accounting for paymaster extra gas ( we should really pass the paymaster input above for better accuracy )\n    const baseFee = toBigInt(result.max_fee_per_gas);\n    maxFeePerGas = baseFee * 2n; // bumping the base fee per gas to ensure fast inclusion\n    maxPriorityFeePerGas = toBigInt(result.max_priority_fee_per_gas) || 1n;\n    gasPerPubdata = toBigInt(result.gas_per_pubdata_limit) * 2n; // doubling for fast inclusion;\n    if (gasPerPubdata < 50000n) {\n      // enforce a minimum gas per pubdata limit\n      gasPerPubdata = 50000n;\n    }\n  }\n  return {\n    gas,\n    gasPerPubdata,\n    maxFeePerGas,\n    maxPriorityFeePerGas,\n  };\n}\n\nasync function formatTransaction(args: {\n  transaction: PreparedTransaction;\n  from?: Address;\n}) {\n  const { transaction, from } = args;\n  const [data, to, value, eip712] = await Promise.all([\n    encode(transaction),\n    resolvePromisedValue(transaction.to),\n    resolvePromisedValue(transaction.value),\n    resolvePromisedValue(transaction.eip712),\n  ]);\n  const gasPerPubdata = eip712?.gasPerPubdata;\n  return {\n    data,\n    eip712Meta: {\n      ...eip712,\n      factoryDeps: eip712?.factoryDeps?.map((dep) =>\n        Array.from(hexToBytes(dep)),\n      ),\n      gasPerPubdata: gasPerPubdata || 50000n,\n    },\n    from,\n    gasPerPubdata,\n    to,\n    type: \"0x71\",\n    value,\n  };\n}\n","import { uint8ArrayToHex } from \"./encoding/hex.js\";\n\n/**\n * Returns the minimum of two BigInt values.\n * @param a - The first BigInt value.\n * @param b - The second BigInt value.\n * @returns The smaller of the two BigInt values.\n * @utils\n * @example\n * ```ts\n * min(1n, 2n)\n * // 1n\n */\nexport function min(a: bigint, b: bigint) {\n  return a < b ? a : b;\n}\n\n/**\n * Returns the maximum of two BigInt values.\n * @param a - The first BigInt value.\n * @param b - The second BigInt value.\n * @returns The larger of the two BigInt values.\n * @utils\n * @example\n * ```ts\n * max(1n, 2n)\n * // 2n\n */\nexport function max(a: bigint, b: bigint) {\n  return a > b ? a : b;\n}\n\n/**\n * Provides error checking on string or number bigint inputs.\n * @param value - A possibly integer-like string, number, or bigint.\n * @returns The bigint representation of the input.\n * @example\n * ```ts\n * toBigInt(\"2\")\n * // 2n\n */\nexport function toBigInt(value: string | number | bigint | Uint8Array): bigint {\n  if (\n    [\"string\", \"number\"].includes(typeof value) &&\n    !Number.isInteger(Number(value))\n  ) {\n    throw new Error(\n      `Expected value to be an integer to convert to a bigint, got ${value} of type ${typeof value}`,\n    );\n  }\n\n  if (value instanceof Uint8Array) {\n    return BigInt(uint8ArrayToHex(value));\n  }\n\n  return BigInt(value);\n}\n\n// replaceBigInts courtesy of ponder.sh:\n// https://github.com/ponder-sh/ponder/blob/bc65b865898b6145e87031314192c59f9e8b621f/packages/utils/src/replaceBigInts.ts\ntype _ReplaceBigInts<\n  arr extends readonly unknown[],\n  type,\n  result extends readonly unknown[] = [],\n> = arr extends [infer first, ...infer rest]\n  ? _ReplaceBigInts<\n      rest,\n      type,\n      readonly [...result, first extends bigint ? type : first]\n    >\n  : result;\n\ntype ReplaceBigInts<obj, type> = obj extends bigint\n  ? type\n  : obj extends unknown[]\n    ? _ReplaceBigInts<Readonly<obj>, type>\n    : obj extends readonly []\n      ? _ReplaceBigInts<obj, type>\n      : obj extends object\n        ? { [key in keyof obj]: ReplaceBigInts<obj[key], type> }\n        : obj;\n\nexport const replaceBigInts = <const T, const type>(\n  obj: T,\n  replacer: (x: bigint) => type,\n): ReplaceBigInts<T, type> => {\n  if (typeof obj === \"bigint\") return replacer(obj) as ReplaceBigInts<T, type>;\n  if (Array.isArray(obj))\n    return obj.map((x) => replaceBigInts(x, replacer)) as ReplaceBigInts<\n      T,\n      type\n    >;\n  if (obj && typeof obj === \"object\")\n    return Object.fromEntries(\n      Object.entries(obj).map(([k, v]) => [k, replaceBigInts(v, replacer)]),\n    ) as ReplaceBigInts<T, type>;\n  return obj as ReplaceBigInts<T, type>;\n};\n","import { maxUint16 } from '../../constants/number.js'\n\nexport const gasPerPubdataDefault = 50000n\nexport const maxBytecodeSize = maxUint16 * 32n\nexport const requiredL1ToL2GasPerPubdataLimit = 800n\n","import { BaseError } from '../../errors/base.js'\n\nexport type BytecodeLengthExceedsMaxSizeErrorType =\n  BytecodeLengthExceedsMaxSizeError & {\n    name: 'BytecodeLengthExceedsMaxSizeError'\n  }\n\nexport class BytecodeLengthExceedsMaxSizeError extends BaseError {\n  constructor({\n    givenLength,\n    maxBytecodeSize,\n  }: { givenLength: number; maxBytecodeSize: bigint }) {\n    super(\n      `Bytecode cannot be longer than ${maxBytecodeSize} bytes. Given length: ${givenLength}`,\n      { name: 'BytecodeLengthExceedsMaxSizeError' },\n    )\n  }\n}\n\nexport type BytecodeLengthInWordsMustBeOddErrorType =\n  BytecodeLengthInWordsMustBeOddError & {\n    name: 'BytecodeLengthInWordsMustBeOddError'\n  }\n\nexport class BytecodeLengthInWordsMustBeOddError extends BaseError {\n  constructor({ givenLengthInWords }: { givenLengthInWords: number }) {\n    super(\n      `Bytecode length in 32-byte words must be odd. Given length in words: ${givenLengthInWords}`,\n      { name: 'BytecodeLengthInWordsMustBeOddError' },\n    )\n  }\n}\n\nexport type BytecodeLengthMustBeDivisibleBy32ErrorType =\n  BytecodeLengthMustBeDivisibleBy32Error & {\n    name: 'BytecodeLengthMustBeDivisibleBy32Error'\n  }\n\nexport class BytecodeLengthMustBeDivisibleBy32Error extends BaseError {\n  constructor({ givenLength }: { givenLength: number }) {\n    super(\n      `The bytecode length in bytes must be divisible by 32. Given length: ${givenLength}`,\n      { name: 'BytecodeLengthMustBeDivisibleBy32Error' },\n    )\n  }\n}\n","import type { ErrorType } from '../../errors/utils.js'\nimport type { Hex } from '../../types/misc.js'\nimport { pad } from '../../utils/data/pad.js'\nimport { type ToBytesErrorType, toBytes } from '../../utils/encoding/toBytes.js'\nimport { type Sha256ErrorType, sha256 } from '../../utils/hash/sha256.js'\nimport { maxBytecodeSize } from '../constants/number.js'\nimport {\n  BytecodeLengthExceedsMaxSizeError,\n  type BytecodeLengthExceedsMaxSizeErrorType,\n  BytecodeLengthInWordsMustBeOddError,\n  type BytecodeLengthInWordsMustBeOddErrorType,\n  BytecodeLengthMustBeDivisibleBy32Error,\n  type BytecodeLengthMustBeDivisibleBy32ErrorType,\n} from '../errors/bytecode.js'\n\nexport type HashBytecodeErrorType =\n  | BytecodeLengthExceedsMaxSizeErrorType\n  | BytecodeLengthInWordsMustBeOddErrorType\n  | BytecodeLengthMustBeDivisibleBy32ErrorType\n  | Sha256ErrorType\n  | ToBytesErrorType\n  | ErrorType\n\nexport function hashBytecode(bytecode: Hex): Uint8Array {\n  const bytecodeBytes = toBytes(bytecode)\n  if (bytecodeBytes.length % 32 !== 0)\n    throw new BytecodeLengthMustBeDivisibleBy32Error({\n      givenLength: bytecodeBytes.length,\n    })\n\n  if (bytecodeBytes.length > maxBytecodeSize)\n    throw new BytecodeLengthExceedsMaxSizeError({\n      givenLength: bytecodeBytes.length,\n      maxBytecodeSize,\n    })\n\n  const hashStr = sha256(bytecodeBytes)\n  const hash = toBytes(hashStr)\n\n  // Note that the length of the bytecode\n  // should be provided in 32-byte words.\n  const bytecodeLengthInWords = bytecodeBytes.length / 32\n  if (bytecodeLengthInWords % 2 === 0) {\n    throw new BytecodeLengthInWordsMustBeOddError({\n      givenLengthInWords: bytecodeLengthInWords,\n    })\n  }\n\n  const bytecodeLength = toBytes(bytecodeLengthInWords)\n\n  // The bytecode should always take the first 2 bytes of the bytecode hash,\n  // so we pad it from the left in case the length is smaller than 2 bytes.\n  const bytecodeLengthPadded = pad(bytecodeLength, { size: 2 })\n\n  const codeHashVersion = new Uint8Array([1, 0])\n  hash.set(codeHashVersion, 0)\n  hash.set(bytecodeLengthPadded, 2)\n\n  return hash\n}\n","import { hashBytecode } from \"viem/zksync\";\nimport type { Address } from \"../../../utils/address.js\";\nimport { toHex } from \"../../../utils/encoding/hex.js\";\nimport type {\n  EIP712SerializedTransaction,\n  EIP712TransactionOptions,\n} from \"../../prepare-transaction.js\";\nimport type { SerializableTransaction } from \"../../serialize-transaction.js\";\n\nexport type EIP721TransactionSerializable = SerializableTransaction & {\n  from: Address;\n} & EIP712TransactionOptions;\nexport const gasPerPubdataDefault = 50000n;\n\nexport const getEip712Domain = (transaction: EIP721TransactionSerializable) => {\n  const message = transactionToMessage(transaction);\n\n  return {\n    domain: {\n      chainId: transaction.chainId,\n      name: \"zkSync\",\n      version: \"2\",\n    },\n    message: message,\n    primaryType: \"Transaction\",\n    types: {\n      Transaction: [\n        { name: \"txType\", type: \"uint256\" },\n        { name: \"from\", type: \"uint256\" },\n        { name: \"to\", type: \"uint256\" },\n        { name: \"gasLimit\", type: \"uint256\" },\n        { name: \"gasPerPubdataByteLimit\", type: \"uint256\" },\n        { name: \"maxFeePerGas\", type: \"uint256\" },\n        { name: \"maxPriorityFeePerGas\", type: \"uint256\" },\n        { name: \"paymaster\", type: \"uint256\" },\n        { name: \"nonce\", type: \"uint256\" },\n        { name: \"value\", type: \"uint256\" },\n        { name: \"data\", type: \"bytes\" },\n        { name: \"factoryDeps\", type: \"bytes32[]\" },\n        { name: \"paymasterInput\", type: \"bytes\" },\n      ],\n    },\n  };\n};\n\nfunction transactionToMessage(\n  transaction: EIP721TransactionSerializable,\n): EIP712SerializedTransaction {\n  const {\n    gas,\n    nonce,\n    to,\n    from,\n    value,\n    maxFeePerGas,\n    maxPriorityFeePerGas,\n    paymaster,\n    paymasterInput,\n    gasPerPubdata,\n    data,\n    factoryDeps,\n  } = transaction;\n\n  return {\n    data: data ? data : \"0x0\",\n    factoryDeps: factoryDeps?.map((dep) => toHex(hashBytecode(dep))) ?? [],\n    from: BigInt(from),\n    gasLimit: gas ?? 0n,\n    gasPerPubdataByteLimit: gasPerPubdata ?? gasPerPubdataDefault,\n    maxFeePerGas: maxFeePerGas ?? 0n,\n    maxPriorityFeePerGas: maxPriorityFeePerGas ?? 0n,\n    nonce: nonce ? BigInt(nonce) : 0n,\n    paymaster: paymaster ? BigInt(paymaster) : 0n,\n    paymasterInput: paymasterInput ? paymasterInput : \"0x\",\n    to: to ? BigInt(to) : 0n,\n    txType: 113n,\n    value: value ?? 0n,\n  };\n}\n"],"names":[],"mappings":"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","ignoreList":[4,5,6,7,8,9]}