module.exports=[300606,a=>{"use strict";var b=a.i(872694),c=a.i(476705),d=a.i(540302),e=a.i(429664),f=a.i(695313),g=a.i(221570),h=a.i(400276);function i(a,i){if(a.length!==i.length)throw new b.AbiEncodingLengthMismatchError({expectedLength:a.length,givenLength:i.length});let j=[];for(let k=0;k<a.length;k++){let l=a[k],m=i[k];j.push(function a(i,j,k=!1){if("address"===i){if(!(0,d.isAddress)(j))throw new c.InvalidAddressError({address:j});return(0,f.pad)(j.toLowerCase(),{size:k?32:null})}if("string"===i)return(0,g.stringToHex)(j);if("bytes"===i)return j;if("bool"===i)return(0,f.pad)((0,g.boolToHex)(j),{size:k?32:1});let l=i.match(h.integerRegex);if(l){let[a,b,c="256"]=l,d=Number.parseInt(c,10)/8;return(0,g.numberToHex)(j,{size:k?32:d,signed:"int"===b})}let m=i.match(h.bytesRegex);if(m){let[a,c]=m;if(Number.parseInt(c,10)!==(j.length-2)/2)throw new b.BytesSizeMismatchError({expectedSize:Number.parseInt(c,10),givenSize:(j.length-2)/2});return(0,f.pad)(j,{dir:"right",size:k?32:null})}let n=i.match(h.arrayRegex);if(n&&Array.isArray(j)){let[b,c]=n,d=[];for(let b=0;b<j.length;b++)d.push(a(c,j[b],!0));return 0===d.length?"0x":(0,e.concatHex)(d)}throw new b.UnsupportedPackedAbiType(i)}(l,m))}return(0,e.concatHex)(j)}a.s(["encodePacked",()=>i])},988445,a=>{"use strict";var b=a.i(908281),c=a.i(707014),d=a.i(131059),e=a.i(694801),f=a.i(184772);class g{constructor(a){Object.defineProperty(this,"leaves",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"layers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this.leaves=a.map(a=>a instanceof Uint8Array?a:(0,d.hexToBytes)(a)),this.leaves=this.leaves.sort(f.compareUint8Arrays),this.createHashes(this.leaves)}getHexRoot(){return(0,c.uint8ArrayToHex)(this.getRoot())}getHexProof(a,b){return this.getProof(a,b).map(a=>(0,c.uint8ArrayToHex)(a.data))}createHashes(a){for(this.layers=[a];a.length>1;){let b=this.layers.length;this.layers.push([]);let c=a.length;for(let d=0;d<a.length;d+=2){if(d>=c){this.layers[b].push(...a.slice(c));break}if(d+1===a.length&&a.length%2==1){this.layers[b].push(a[d]);continue}let g=a[d],h=d+1===a.length?g:a[d+1],i=[g,h];i.sort(f.compareUint8Arrays);let j=(0,e.keccak256)((0,f.concatUint8Arrays)(i),"bytes");this.layers[b].push(j)}a=this.layers[b]}}getRoot(){return 0===this.layers.length?new Uint8Array:this.layers[this.layers.length-1][0]||new Uint8Array}getProof(a,b){if(void 0===a)throw Error("leaf is required");a=a instanceof Uint8Array?a:(0,d.hexToBytes)(a);let c=[];if(!Number.isInteger(b)){b=-1;for(let c=0;c<this.leaves.length;c++)(0,f.areUint8ArraysEqual)(a,this.leaves[c])&&(b=c)}if(b<=-1)return[];for(let a=0;a<this.layers.length;a++){let d=this.layers[a],e=b%2,f=e?b-1:b+1;f<d.length&&c.push({data:d[f],position:e?"left":"right"}),b=b/2|0}return c}}var h=a.i(735958),i=a.i(774392),j=a.i(104163);function k(a){let{quantity:b,tokenDecimals:c}=a;return"unlimited"===b?i.maxUint256:(0,j.toUnits)(b,c)}var l=a.i(300606),m=a.i(770529);async function n(c){let d=c.entry.currencyAddress||b.ZERO_ADDRESS,f=await (async()=>{if((0,b.isNativeTokenAddress)(d)||d===b.ZERO_ADDRESS)return 18;let[{getContract:e},{decimals:f}]=await Promise.all([a.A(313776),a.A(301552)]),g=e({address:d,chain:c.chain,client:c.client});return await f({contract:g})})();return(0,e.keccak256)((0,l.encodePacked)(["address","uint256","uint256","address"],[(0,m.getAddress)(c.entry.address),k({quantity:c.entry.maxClaimable||"unlimited",tokenDecimals:c.tokenDecimals}),k({quantity:c.entry.price||"unlimited",tokenDecimals:f}),(0,m.getAddress)(d)]))}async function o(c){let d,{contract:e,merkleTreeUri:f,claimer:i}=c,j=c.hashEntry||n,l=await (0,h.download)({client:e.client,uri:f}),m=await l.json(),o=i.slice(2,2+m.shardNybbles).toLowerCase(),p=m.baseUri.endsWith("/")?m.baseUri:`${m.baseUri}/`;try{let a=`${p}${o}.json`,b=await (0,h.download)({client:e.client,uri:a});d=await b.json()}catch{return null}let q=new g(await Promise.all(d.entries.map(async a=>j({chain:e.chain,client:e.client,entry:a,tokenDecimals:c.tokenDecimals})))),r=d.entries.find(a=>a.address.toLowerCase()===i.toLowerCase());if(!r)return null;let s=q.getHexProof(await j({chain:e.chain,client:e.client,entry:r,tokenDecimals:c.tokenDecimals})).concat(d.proofs),t=r.currencyAddress||b.ZERO_ADDRESS,u=await (async()=>{if((0,b.isNativeTokenAddress)(t)||t===b.ZERO_ADDRESS)return 18;let[{getContract:c},{decimals:d}]=await Promise.all([a.A(313776),a.A(301552)]),f=c({address:t,chain:e.chain,client:e.client});return await d({contract:f})})();return{currency:t,pricePerToken:k({quantity:r.price||"unlimited",tokenDecimals:u}),proof:s,quantityLimitPerWallet:k({quantity:r.maxClaimable||"unlimited",tokenDecimals:c.tokenDecimals})}}a.s(["fetchProofsForClaimer",()=>o],988445)},313776,a=>{a.v(a=>Promise.resolve().then(()=>a(828961)))}];

//# sourceMappingURL=node_modules_e9464134._.js.map