module.exports=[21374,2650,a=>{"use strict";var b=a.i(130557),c=a.i(185228);let d=a=>a;a.s(["getContractAddress",0,a=>a,"getUrl",0,d],2650);class e extends c.BaseError{constructor({body:a,cause:c,details:e,headers:f,status:g,url:h}){super("HTTP request failed.",{cause:c,details:e,metaMessages:[g&&`Status: ${g}`,`URL: ${d(h)}`,a&&`Request body: ${(0,b.stringify)(a)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=a,this.headers=f,this.status=g,this.url=h}}class f extends c.BaseError{constructor({body:a,cause:c,details:e,url:f}){super("WebSocket request failed.",{cause:c,details:e,metaMessages:[`URL: ${d(f)}`,a&&`Request body: ${(0,b.stringify)(a)}`].filter(Boolean),name:"WebSocketRequestError"})}}class g extends c.BaseError{constructor({body:a,error:c,url:e}){super("RPC Request failed.",{cause:c,details:c.message,metaMessages:[`URL: ${d(e)}`,`Request body: ${(0,b.stringify)(a)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=c.code,this.data=c.data}}class h extends c.BaseError{constructor({url:a}={}){super("The socket has been closed.",{metaMessages:[a&&`URL: ${d(a)}`].filter(Boolean),name:"SocketClosedError"})}}class i extends c.BaseError{constructor({body:a,url:c}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${d(c)}`,`Request body: ${(0,b.stringify)(a)}`],name:"TimeoutError"})}}a.s(["HttpRequestError",()=>e,"RpcRequestError",()=>g,"SocketClosedError",()=>h,"TimeoutError",()=>i,"WebSocketRequestError",()=>f],21374)},282271,a=>{"use strict";var b=a.i(185228),c=a.i(21374);class d extends b.BaseError{constructor(a,{code:b,docsPath:d,metaMessages:e,name:f,shortMessage:g}){super(g,{cause:a,docsPath:d,metaMessages:e||a?.metaMessages,name:f||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=f||a.name,this.code=a instanceof c.RpcRequestError?a.code:b??-1}}class e extends d{constructor(a,b){super(a,b),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=b.data}}class f extends d{constructor(a){super(a,{code:f.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(f,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class g extends d{constructor(a){super(a,{code:g.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(g,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class h extends d{constructor(a,{method:b}={}){super(a,{code:h.code,name:"MethodNotFoundRpcError",shortMessage:`The method${b?` "${b}"`:""} does not exist / is not available.`})}}Object.defineProperty(h,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class i extends d{constructor(a){super(a,{code:i.code,name:"InvalidParamsRpcError",shortMessage:"Invalid parameters were provided to the RPC method.\nDouble check you have provided the correct parameters."})}}Object.defineProperty(i,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class j extends d{constructor(a){super(a,{code:j.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(j,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class k extends d{constructor(a){super(a,{code:k.code,name:"InvalidInputRpcError",shortMessage:"Missing or invalid parameters.\nDouble check you have provided the correct parameters."})}}Object.defineProperty(k,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class l extends d{constructor(a){super(a,{code:l.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(l,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class m extends d{constructor(a){super(a,{code:m.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(m,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class n extends d{constructor(a){super(a,{code:n.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(n,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class o extends d{constructor(a,{method:b}={}){super(a,{code:o.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${b?` "${b}"`:""} is not supported.`})}}Object.defineProperty(o,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class p extends d{constructor(a){super(a,{code:p.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(p,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class q extends d{constructor(a){super(a,{code:q.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(q,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class r extends e{constructor(a){super(a,{code:r.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(r,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class s extends e{constructor(a){super(a,{code:s.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(s,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class t extends e{constructor(a,{method:b}={}){super(a,{code:t.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${b?` " ${b}"`:""}.`})}}Object.defineProperty(t,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class u extends e{constructor(a){super(a,{code:u.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(u,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class v extends e{constructor(a){super(a,{code:v.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(v,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class w extends e{constructor(a){super(a,{code:w.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(w,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class x extends e{constructor(a){super(a,{code:x.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(x,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class y extends e{constructor(a){super(a,{code:y.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(y,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class z extends e{constructor(a){super(a,{code:z.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(z,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class A extends e{constructor(a){super(a,{code:A.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(A,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class B extends e{constructor(a){super(a,{code:B.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(B,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class C extends e{constructor(a){super(a,{code:C.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(C,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class D extends e{constructor(a){super(a,{code:D.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(D,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class E extends d{constructor(a){super(a,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}a.s(["AtomicReadyWalletRejectedUpgradeError",()=>C,"AtomicityNotSupportedError",()=>D,"BundleTooLargeError",()=>B,"ChainDisconnectedError",()=>v,"DuplicateIdError",()=>z,"InternalRpcError",()=>j,"InvalidInputRpcError",()=>k,"InvalidParamsRpcError",()=>i,"InvalidRequestRpcError",()=>g,"JsonRpcVersionUnsupportedError",()=>q,"LimitExceededRpcError",()=>p,"MethodNotFoundRpcError",()=>h,"MethodNotSupportedRpcError",()=>o,"ParseRpcError",()=>f,"ProviderDisconnectedError",()=>u,"ProviderRpcError",()=>e,"ResourceNotFoundRpcError",()=>l,"ResourceUnavailableRpcError",()=>m,"RpcError",()=>d,"SwitchChainError",()=>w,"TransactionRejectedRpcError",()=>n,"UnauthorizedProviderError",()=>s,"UnknownBundleIdError",()=>A,"UnknownRpcError",()=>E,"UnsupportedChainIdError",()=>y,"UnsupportedNonOptionalCapabilityError",()=>x,"UnsupportedProviderMethodError",()=>t,"UserRejectedRequestError",()=>r])},344283,a=>{"use strict";var b=a.i(126982),c=a.i(282271),d=a.i(71932),e=a.i(638181),f=a.i(770529),g=a.i(707014),h=a.i(380167),i=a.i(841997),j=a.i(593126),k=a.i(366119),l=a.i(933042),m=a.i(786023),n=a.i(762109),o=a.i(929911);let p=null,q="tw.wc.lastUsedChainId";function r(a){return"walletConnect"===a.id}async function s(a,b,c,d,f){let g,h,i=await x(a,c,f),m=a.walletConnect,{onDisplayUri:p}=m||{},q=await (0,l.getWalletInfo)(c);!p&&f&&(p=a=>{let b=q.mobile.native||q.mobile.universal;b?f((0,k.formatWalletConnectUrl)(b,a).redirect):f(a)}),p&&i.events.addListener("display_uri",p);let r=m?.optionalChains,s=a.chain;"global.safe"===c&&(r=D.map(e.getCachedChain),s&&!r.includes(s)&&(s=void 0));let{chains:t,rpcMap:v}=function(a){let b={},c=[];for(let d of(a.chain&&(b[a.chain.id]=(0,e.getRpcUrlForChain)({chain:a.chain,client:a.client}),c.push(a.chain.id)),(a?.optionalChains||[]).slice(0,10)))b[d.id]=(0,e.getRpcUrlForChain)({chain:d,client:a.client}),c.push(d.id);return c.includes(1)||(b[1]=(0,e.getCachedChain)(1).rpc,c.push(1)),{chains:c.map(a=>`eip155:${a}`),rpcMap:b}}({chain:s,client:a.client,optionalChains:r});await i.connect({...m?.pairingTopic?{pairingTopic:m?.pairingTopic}:{},optionalNamespaces:{[o.NAMESPACE]:{chains:t,events:["chainChanged","accountsChanged"],methods:["eth_sendTransaction","eth_signTransaction","eth_sign","personal_sign","eth_signTypedData","eth_signTypedData_v4","wallet_switchEthereumChain","wallet_addEthereumChain"],rpcMap:v}}}),C(t.map(a=>Number(a.split(":")[1])),d);let w=t[0]?.split(":")[1]||1,y=(0,n.normalizeChainId)(w),z=(g=u(i.session),(h=g?.accounts?.find(a=>a.startsWith("eip155:1:"))||g?.accounts[0])?h.split(":")[2]??null:null);if(!z)throw Error("No accounts found on provider.");let B=a.chain&&a.chain.id===y?a.chain:(0,e.getCachedChain)(y);if(a){let b={chain:a.chain,optionalChains:a.walletConnect?.optionalChains,pairingTopic:a.walletConnect?.pairingTopic};d&&(0,j.saveConnectParamsToStorage)(d,c,b)}return p&&i.events.removeListener("display_uri",p),A(z,B,i,b,d,a.client,q,f)}async function t(a,b,c){let d;if(!a.session)throw Error("No session found on provider.");let e=`eip155:${b.id}`,f=(0,g.numberToHex)(b.id);if(v(a.session,e))return void a.setDefaultChain(e);try{await z({provider:a,payload:{method:"wallet_switchEthereumChain",params:[{chainId:f}]},chain:e,walletInfo:c}),a.setDefaultChain(e);return}catch(a){if(4001===(a?.code??a?.data?.originalError?.code))throw Error("User rejected chain switch")}let h=(d=u(a.session),d?.accounts?.[0]?.split(":")?.slice(0,2)?.join(":")??null);if(!h)throw Error("No routable chain to send wallet_addEthereumChain");try{await z({provider:a,payload:{method:"wallet_addEthereumChain",params:[{chainId:f,chainName:b.name,nativeCurrency:b.nativeCurrency,rpcUrls:[b.rpc],blockExplorerUrls:[b.blockExplorers?.[0]?.url??""]}]},chain:h,walletInfo:c})}catch(a){if(4001===(a?.code??a?.data?.originalError?.code))throw Error("User rejected add chain");throw Error(`Add chain failed: ${a?.message||String(a)}`)}if(await z({provider:a,payload:{method:"wallet_switchEthereumChain",params:[{chainId:f}]},chain:e,walletInfo:c}),a.setDefaultChain(e),!v(a.session,e))throw Error("Target chain still not enabled by wallet")}function u(a){return a?.namespaces?.eip155}function v(a,b){let c=u(a);return!!c?.accounts?.some(a=>a.startsWith(`${b}:`))}async function w(a,b,c,d,f){let g=d?await (0,j.getSavedConnectParamsFromStorage)(d,c):null,h=await (0,l.getWalletInfo)(c),i=await x(g?{chain:g.chain,client:a.client,walletConnect:{optionalChains:g.optionalChains,pairingTopic:g.pairingTopic}}:{client:a.client,walletConnect:{}},c,f);if(!i.session)throw await i.disconnect(),Error("No wallet connect session found on provider.");let k=i.session?.namespaces?.[o.NAMESPACE]?.accounts,m=k?.[0]?.split(":")[2];if(!m)throw Error("No accounts found on provider.");let p=a.chain?.id||1,q=(0,n.normalizeChainId)(p);return A(m,a.chain&&a.chain.id===q?a.chain:(0,e.getCachedChain)(q),i,b,d,a.client,h,f)}async function x(b,c,d){if(p)return p;let f=await (0,l.getWalletInfo)(c),g=b.walletConnect,{UniversalProvider:h}=await a.A(213349),i=g?.optionalChains,j=b.chain;"global.safe"===c&&(i=D.map(e.getCachedChain),j&&!i.includes(j)&&(j=void 0));let k=await h.init({metadata:{description:g?.appMetadata?.description||(0,m.getDefaultAppMetadata)().description,icons:[g?.appMetadata?.logoUrl||(0,m.getDefaultAppMetadata)().logoUrl],name:g?.appMetadata?.name||(0,m.getDefaultAppMetadata)().name,url:g?.appMetadata?.url||(0,m.getDefaultAppMetadata)().url,redirect:{native:f.mobile.native||void 0,universal:f.mobile.universal||void 0}},projectId:g?.projectId||o.DEFAULT_PROJECT_ID});if(k.events.setMaxListeners(1/0),"walletConnect"!==c){async function n(){let a=k.session?.peer?.metadata?.redirect?.native||f.mobile.native||f.mobile.universal;d&&a&&await d(a)}k.on("session_request_sent",n),k.events.addListener("disconnect",()=>{k.off("session_request_sent",n),p=null})}return p=k,k}function y({provider:a,address:c,client:e,chain:h,sessionRequestHandler:j,walletInfo:k}){return{address:(0,f.getAddress)(c),async sendTransaction(b){let h=await z({provider:a,payload:{method:"eth_sendTransaction",params:[{data:b.data,from:(0,f.getAddress)(c),gas:b.gas?(0,g.numberToHex)(b.gas):void 0,to:b.to,value:b.value?(0,g.numberToHex)(b.value):void 0}]},chain:`eip155:${b.chainId}`,walletInfo:k,sessionRequestHandler:j});return(0,d.trackTransaction)({chainId:b.chainId,client:e,contractAddress:b.to??void 0,gasPrice:b.gasPrice,transactionHash:h,walletAddress:(0,f.getAddress)(c),walletType:"walletConnect"}),{transactionHash:h}},async signMessage({message:b}){return z({provider:a,payload:{method:"personal_sign",params:["string"==typeof b?(0,g.stringToHex)(b):b.raw instanceof Uint8Array?(0,g.uint8ArrayToHex)(b.raw):b.raw,this.address]},chain:`eip155:${h.id}`,walletInfo:k,sessionRequestHandler:j})},async signTypedData(c){let d=(0,i.parseTypedData)(c),{domain:e,message:f,primaryType:g}=d,l={EIP712Domain:(0,b.getTypesForEIP712Domain)({domain:e}),...d.types};(0,b.validateTypedData)({domain:e,message:f,primaryType:g,types:l});let m=(0,b.serializeTypedData)({domain:e??{},message:f,primaryType:g,types:l});return await z({provider:a,payload:{method:"eth_signTypedData_v4",params:[this.address,m]},chain:`eip155:${h.id}`,walletInfo:k,sessionRequestHandler:j})}}}async function z(a){let{provider:b,payload:c,chain:d,walletInfo:e,sessionRequestHandler:f}=a,g=b.request(c,d),h=b.session?.peer?.metadata?.redirect?.native||e.mobile.native||e.mobile.universal;return f&&h&&await f(h),g}function A(a,b,c,d,g,h,i,j){let k=y({address:a,chain:b,client:h,provider:c,sessionRequestHandler:j,walletInfo:i});async function l(){c.removeListener("accountsChanged",o),c.removeListener("chainChanged",r),c.removeListener("disconnect",m),await c.disconnect(),p=null}function m(){C([],g),g?.removeItem(q),l(),d.emit("disconnect",void 0)}function o(a){if(a[0]){let e=y({address:(0,f.getAddress)(a[0]),chain:b,client:h,provider:c,sessionRequestHandler:j,walletInfo:i});d.emit("accountChanged",e),d.emit("accountsChanged",a)}else m()}function r(a){let b=(0,e.getCachedChain)((0,n.normalizeChainId)(a));d.emit("chainChanged",b),g?.setItem(q,String(a))}return c.on("accountsChanged",o),c.on("chainChanged",r),c.on("disconnect",m),c.on("session_delete",m),[k,b,l,a=>B(c,a,i)]}async function B(a,b,d){try{await t(a,b,d)}catch(b){let a="string"==typeof b?b:b?.message;if(/user rejected request/i.test(a))throw new c.UserRejectedRequestError(b);throw new c.SwitchChainError(b)}}function C(a,b){b?.setItem("tw.wc.requestedChains",(0,h.stringify)(a))}let D=[1,0xaa36a7,42161,43114,8453,0x4e454152,84532,56,42220,100,10,137,1101,324,534352];a.s(["autoConnectWC",()=>w,"connectWC",()=>s,"isWalletConnect",()=>r])},213349,a=>{a.v(b=>Promise.all(["server/chunks/ssr/[root-of-the-server]__edbf1b5c._.js"].map(b=>a.l(b))).then(()=>b(39647)))}];

//# sourceMappingURL=node_modules_57ee6963._.js.map