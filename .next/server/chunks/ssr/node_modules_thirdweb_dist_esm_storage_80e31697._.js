module.exports=[36679,a=>{"use strict";var b=a.i(74282),c=a.i(380167),d=a.i(418571),e=a.i(184772);function f(a){return globalThis.File&&a instanceof File}function g(a){return!!a&&!!(0,d.isObjectWithKeys)(a,["data","name"])&&!!("string"==typeof a.name&&("string"==typeof a.data||(0,e.isUint8Array)(a.data)))}function h(a){return f(a)||(0,e.isUint8Array)(a)||g(a)}async function i(d){let j;if(0===d.files.length)return null;if(d.files.map(a=>h(a)||"string"==typeof a).every(a=>!!a))j=d.files;else{let a=d.files,b=function a(b,c=[]){if(h(b))return c.push(b),c;if("object"==typeof b){if(!b)return c;if(Array.isArray(b))for(let d of b)a(d,c);else Object.keys(b).map(d=>a(b[d],c))}return c}(a=function a(b){if("string"==typeof b){if(b.includes("/ipfs/")){let a=b.split("/ipfs/")[1];return`ipfs://${a}`}return b}return"object"==typeof b?!b||h(b)?b:Array.isArray(b)?b.map(b=>a(b)):Object.fromEntries(Object.entries(b).map(([b,c])=>[b,a(c)])):b}(a));if(b.length){let c=await i({...d,files:b});a=function a(b,c){if(h(b)){if(c.length)return c.shift();console.warn("Not enough URIs to replace all files in object.")}return"object"==typeof b?b?Array.isArray(b)?b.map(b=>a(b,c)):Object.fromEntries(Object.entries(b).map(([b,d])=>[b,a(d,c)])):b:b}(a,Array.isArray(c)?c:[c])}j=a.map(a=>"string"==typeof a?a:(0,c.stringify)(a))}let{fileNames:k,form:l}=function(a,b,c){let d=new Map,h=[];for(let i=0;i<b.length;i++){let j=b[i],k="",l=j;if(f(j))if(c?.rewriteFileNames){let a="";if(j.name){let b=j.name.lastIndexOf(".");b>-1&&(a=j.name.substring(b))}k=`${i+c.rewriteFileNames.fileStartNumber}${a}`}else k=`${j.name}`;else g(j)?(l=j.data,k=c?.rewriteFileNames?`${i+c.rewriteFileNames.fileStartNumber}`:`${j.name}`):k=c?.rewriteFileNames?`${i+c.rewriteFileNames.fileStartNumber}`:`${i}`;let m=c?.uploadWithoutDirectory?"files":`files/${k}`;if(d.has(k)){if(function(a,b){if(f(a)&&f(b)){if(a.name===b.name&&a.lastModified===b.lastModified&&a.size===b.size)return!0}else if((0,e.isUint8Array)(a)&&(0,e.isUint8Array)(b))return(0,e.areUint8ArraysEqual)(a,b);else if(g(a)&&g(b)&&a.name===b.name){if("string"==typeof a.data&&"string"==typeof b.data)return a.data===b.data;if((0,e.isUint8Array)(a.data)&&(0,e.isUint8Array)(b.data))return(0,e.areUint8ArraysEqual)(a.data,b.data)}return!1}(d.get(k),j)){h.push(k);continue}throw Error(`[DUPLICATE_FILE_NAME_ERROR] File name ${k} was passed for more than one different file.`)}d.set(k,j),h.push(k),a.append("file",new Blob([l]),m)}let i={keyvalues:{...c?.metadata},name:"Storage SDK"};return a.append("pinataMetadata",JSON.stringify(i)),c?.uploadWithoutDirectory&&a.append("pinataOptions",JSON.stringify({wrapWithDirectory:!1})),{fileNames:h.map(a=>encodeURIComponent(a)),form:a}}(new FormData,j,d),m=(0,b.detectPlatform)();if("browser"===m||"node"===m){let{uploadBatch:b}=await a.A(40190),c=await b(d.client,l,k,d);return 1===d.files.length?c[0]:c}throw Error("Please, use the uploadMobile function in mobile environments.")}a.s(["upload",()=>i],36679)},40190,a=>{a.v(b=>Promise.all(["server/chunks/ssr/node_modules_thirdweb_dist_esm_storage_upload_web-node_c162a37c.js"].map(b=>a.l(b))).then(()=>b(751770)))}];

//# sourceMappingURL=node_modules_thirdweb_dist_esm_storage_80e31697._.js.map