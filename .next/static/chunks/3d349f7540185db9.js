(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,917105,e=>{"use strict";var t=e.i(815373),a=e.i(61460),n=e.i(902094),r=e.i(88776);function i(e){let i;if("string"==typeof e)i=(0,r.parseSignature)(e);else{let t=(0,n.parseStructs)(e),s=e.length;for(let n=0;n<s;n++){let s=e[n];if(!(0,a.isStructSignature)(s)){i=(0,r.parseSignature)(s,t);break}}}if(!i)throw new t.InvalidAbiItemError({signature:e});return i}e.s(["parseAbiItem",()=>i])},414019,e=>{"use strict";var t=e.i(284251),a=e.i(406356),n=e.i(342733);function r(e){return(0,n.isHex)(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}var i=e.i(803702);function s(e,n){if(e.length!==n.length)throw Error("The number of parameters and values must match.");let s=o(function({params:e,values:n}){let s=[];for(let c=0;c<e.length;c++)s.push(function e({param:n,value:s}){let c,d=(c=n.type.match(/^(.*)\[(\d+)?\]$/))?[c[2]?Number(c[2]):null,c[1]]:void 0;if(d){let[a,r]=d;return function(a,{length:n,param:r}){let s=null===n;if(!Array.isArray(a))throw Error("Invalid array value.");if(!s&&a.length!==n)throw Error("Invalid array length.");let c=!1,d=[];for(let t=0;t<a.length;t++){let n=e({param:r,value:a[t]});n.dynamic&&(c=!0),d.push(n)}if(s||c){let e=o(d);if(s){let a=(0,i.numberToHex)(d.length,{size:32});return{dynamic:!0,encoded:d.length>0?t.concat(a,e):a}}if(c)return{dynamic:!0,encoded:e}}return{dynamic:!1,encoded:t.concat(...d.map(({encoded:e})=>e))}}(s,{length:a,param:{...n,type:r}})}if("tuple"===n.type)return function(a,{param:n}){let r=!1,i=[];for(let t=0;t<n.components.length;t++){let s=n.components[t],o=Array.isArray(a)?t:s.name,c=e({param:s,value:a[o]});i.push(c),c.dynamic&&(r=!0)}return{dynamic:r,encoded:r?o(i):t.concat(...i.map(({encoded:e})=>e))}}(s,{param:n});if("address"===n.type){var l,u=s;if(""!==u&&void 0!==u&&!(0,a.isAddress)(u))throw Error(`Invalid address: ${u}`);return{dynamic:!1,encoded:(0,i.padHex)(u.toLowerCase())}}if("bool"===n.type){return l=s,{dynamic:!1,encoded:(0,i.padHex)((0,i.boolToHex)(l))}}if(n.type.startsWith("uint")||n.type.startsWith("int"))return function(e,{signed:t}){return{dynamic:!1,encoded:(0,i.numberToHex)(e,{signed:t,size:32})}}(s,{signed:n.type.startsWith("int")});if(n.type.startsWith("bytes"))return function(e,{param:a}){let[,n]=a.type.split("bytes"),s=r(e);if(!n){let a=e;return s%32!=0&&(a=(0,i.padHex)(a,{dir:"right",size:32*Math.ceil((e.length-2)/2/32)})),{dynamic:!0,encoded:t.concat((0,i.padHex)((0,i.numberToHex)(s,{size:32})),a)}}if(s!==Number.parseInt(n))throw Error(`Invalid bytes${n} size: ${s}`);return{dynamic:!1,encoded:(0,i.padHex)(e,{dir:"right"})}}(s,{param:n});if("string"===n.type){var p=s;let e=(0,i.stringToHex)(p),a=Math.ceil(r(e)/32),n=[];for(let r=0;r<a;r++)n.push((0,i.padHex)(t.slice(e,32*r,(r+1)*32),{dir:"right"}));return{dynamic:!0,encoded:t.concat((0,i.padHex)((0,i.numberToHex)(r(e),{size:32})),...n)}}throw Error(`Unsupported parameter type: ${n.type}`)}({param:e[c],value:n[c]}));return s}({params:e,values:n}));return 0===s.length?"0x":s}function o(e){let a=0;for(let t=0;t<e.length;t++){let{dynamic:n,encoded:i}=e[t];n?a+=32:a+=r(i)}let n=[],s=[],o=0;for(let t=0;t<e.length;t++){let{dynamic:c,encoded:d}=e[t];c?(n.push((0,i.numberToHex)(a+o,{size:32})),s.push(d),o+=r(d)):n.push(d)}return t.concat(...n,...s)}e.s(["encodeAbiParameters",()=>s],414019)},225642,e=>{"use strict";var t=e.i(917105),a=e.i(879617),n=e.i(246950),r=e.i(772935);let i=new n.LruMap(4096);function s(e){let n="string"==typeof e?e:(0,r.stringify)(e);if(i.has(n))return i.get(n);let s="string"==typeof e?(0,t.parseAbiItem)(e):e,o=[(0,a.toFunctionSelector)(s),s.inputs,s.outputs];return i.set(n,o),o}e.s(["prepareMethod",()=>s])},720179,e=>{"use strict";var t=e.i(595057),a=e.i(315428);let n=(0,a.defineChain)({blockExplorers:[{apiUrl:"https://api.basescan.org/api",name:"Basescan",url:"https://basescan.org"}],id:8453,name:"Base",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"}}),r=(0,a.defineChain)({blockExplorers:[{apiUrl:"https://api-sepolia.basescan.org/api",name:"Basescan",url:"https://sepolia.basescan.org"}],id:84532,name:"Base Sepolia",nativeCurrency:{decimals:18,name:"Sepolia Ether",symbol:"ETH"},testnet:!0}),i=(0,a.defineChain)({blockExplorers:[{apiUrl:"https://api-optimistic.etherscan.io",name:"Optimism Explorer",url:"https://optimistic.etherscan.io"}],id:10,name:"OP Mainnet",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"}}),s=(0,a.defineChain)({blockExplorers:[{apiUrl:"https://optimism-sepolia.blockscout.com/api",name:"Blockscout",url:"https://optimism-sepolia.blockscout.com"}],id:0xaa37dc,name:"OP Sepolia",nativeCurrency:{decimals:18,name:"Sepolia Ether",symbol:"ETH"},testnet:!0}),o=(0,a.defineChain)({blockExplorers:[{apiUrl:"https://explorer.zora.energy/api",name:"Explorer",url:"https://explorer.zora.energy"}],id:7777777,name:"Zora",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"}}),c=(0,a.defineChain)({blockExplorers:[{apiUrl:"https://sepolia.explorer.zora.energy/api",name:"Zora Sepolia Explorer",url:"https://sepolia.explorer.zora.energy/"}],id:0x3b9ac9ff,name:"Zora Sepolia",nativeCurrency:{decimals:18,name:"Zora Sepolia",symbol:"ETH"},testnet:!0}),d=[n.id,r.id,i.id,s.id,o.id,c.id,34443,919,42220,44787,204,5611];async function l(t){if(1337===t.id||31337===t.id)return!1;if(d.includes(t.id))return!0;try{let{getChainMetadata:a}=await e.A(138567),n=await a(t);return"optimism_bedrock"===n.stackType}catch{return!1}}var u=e.i(217427),p=e.i(733813),m=e.i(244400),f=e.i(134098);async function y(t){let a,{transaction:n}=t,r=t.from??t.account?.address??void 0,i=await (0,p.resolvePromisedValue)(n.gas)||await (0,f.estimateGas)({from:r,transaction:n}),s=await (0,u.getDefaultGasOverrides)(n.client,n.chain),o=s.maxFeePerGas||s.gasPrice;if(void 0===o)throw Error(`Unable to determine gas price for chain ${n.chain.id}`);if(await l(n.chain)){let{estimateL1Fee:t}=await e.A(223276);a=await t({transaction:n})}else a=0n;let c=i*o+a;return{ether:(0,m.toEther)(c),wei:c}}function h(e){return!!(e&&"object"==typeof e&&"type"in e&&"function"===e.type)}async function x(e,a){try{let t=await y({from:a,transaction:e}),n=t.wei/10n;return t.wei+n}catch{if(a)return await x(e);return 1000000n*await (0,t.getGasPrice)({chain:e.chain,client:e.client})}}e.s(["getTransactionGasCost",()=>x,"isAbiFunction",()=>h],720179)},687322,e=>{"use strict";var t=e.i(917105),a=e.i(249311),n=e.i(803702);async function r(e,t){let{blockNumber:a,blockTag:r,...i}=t,s=(a?(0,n.numberToHex)(a):void 0)||r||"latest";return await e({method:"eth_call",params:t.stateOverrides?[i,s,Object.fromEntries(Object.entries(t.stateOverrides).map(([e,t])=>[e,{balance:t.balance?(0,n.numberToHex)(t.balance):void 0,code:t.code,nonce:t.nonce?(0,n.numberToHex)(t.nonce):void 0,state:t.state,stateDiff:t.stateDiff}]))]:[i,s]})}var i=e.i(738290),s=e.i(414019),o=e.i(225642),c=e.i(406356),d=e.i(720179);async function l(e){let n,{contract:l,method:u,params:p}=e,m=async()=>{if(Array.isArray(u))return u;if((0,d.isAbiFunction)(u))return(0,o.prepareMethod)(u);if("function"==typeof u)return(0,o.prepareMethod)(await u(l));if("string"==typeof u&&u.startsWith("function ")){let e=(0,t.parseAbiItem)(u);if("function"===e.type)return(0,o.prepareMethod)(e);throw Error('"method" passed is not of type "function"')}if(l.abi&&l.abi?.length>0){let e=l.abi?.find(e=>"function"===e.type&&e.name===u);if(e)return(0,o.prepareMethod)(e)}throw Error(`Could not resolve method "${u}".`)},[f,y]=await Promise.all([m(),"function"==typeof p?p():p]);n=0===f[1].length?f[0]:f[0]+(0,s.encodeAbiParameters)(f[1],y).slice(2);let h=(0,i.getRpcClient)({chain:l.chain,client:l.client}),x=await r(h,{data:n,from:e.from?(0,c.getAddress)(e.from):void 0,to:l.address}),g=(0,a.decodeAbiParameters)(f[2],x);return Array.isArray(g)&&1===g.length?g[0]:g}e.s(["readContract",()=>l],687322)},594951,e=>{"use strict";var t=e.i(284251);function a(e){let a=e.domain;return a?.chainId!==void 0&&t.validate(a.chainId)&&(e.domain={...e.domain,chainId:t.toNumber(e.domain.chainId)}),e}e.s(["parseTypedData",()=>a])},424448,e=>{"use strict";let t=new WeakMap;async function a(a){if(t.has(a))return t.get(a);let i=(async()=>{let[t,i,{concatHex:s}]=await Promise.all([n(a),r(a),e.A(878967)]);return i?s([t,i]):t})();return t.set(a,i),i}async function n(e){if(void 0===e.data)return"0x";if("function"==typeof e.data){let t=await e.data();return t||"0x"}return e.data}async function r(e){if(e.extraCallData){if("function"==typeof e.extraCallData){let t=await e.extraCallData();if(!t)return;if(!t.startsWith("0x"))throw Error("Invalid extra calldata - must be a hex string");if("0x"===t)return;return t}if(!e.extraCallData.startsWith("0x"))throw Error("Invalid extra calldata - must be a hex string");return e.extraCallData}}e.s(["encode",()=>a,"getDataFromTx",()=>n,"getExtraCallDataFromTx",()=>r])},62126,e=>{"use strict";e.s(["arrayRegex",0,/^(.*)\[([0-9]*)\]$/,"bytesRegex",0,/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,"integerRegex",0,/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,"maxUint256",0,2n**256n-1n,"maxUint96",0,2n**96n-1n])},253671,e=>{"use strict";let t="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee";function a(e){return e.toLowerCase()===t}e.s(["NATIVE_TOKEN_ADDRESS",0,t,"ZERO_ADDRESS",0,"0x0000000000000000000000000000000000000000","isNativeTokenAddress",()=>a])},200729,e=>{"use strict";var t=e.i(963269),a=e.i(568744);async function n(n){let{account:r,transaction:i,gasless:s}=n;if(r.onTransactionRequested&&await r.onTransactionRequested(i),i.eip712){let{sendEip712Transaction:t}=await e.A(239638);return t({account:r,transaction:i})}let o=await (0,a.toSerializableTransaction)({from:r,transaction:i});if(s){let{sendGaslessTransaction:t}=await e.A(863244);return t({account:r,gasless:s,serializableTransaction:o,transaction:i})}let c=await r.sendTransaction(o);return(0,t.addTransactionToStore)({address:r.address,chainId:i.chain.id,transactionHash:c.transactionHash}),{...c,chain:i.chain,client:i.client}}e.s(["sendTransaction",()=>n],200729)},568744,e=>{"use strict";var t=e.i(217427),a=e.i(738290),n=e.i(406356),r=e.i(452042),i=e.i(733813),s=e.i(424448),o=e.i(134098);async function c(c){if(await (0,r.isZkSyncChain)(c.transaction.chain)){let{getZkGasFees:t}=await e.A(239638),{gas:a,maxFeePerGas:r,maxPriorityFeePerGas:i}=await t({from:"string"==typeof c.from?(0,n.getAddress)(c.from):void 0!==c.from?(0,n.getAddress)(c.from.address):void 0,transaction:c.transaction});c.transaction={...c.transaction,gas:a,maxFeePerGas:r,maxPriorityFeePerGas:i}}let d=(0,a.getRpcClient)(c.transaction),l=c.transaction.chain.id,u=c.from,[p,m,f,y,h,x,g,b,v]=await Promise.all([(0,s.encode)(c.transaction),(async()=>{let t=await (0,i.resolvePromisedValue)(c.transaction.nonce);return void 0!==t?t:u?await e.A(612417).then(({eth_getTransactionCount:e})=>e(d,{address:"string"==typeof u?(0,n.getAddress)(u):(0,n.getAddress)(u.address),blockTag:"pending"})):void 0})(),(0,o.estimateGas)({...c,from:c.from}),(0,t.getGasOverridesForTransaction)(c.transaction),(0,i.resolvePromisedValue)(c.transaction.to),(0,i.resolvePromisedValue)(c.transaction.accessList),(0,i.resolvePromisedValue)(c.transaction.value),(0,i.resolvePromisedValue)(c.transaction.authorizationList),(0,i.resolvePromisedValue)(c.transaction.type)]),w=await (0,i.resolvePromisedValue)(c.transaction.extraGas);return w&&(f+=w),{accessList:x,authorizationList:b,chainId:l,data:p,gas:f,nonce:m,to:h,type:v,value:g,...y}}e.s(["toSerializableTransaction",()=>c])},963269,e=>{"use strict";async function t(t){let[{getV1WalletsByWalletAddressTransactions:a},{getThirdwebDomains:n},{getClientFetch:r},{assertInsightEnabled:i},{stringify:s}]=await Promise.all([e.A(125163),e.A(3418),e.A(329767),e.A(122988),e.A(257143)]);await i(t.chains);let o=Math.floor((Date.now()-7776e6)/1e3),{client:c,walletAddress:d,chains:l,queryOptions:u}=t,p={chain:l.map(e=>e.id),filter_block_timestamp_gte:o,limit:100},m=await a({baseUrl:`https://${n().insight}`,fetch:r(c),path:{wallet_address:d},query:{...p,...u}});if(m.error)throw Error(`${m.response.status} ${m.response.statusText} - ${m.error?s(m.error):"Unknown error"}`);return m.data.data||[]}var a=e.i(107470);let n=new Map;function r(e){let t=n.get(e);if(t)return t;let r=(0,a.createStore)([]);return n.set(e,r),r}function i(e){let{address:t,transactionHash:a,chainId:i}=e,s=r(t);s.setValue([...s.getValue(),{chainId:i,transactionHash:a}]),n.set(t,s)}async function s(e){let{walletAddress:a,chain:n,client:r}=e,i=Math.floor((Date.now()-2592e6)/1e3);return(await t({chains:[n],client:r,queryOptions:{filter_block_timestamp_gte:i,limit:20,decode:!0},walletAddress:a})).map(e=>({chainId:"string"==typeof e.chain_id?Number(e.chain_id):e.chain_id,receipt:{status:0===e.status?"failed":"success",to:e.to_address},transactionHash:e.hash,decoded:e.decoded}))}e.s(["addTransactionToStore",()=>i,"getPastTransactions",()=>s,"getTransactionStore",()=>r],963269)},240209,e=>{"use strict";var t=e.i(284251);function a(e){return t.concat(...e)}e.s(["concatHex",()=>a])},806685,e=>{"use strict";var t=e.i(608861),a=e.i(796516);function n(e,n){if(!(0,a.isAddress)(e,{strict:!1}))throw new t.InvalidAddressError({address:e});if(!(0,a.isAddress)(n,{strict:!1}))throw new t.InvalidAddressError({address:n});return e.toLowerCase()===n.toLowerCase()}e.s(["isAddressEqual",()=>n])},627173,774620,e=>{"use strict";var t=e.i(70204),a=e.i(880841),n=e.i(796516);let r=e.i(926336).toSignatureHash;e.s(["toEventSelector",0,r],774620);var i=e.i(879617);function s(e){let s,{abi:o,args:c=[],name:d}=e,l=(0,a.isHex)(d,{strict:!1}),u=o.filter(e=>l?"function"===e.type?(0,i.toFunctionSelector)(e)===d:"event"===e.type&&r(e)===d:"name"in e&&e.name===d);if(0!==u.length){if(1===u.length)return u[0];for(let e of u){if("inputs"in e){if(!c||0===c.length){if(!e.inputs||0===e.inputs.length)return e;continue}if(e.inputs&&0!==e.inputs.length&&e.inputs.length===c.length&&c.every((t,a)=>{let r="inputs"in e&&e.inputs[a];return!!r&&function e(t,a){let r=typeof t,i=a.type;switch(i){case"address":return(0,n.isAddress)(t,{strict:!1});case"bool":return"boolean"===r;case"function":case"string":return"string"===r;default:if("tuple"===i&&"components"in a)return Object.values(a.components).every((a,n)=>e(Object.values(t)[n],a));if(/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(i))return"number"===r||"bigint"===r;if(/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(i))return"string"===r||t instanceof Uint8Array;if(/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(i))return Array.isArray(t)&&t.every(t=>e(t,{...a,type:i.replace(/(\[[0-9]{0,}\])$/,"")}));return!1}}(t,r)})){if(s&&"inputs"in s&&s.inputs){let a=function e(t,a,r){for(let i in t){let s=t[i],o=a[i];if("tuple"===s.type&&"tuple"===o.type&&"components"in s&&"components"in o)return e(s.components,o.components,r[i]);let c=[s.type,o.type];if(c.includes("address")&&c.includes("bytes20")||(c.includes("address")&&c.includes("string")||c.includes("address")&&c.includes("bytes"))&&(0,n.isAddress)(r[i],{strict:!1}))return c}}(e.inputs,s.inputs,c);if(a)throw new t.AbiItemAmbiguityError({abiItem:e,type:a[0]},{abiItem:s,type:a[1]})}s=e}}}return s||u[0]}}e.s(["getAbiItem",()=>s],627173)},674768,e=>{"use strict";e.s(["maxInt104",0,2n**(104n-1n)-1n,"maxInt112",0,2n**(112n-1n)-1n,"maxInt120",0,2n**(120n-1n)-1n,"maxInt128",0,2n**(128n-1n)-1n,"maxInt136",0,2n**(136n-1n)-1n,"maxInt144",0,2n**(144n-1n)-1n,"maxInt152",0,2n**(152n-1n)-1n,"maxInt16",0,2n**(16n-1n)-1n,"maxInt160",0,2n**(160n-1n)-1n,"maxInt168",0,2n**(168n-1n)-1n,"maxInt176",0,2n**(176n-1n)-1n,"maxInt184",0,2n**(184n-1n)-1n,"maxInt192",0,2n**(192n-1n)-1n,"maxInt200",0,2n**(200n-1n)-1n,"maxInt208",0,2n**(208n-1n)-1n,"maxInt216",0,2n**(216n-1n)-1n,"maxInt224",0,2n**(224n-1n)-1n,"maxInt232",0,2n**(232n-1n)-1n,"maxInt24",0,2n**(24n-1n)-1n,"maxInt240",0,2n**(240n-1n)-1n,"maxInt248",0,2n**(248n-1n)-1n,"maxInt256",0,2n**(256n-1n)-1n,"maxInt32",0,2n**(32n-1n)-1n,"maxInt40",0,2n**(40n-1n)-1n,"maxInt48",0,2n**(48n-1n)-1n,"maxInt56",0,2n**(56n-1n)-1n,"maxInt64",0,2n**(64n-1n)-1n,"maxInt72",0,2n**(72n-1n)-1n,"maxInt8",0,2n**(8n-1n)-1n,"maxInt80",0,2n**(80n-1n)-1n,"maxInt88",0,2n**(88n-1n)-1n,"maxInt96",0,2n**(96n-1n)-1n,"maxUint104",0,2n**104n-1n,"maxUint112",0,2n**112n-1n,"maxUint120",0,2n**120n-1n,"maxUint128",0,2n**128n-1n,"maxUint136",0,2n**136n-1n,"maxUint144",0,2n**144n-1n,"maxUint152",0,2n**152n-1n,"maxUint16",0,2n**16n-1n,"maxUint160",0,2n**160n-1n,"maxUint168",0,2n**168n-1n,"maxUint176",0,2n**176n-1n,"maxUint184",0,2n**184n-1n,"maxUint192",0,2n**192n-1n,"maxUint200",0,2n**200n-1n,"maxUint208",0,2n**208n-1n,"maxUint216",0,2n**216n-1n,"maxUint224",0,2n**224n-1n,"maxUint232",0,2n**232n-1n,"maxUint24",0,2n**24n-1n,"maxUint240",0,2n**240n-1n,"maxUint248",0,2n**248n-1n,"maxUint256",0,2n**256n-1n,"maxUint32",0,2n**32n-1n,"maxUint40",0,2n**40n-1n,"maxUint48",0,2n**48n-1n,"maxUint56",0,2n**56n-1n,"maxUint64",0,2n**64n-1n,"maxUint72",0,2n**72n-1n,"maxUint8",0,2n**8n-1n,"maxUint80",0,2n**80n-1n,"maxUint88",0,2n**88n-1n,"maxUint96",0,2n**96n-1n,"minInt104",0,-(2n**(104n-1n)),"minInt112",0,-(2n**(112n-1n)),"minInt120",0,-(2n**(120n-1n)),"minInt128",0,-(2n**(128n-1n)),"minInt136",0,-(2n**(136n-1n)),"minInt144",0,-(2n**(144n-1n)),"minInt152",0,-(2n**(152n-1n)),"minInt16",0,-(2n**(16n-1n)),"minInt160",0,-(2n**(160n-1n)),"minInt168",0,-(2n**(168n-1n)),"minInt176",0,-(2n**(176n-1n)),"minInt184",0,-(2n**(184n-1n)),"minInt192",0,-(2n**(192n-1n)),"minInt200",0,-(2n**(200n-1n)),"minInt208",0,-(2n**(208n-1n)),"minInt216",0,-(2n**(216n-1n)),"minInt224",0,-(2n**(224n-1n)),"minInt232",0,-(2n**(232n-1n)),"minInt24",0,-(2n**(24n-1n)),"minInt240",0,-(2n**(240n-1n)),"minInt248",0,-(2n**(248n-1n)),"minInt256",0,-(2n**(256n-1n)),"minInt32",0,-(2n**(32n-1n)),"minInt40",0,-(2n**(40n-1n)),"minInt48",0,-(2n**(48n-1n)),"minInt56",0,-(2n**(56n-1n)),"minInt64",0,-(2n**(64n-1n)),"minInt72",0,-(2n**(72n-1n)),"minInt8",0,-(2n**(8n-1n)),"minInt80",0,-(2n**(80n-1n)),"minInt88",0,-(2n**(88n-1n)),"minInt96",0,-(2n**(96n-1n))])},450466,e=>{"use strict";function t(e,t){return t&&(e.__preparedMethod=t.preparedMethod,e.__contract=t.contract),e}e.s(["TransactionTypeMap",0,{eip1559:1,eip2930:2,eip4844:3,eip7702:4,legacy:0},"prepareTransaction",()=>t])},308716,e=>{"use strict";var t=e.i(917105),a=e.i(414019),n=e.i(225642),r=e.i(733813),i=e.i(450466),s=e.i(720179);function o(e){let{contract:o,method:c,params:d,...l}=e,u=()=>(async()=>{if(Array.isArray(c))return c;if((0,s.isAbiFunction)(c))return(0,n.prepareMethod)(c);if("function"==typeof c)return(0,n.prepareMethod)(await c(o));if("string"==typeof c&&c.startsWith("function ")){let e=(0,t.parseAbiItem)(c);if("function"===e.type)return(0,n.prepareMethod)(e);throw Error('"method" passed is not of type "function"')}if(o.abi&&o.abi?.length>0){let e=o.abi?.find(e=>"function"===e.type&&e.name===c);if(e)return(0,n.prepareMethod)(e)}throw Error(`Could not resolve method "${c}".`)})();return(0,i.prepareTransaction)({...l,chain:o.chain,client:o.client,data:async()=>{let e;return 0===(e=Array.isArray(c)?c:await u())[1].length?e[0]:e[0]+(0,a.encodeAbiParameters)(e[1],await (0,r.resolvePromisedValue)(d??[])).slice(2)},to:o.address},{contract:o,preparedMethod:u})}e.s(["prepareContractCall",()=>o])},897282,222427,e=>{"use strict";var t=e.i(70204),a=e.i(806685),n=e.i(769936),r=e.i(831095),i=e.i(774620),s=e.i(493429),o=e.i(401319),c=e.i(249311),d=e.i(332881);let l="/docs/contract/decodeEventLog";function u(e){let{abi:a,data:n,strict:r,topics:u}=e,p=r??!0,[m,...f]=u;if(!m)throw new t.AbiEventSignatureEmptyTopicsError({docsPath:l});let y=a.find(e=>"event"===e.type&&m===(0,i.toEventSelector)((0,d.formatAbiItem)(e)));if(!(y&&"name"in y)||"event"!==y.type)throw new t.AbiEventSignatureNotFoundError(m,{docsPath:l});let{name:h,inputs:x}=y,g=x?.some(e=>!("name"in e&&e.name)),b=g?[]:{},v=x.map((e,t)=>[e,t]).filter(([e])=>"indexed"in e&&e.indexed);for(let e=0;e<v.length;e++){let[a,n]=v[e],r=f[e];if(!r)throw new t.DecodeLogTopicsMismatch({abiItem:y,param:a});b[g?n:a.name||n]=function({param:e,value:t}){return"string"===e.type||"bytes"===e.type||"tuple"===e.type||e.type.match(/^(.*)\[(\d+)?\]$/)?t:((0,c.decodeAbiParameters)([e],t)||[])[0]}({param:a,value:r})}let w=x.filter(e=>!("indexed"in e&&e.indexed));if(w.length>0){if(n&&"0x"!==n)try{let e=(0,c.decodeAbiParameters)(w,n);if(e)if(g)for(let t=0;t<x.length;t++)b[t]=b[t]??e.shift();else for(let t=0;t<w.length;t++)b[w[t].name]=e[t]}catch(e){if(p){if(e instanceof t.AbiDecodingDataSizeTooSmallError||e instanceof s.PositionOutOfBoundsError)throw new t.DecodeLogDataMismatch({abiItem:y,data:n,params:w,size:(0,o.size)(n)});throw e}}else if(p)throw new t.DecodeLogDataMismatch({abiItem:y,data:"0x",params:w,size:0})}return{eventName:h,args:Object.values(b).length>0?b:void 0}}function p(e){let{abi:s,args:o,logs:c,strict:d=!0}=e,l=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return c.map(e=>{try{let t=s.find(t=>"event"===t.type&&e.topics[0]===(0,i.toEventSelector)(t));if(!t)return null;let c=u({...e,abi:[t],strict:d});if(l&&!l.includes(c.eventName)||!function(e){let{args:t,inputs:i,matchArgs:s}=e;if(!s)return!0;if(!t)return!1;function o(e,t,i){try{if("address"===e.type)return(0,a.isAddressEqual)(t,i);if("string"===e.type||"bytes"===e.type)return(0,r.keccak256)((0,n.toBytes)(t))===i;return t===i}catch{return!1}}return Array.isArray(t)&&Array.isArray(s)?s.every((e,a)=>{if(null==e)return!0;let n=i[a];return!!n&&(Array.isArray(e)?e:[e]).some(e=>o(n,e,t[a]))}):!("object"!=typeof t||Array.isArray(t)||"object"!=typeof s||Array.isArray(s))&&Object.entries(s).every(([e,a])=>{if(null==a)return!0;let n=i.find(t=>t.name===e);return!!n&&(Array.isArray(a)?a:[a]).some(a=>o(n,a,t[e]))})}({args:c.args,inputs:t.inputs,matchArgs:o}))return null;return{...c,...e}}catch(r){let a,n;if(r instanceof t.AbiEventSignatureNotFoundError)return null;if(r instanceof t.DecodeLogDataMismatch||r instanceof t.DecodeLogTopicsMismatch){if(d)return null;a=r.abiItem.name,n=r.abiItem.inputs?.some(e=>!("name"in e&&e.name))}return{...e,args:n?[]:{},eventName:a}}}).filter(Boolean)}e.s(["decodeEventLog",()=>u],222427),e.s(["parseEventLogs",()=>p],897282)},251666,824820,e=>{"use strict";var t=e.i(70204),a=e.i(569934);class n extends a.BaseError{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}e.s(["FilterTypeNotSupportedError",()=>n],824820);var r=e.i(769936),i=e.i(831095),s=e.i(774620),o=e.i(704434),c=e.i(332881),d=e.i(627173);let l="/docs/contract/encodeEventTopics";function u(e){let{abi:a,eventName:n,args:r}=e,i=a[0];if(n){let e=(0,d.getAbiItem)({abi:a,name:n});if(!e)throw new t.AbiEventNotFoundError(n,{docsPath:l});i=e}if("event"!==i.type)throw new t.AbiEventNotFoundError(void 0,{docsPath:l});let o=(0,c.formatAbiItem)(i),u=(0,s.toEventSelector)(o),m=[];if(r&&"inputs"in i){let e=i.inputs?.filter(e=>"indexed"in e&&e.indexed),t=Array.isArray(r)?r:Object.values(r).length>0?e?.map(e=>r[e.name])??[]:[];t.length>0&&(m=e?.map((e,a)=>Array.isArray(t[a])?t[a].map((n,r)=>p({param:e,value:t[a][r]})):void 0!==t[a]&&null!==t[a]?p({param:e,value:t[a]}):null)??[])}return[u,...m]}function p({param:e,value:t}){if("string"===e.type||"bytes"===e.type)return(0,i.keccak256)((0,r.toBytes)(t));if("tuple"===e.type||e.type.match(/^(.*)\[(\d+)?\]$/))throw new n(e.type);return(0,o.encodeAbiParameters)([e],[t])}e.s(["encodeEventTopics",()=>u],251666)},660307,e=>{"use strict";var t=e.i(926336);e.s(["toEventHash",()=>t.toSignatureHash])},558101,825285,464949,e=>{"use strict";function t(e){let t;return()=>(t||(t=e()),t)}e.s(["once",()=>t],558101),e.s(["broadcastZkTransaction",()=>A,"bundleUserOp",()=>f,"estimateUserOpGas",()=>y,"executeWithSignature",()=>v,"getQueuedTransactionHash",()=>w,"getUserOpGasFees",()=>h,"getUserOpReceipt",()=>x,"getZkPaymasterData",()=>b],464949);var a=e.i(959953),n=e.i(897282),r=e.i(917105),i=e.i(251666),s=e.i(660307);function o(e){let t,{signature:a}=e;return{abiEvent:t=a&&"object"==typeof a&&"type"in a&&"event"===a.type?a:(0,r.parseAbiItem)(a),hash:(0,s.toEventHash)(t),topics:(0,i.encodeEventTopics)({abi:[t],args:e.filters})}}var c=e.i(803702),d=e.i(234667),l=e.i(772935),u=e.i(641153),p=e.i(342733);function m(e){return Object.fromEntries(Object.entries(e).map(([e,t])=>[e,null==t||(0,p.isHex)(t)?t:(0,c.toHex)(t)]))}async function f(e){return I({...e,operation:"eth_sendUserOperation",params:[m(e.userOp),e.options.entrypointAddress??u.ENTRYPOINT_ADDRESS_v0_6]})}async function y(e,t){let a=await I({...e,operation:"eth_estimateUserOperationGas",params:[m(e.userOp),e.options.entrypointAddress??u.ENTRYPOINT_ADDRESS_v0_6,t??{}]});return{callGasLimit:(0,c.hexToBigInt)(a.callGasLimit)+u.MANAGED_ACCOUNT_GAS_BUFFER,paymasterPostOpGasLimit:void 0!==a.paymasterPostOpGasLimit?(0,c.hexToBigInt)(a.paymasterPostOpGasLimit):void 0,paymasterVerificationGasLimit:void 0!==a.paymasterVerificationGasLimit?(0,c.hexToBigInt)(a.paymasterVerificationGasLimit):void 0,preVerificationGas:(0,c.hexToBigInt)(a.preVerificationGas),verificationGas:void 0!==a.verificationGas?(0,c.hexToBigInt)(a.verificationGas):void 0,verificationGasLimit:(0,c.hexToBigInt)(a.verificationGasLimit)}}async function h(e){let t=await I({...e,operation:"thirdweb_getUserOperationGasPrice",params:[]});return{maxFeePerGas:(0,c.hexToBigInt)(t.maxFeePerGas),maxPriorityFeePerGas:(0,c.hexToBigInt)(t.maxPriorityFeePerGas)}}async function x(e){let t=await g(e);if(t){if(!1===t.success){let e=function(e){let{logs:t,events:a,strict:r}=e;return(0,n.parseEventLogs)({abi:a.map(e=>e.abiEvent),logs:t,strict:r})}({events:[function(e={}){return o({filters:e,signature:"event UserOperationRevertReason(bytes32 indexed userOpHash, address indexed sender, uint256 nonce, bytes revertReason)"})}(),function(e={}){return o({filters:e,signature:"event PostOpRevertReason(bytes32 indexed userOpHash, address indexed sender, uint256 nonce, bytes revertReason)"})}()],logs:t.logs}),r=e[0]?.args?.revertReason;if(!r)throw Error(`UserOp failed at txHash: ${t.receipt.transactionHash}`);let i=(0,a.decodeErrorResult)({data:r});throw Error(`UserOp failed with reason: '${i.args.join(",")}' at txHash: ${t.receipt.transactionHash}`)}return t.receipt}}async function g(e){let t=await I({operation:"eth_getUserOperationReceipt",options:e,params:[e.userOpHash]});if(t)return function(e){let{receipt:t}=e,a={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs,status:t.status,to:t.to?t.to:null,transactionHash:t.transactionHash,transactionIndex:t.transactionIndex,type:t.type};return t.blobGasPrice&&(a.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(a.blobGasUsed=BigInt(t.blobGasUsed)),{...e,actualGasCost:BigInt(e.actualGasCost),actualGasUsed:BigInt(e.actualGasUsed),nonce:BigInt(e.nonce),receipt:a,userOpHash:e.userOpHash}}(t)}async function b(e){let t=await I({operation:"zk_paymasterData",options:e.options,params:[e.transaction]});return{paymaster:t.paymaster,paymasterInput:t.paymasterInput}}async function v(e){let t=await I({...e,operation:"tw_execute",params:[e.eoaAddress,e.wrappedCalls,e.signature,e.authorization]});if(!t.queueId)throw Error(`Error executing 7702 transaction: ${(0,l.stringify)(t)}`);return{transactionId:t.queueId}}async function w(e){return{transactionHash:(await I({...e,operation:"tw_getTransactionHash",params:[e.transactionId]})).transactionHash}}async function A(e){return{transactionHash:(await I({operation:"zk_broadcastTransaction",options:e.options,params:[{...e.transaction,signedTransaction:e.signedTransaction}]})).transactionHash}}async function I(e){let{options:t,operation:a,params:n}=e,r=t.bundlerUrl??(0,u.getDefaultBundlerUrl)(t.chain),i=(0,d.getClientFetch)(t.client),s=await i(r,{useAuthToken:!0,body:(0,l.stringify)({id:1,jsonrpc:"2.0",method:a,params:n}),headers:{"Content-Type":"application/json"},method:"POST"}),o=await s.json();if(!s.ok||o.error){let e=o.error||s.statusText;"object"==typeof e&&(e=(0,l.stringify)(e));let t=o.code||"UNKNOWN";throw Error(`${a} error: ${e}
Status: ${s.status}
Code: ${t}`)}return o.result}e.s(["generateRandomUint192",0,()=>{let e=BigInt(Math.floor(0x100000000*Math.random())),t=BigInt(Math.floor(0x100000000*Math.random())),a=BigInt(Math.floor(0x100000000*Math.random())),n=BigInt(Math.floor(0x100000000*Math.random())),r=BigInt(Math.floor(0x100000000*Math.random())),i=BigInt(Math.floor(0x100000000*Math.random()));return e<<BigInt(160)|t<<BigInt(128)|a<<BigInt(96)|n<<BigInt(64)|r<<BigInt(32)|i},"hexlifyUserOp",()=>m],825285)},200335,e=>{"use strict";var t=e.i(308716),a=e.i(687322),n=e.i(342733),r=e.i(803702),i=e.i(766644);async function s(e){let{factoryContract:t,predictAddressOverride:s,adminAddress:o,accountSalt:c,accountAddress:d}=e;if(s)return s(t,o);if(d)return d;if(!o)throw Error("Account address is required to predict the smart wallet address.");return(0,i.withCache)(async()=>{let e,i=c&&(0,n.isHex)(c)?c:(0,r.stringToHex)(c??""),s=0;for(;s<=3;)try{e=await (0,a.readContract)({contract:t,method:"function getAddress(address, bytes) returns (address)",params:[o,i]});break}catch(t){if(3===s)throw t;let e=2**(s+1)*200;await new Promise(t=>setTimeout(t,e)),s++}if(!e)throw Error(`No smart account address found for admin address ${o} and salt ${c}`);return e},{cacheKey:`${e.factoryContract.chain.id}-${e.factoryContract.address}-${e.adminAddress}-${e.accountSalt}`,cacheTime:864e5})}function o(e){let{adminAddress:a,factoryContract:i,createAccountOverride:s,accountSalt:o}=e;if(s)return s(i,a);let c=o&&(0,n.isHex)(o)?o:(0,r.stringToHex)(o??"");return(0,t.prepareContractCall)({contract:i,method:"function createAccount(address, bytes) returns (address)",params:[a,c]})}function c(e){let{accountContract:a,transaction:n,executeOverride:r}=e;if(r)return r(a,n);let i=n.value||0n;return(295===n.chainId||296===n.chainId)&&(i=BigInt(i)/BigInt(1e10)),(0,t.prepareContractCall)({contract:a,gas:n.gas?n.gas+21000n:void 0,method:"function execute(address, uint256, bytes)",params:[n.to||"",i,n.data||"0x"]})}function d(e){let{accountContract:a,transactions:n,executeBatchOverride:r}=e;if(r)return r(a,n);let i=n.map(e=>e.value||0n),s=n[0]?.chainId;return(295===s||296===s)&&(i=i.map(e=>BigInt(e)/BigInt(1e10))),(0,t.prepareContractCall)({contract:a,method:"function executeBatch(address[], uint256[], bytes[])",params:[n.map(e=>e.to||""),i,n.map(e=>e.data||"0x")]})}e.s(["predictAddress",()=>s,"prepareBatchExecute",()=>d,"prepareCreateAccount",()=>o,"prepareExecute",()=>c])},781979,383183,e=>{"use strict";var t=e.i(589518);function a(e,t,a){return e&t^~e&a}function n(e,t,a){return e&t^e&a^t&a}class r extends t.Hash{constructor(e,a,n,r){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=a,this.padOffset=n,this.isLE=r,this.buffer=new Uint8Array(e),this.view=(0,t.createView)(this.buffer)}update(e){(0,t.aexists)(this),e=(0,t.toBytes)(e),(0,t.abytes)(e);let{view:a,buffer:n,blockLen:r}=this,i=e.length;for(let s=0;s<i;){let o=Math.min(r-this.pos,i-s);if(o===r){let a=(0,t.createView)(e);for(;r<=i-s;s+=r)this.process(a,s);continue}n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(a,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,t.aexists)(this),(0,t.aoutput)(e,this),this.finished=!0;let{buffer:a,view:n,blockLen:r,isLE:i}=this,{pos:s}=this;a[s++]=128,(0,t.clean)(this.buffer.subarray(s)),this.padOffset>r-s&&(this.process(n,0),s=0);for(let e=s;e<r;e++)a[e]=0;!function(e,t,a,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,a,n);let r=BigInt(32),i=BigInt(0xffffffff),s=Number(a>>r&i),o=Number(a&i),c=4*!!n,d=4*!n;e.setUint32(t+c,s,n),e.setUint32(t+d,o,n)}(n,r-8,BigInt(8*this.length),i),this.process(n,0);let o=(0,t.createView)(e),c=this.outputLen;if(c%4)throw Error("_sha2: outputLen should be aligned to 32bit");let d=c/4,l=this.get();if(d>l.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<d;e++)o.setUint32(4*e,l[e],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let a=e.slice(0,t);return this.destroy(),a}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:a,length:n,finished:r,destroyed:i,pos:s}=this;return e.destroyed=i,e.finished=r,e.length=n,e.pos=s,n%t&&e.buffer.set(a),e}clone(){return this._cloneInto()}}let i=Uint32Array.from([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),s=Uint32Array.from([0xc1059ed8,0x367cd507,0x3070dd17,0xf70e5939,0xffc00b31,0x68581511,0x64f98fa7,0xbefa4fa4]),o=Uint32Array.from([0xcbbb9d5d,0xc1059ed8,0x629a292a,0x367cd507,0x9159015a,0x3070dd17,0x152fecd8,0xf70e5939,0x67332667,0xffc00b31,0x8eb44a87,0x68581511,0xdb0c2e0d,0x64f98fa7,0x47b5481d,0xbefa4fa4]),c=Uint32Array.from([0x6a09e667,0xf3bcc908,0xbb67ae85,0x84caa73b,0x3c6ef372,0xfe94f82b,0xa54ff53a,0x5f1d36f1,0x510e527f,0xade682d1,0x9b05688c,0x2b3e6c1f,0x1f83d9ab,0xfb41bd6b,0x5be0cd19,0x137e2179]);e.s(["Chi",()=>a,"HashMD",()=>r,"Maj",()=>n,"SHA224_IV",0,s,"SHA256_IV",0,i,"SHA384_IV",0,o,"SHA512_IV",0,c],383183);var d=e.i(126101);let l=Uint32Array.from([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),u=new Uint32Array(64);class p extends r{constructor(e=32){super(64,e,8,!1),this.A=0|i[0],this.B=0|i[1],this.C=0|i[2],this.D=0|i[3],this.E=0|i[4],this.F=0|i[5],this.G=0|i[6],this.H=0|i[7]}get(){let{A:e,B:t,C:a,D:n,E:r,F:i,G:s,H:o}=this;return[e,t,a,n,r,i,s,o]}set(e,t,a,n,r,i,s,o){this.A=0|e,this.B=0|t,this.C=0|a,this.D=0|n,this.E=0|r,this.F=0|i,this.G=0|s,this.H=0|o}process(e,a){for(let t=0;t<16;t++,a+=4)u[t]=e.getUint32(a,!1);for(let e=16;e<64;e++){let a=u[e-15],n=u[e-2],r=(0,t.rotr)(a,7)^(0,t.rotr)(a,18)^a>>>3,i=(0,t.rotr)(n,17)^(0,t.rotr)(n,19)^n>>>10;u[e]=i+u[e-7]+r+u[e-16]|0}let{A:r,B:i,C:s,D:o,E:c,F:d,G:p,H:m}=this;for(let e=0;e<64;e++){var f;let a=m+((0,t.rotr)(c,6)^(0,t.rotr)(c,11)^(0,t.rotr)(c,25))+((f=c)&d^~f&p)+l[e]+u[e]|0,y=((0,t.rotr)(r,2)^(0,t.rotr)(r,13)^(0,t.rotr)(r,22))+n(r,i,s)|0;m=p,p=d,d=c,c=o+a|0,o=s,s=i,i=r,r=a+y|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,c=c+this.E|0,d=d+this.F|0,p=p+this.G|0,m=m+this.H|0,this.set(r,i,s,o,c,d,p,m)}roundClean(){(0,t.clean)(u)}destroy(){this.set(0,0,0,0,0,0,0,0),(0,t.clean)(this.buffer)}}class m extends p{constructor(){super(28),this.A=0|s[0],this.B=0|s[1],this.C=0|s[2],this.D=0|s[3],this.E=0|s[4],this.F=0|s[5],this.G=0|s[6],this.H=0|s[7]}}let f=d.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),y=f[0],h=f[1],x=new Uint32Array(80),g=new Uint32Array(80);let b=(0,t.createHasher)(()=>new p),v=(0,t.createHasher)(()=>new m);e.s(["SHA224",()=>m,"SHA256",()=>p,"sha224",0,v,"sha256",0,b],781979)},70326,862243,e=>{"use strict";var t=e.i(569934),a=e.i(795),n=e.i(769936),r=e.i(675107);function i(e,t="hex"){let s=function e(t){var a,r;let i,s,o,d;return Array.isArray(t)?(s=c(i=(a=t.map(t=>e(t))).reduce((e,t)=>e+t.length,0)),{length:i<=55?1+i:1+s+i,encode(e){for(let{encode:t}of(i<=55?e.pushByte(192+i):(e.pushByte(247+s),1===s?e.pushUint8(i):2===s?e.pushUint16(i):3===s?e.pushUint24(i):e.pushUint32(i)),a))t(e)}}):(d=c((o="string"==typeof(r=t)?(0,n.hexToBytes)(r):r).length),{length:1===o.length&&o[0]<128?1:o.length<=55?1+o.length:1+d+o.length,encode(e){1===o.length&&o[0]<128||(o.length<=55?e.pushByte(128+o.length):(e.pushByte(183+d),1===d?e.pushUint8(o.length):2===d?e.pushUint16(o.length):3===d?e.pushUint24(o.length):e.pushUint32(o.length))),e.pushBytes(o)}})}(e),o=(0,a.createCursor)(new Uint8Array(s.length));return(s.encode(o),"hex"===t)?(0,r.bytesToHex)(o.bytes):o.bytes}function s(e,t="bytes"){return i(e,t)}function o(e,t="hex"){return i(e,t)}function c(e){if(e<256)return 1;if(e<65536)return 2;if(e<0x1000000)return 3;if(e<0x100000000)return 4;throw new t.BaseError("Length is too large.")}e.s(["bytesToRlp",()=>s,"hexToRlp",()=>o,"toRlp",()=>i],70326);var d=e.i(781979);d.SHA256;let l=d.sha256;d.SHA224,d.sha224;var u=e.i(880841);function p(e,t){let a=l((0,u.isHex)(e,{strict:!1})?(0,n.toBytes)(e):e);return"bytes"===(t||"hex")?a:(0,r.toHex)(a)}e.s(["sha256",()=>p],862243)},921492,e=>{"use strict";async function t(e,t){return await e({method:"eth_sendRawTransaction",params:[t]})}e.s(["eth_sendRawTransaction",()=>t])},598207,379279,e=>{"use strict";var t=e.i(769936),a=e.i(70326),n=e.i(921492),r=e.i(738290),i=e.i(406356),s=e.i(803702);function o(e){if(["string","number"].includes(typeof e)&&!Number.isInteger(Number(e)))throw Error(`Expected value to be an integer to convert to a bigint, got ${e} of type ${typeof e}`);return e instanceof Uint8Array?BigInt((0,s.uint8ArrayToHex)(e)):BigInt(e)}let c=(e,t)=>"bigint"==typeof e?t(e):Array.isArray(e)?e.map(e=>c(e,t)):e&&"object"==typeof e?Object.fromEntries(Object.entries(e).map(([e,a])=>[e,c(a,t)])):e;e.s(["replaceBigInts",0,c,"toBigInt",()=>o],379279);var d=e.i(240209),l=e.i(733813),u=e.i(424448),p=e.i(568744),m=e.i(22411),f=e.i(862243);let y=32n*e.i(674768).maxUint16;var h=e.i(569934);class x extends h.BaseError{constructor({givenLength:e,maxBytecodeSize:t}){super(`Bytecode cannot be longer than ${t} bytes. Given length: ${e}`,{name:"BytecodeLengthExceedsMaxSizeError"})}}class g extends h.BaseError{constructor({givenLengthInWords:e}){super(`Bytecode length in 32-byte words must be odd. Given length in words: ${e}`,{name:"BytecodeLengthInWordsMustBeOddError"})}}class b extends h.BaseError{constructor({givenLength:e}){super(`The bytecode length in bytes must be divisible by 32. Given length: ${e}`,{name:"BytecodeLengthMustBeDivisibleBy32Error"})}}async function v(e){let{account:t,transaction:a}=e,i=await A(e),s=await w({account:t,chainId:a.chain.id,eip712Transaction:i}),o=(0,r.getRpcClient)(a),c=await (0,n.eth_sendRawTransaction)(o,s);return{chain:a.chain,client:a.client,transactionHash:c}}async function w(e){let n,{account:r,eip712Transaction:i,chainId:o}=e,c=(n=function(e){let{gas:a,nonce:n,to:r,from:i,value:o,maxFeePerGas:c,maxPriorityFeePerGas:d,paymaster:l,paymasterInput:u,gasPerPubdata:p,data:h,factoryDeps:v}=e;return{data:h||"0x0",factoryDeps:v?.map(e=>(0,s.toHex)(function(e){let a=(0,t.toBytes)(e);if(a.length%32!=0)throw new b({givenLength:a.length});if(a.length>y)throw new x({givenLength:a.length,maxBytecodeSize:y});let n=(0,f.sha256)(a),r=(0,t.toBytes)(n),i=a.length/32;if(i%2==0)throw new g({givenLengthInWords:i});let s=(0,t.toBytes)(i),o=(0,m.pad)(s,{size:2}),c=new Uint8Array([1,0]);return r.set(c,0),r.set(o,2),r}(e)))??[],from:BigInt(i),gasLimit:a??0n,gasPerPubdataByteLimit:p??50000n,maxFeePerGas:c??0n,maxPriorityFeePerGas:d??0n,nonce:n?BigInt(n):0n,paymaster:l?BigInt(l):0n,paymasterInput:u||"0x",to:r?BigInt(r):0n,txType:113n,value:o??0n}}(i),{domain:{chainId:i.chainId,name:"zkSync",version:"2"},message:n,primaryType:"Transaction",types:{Transaction:[{name:"txType",type:"uint256"},{name:"from",type:"uint256"},{name:"to",type:"uint256"},{name:"gasLimit",type:"uint256"},{name:"gasPerPubdataByteLimit",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymaster",type:"uint256"},{name:"nonce",type:"uint256"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"factoryDeps",type:"bytes32[]"},{name:"paymasterInput",type:"bytes"}]}}),l=await r.signTypedData({...c});return function(e){let{chainId:t,gas:n,nonce:r,to:i,from:o,value:c,maxFeePerGas:l,maxPriorityFeePerGas:u,customSignature:p,factoryDeps:m,paymaster:f,paymasterInput:y,gasPerPubdata:h,data:x}=e,g=[r?(0,s.toHex)(r):"0x",u?(0,s.toHex)(u):"0x",l?(0,s.toHex)(l):"0x",n?(0,s.toHex)(n):"0x",i??"0x",c?(0,s.toHex)(c):"0x",x??"0x0",(0,s.toHex)(t),(0,s.toHex)(""),(0,s.toHex)(""),(0,s.toHex)(t),o??"0x",h?(0,s.toHex)(h):(0,s.toHex)(50000n),m??[],p??"0x",f&&y?[f,y]:[]];return(0,d.concatHex)(["0x71",(0,a.toRlp)(g)])}({...i,chainId:o,customSignature:l})}async function A(e){let{account:t,transaction:a}=e,{gas:n,maxFeePerGas:r,maxPriorityFeePerGas:s,gasPerPubdata:o}=await I({from:(0,i.getAddress)(t.address),transaction:a});return{...await (0,p.toSerializableTransaction)({from:t.address,transaction:{...a,gas:n,maxFeePerGas:r,maxPriorityFeePerGas:s}}),...a.eip712,from:t.address,gasPerPubdata:o}}async function I(e){let{transaction:t,from:a}=e,[n,i,d,u]=await Promise.all([(0,l.resolvePromisedValue)(t.gas),(0,l.resolvePromisedValue)(t.maxFeePerGas),(0,l.resolvePromisedValue)(t.maxPriorityFeePerGas),(0,l.resolvePromisedValue)(t.eip712)]),p=u?.gasPerPubdata;if(void 0===n||void 0===i||void 0===d){let e=(0,r.getRpcClient)(t),l=await T({from:a,transaction:t}),u=await e({method:"zks_estimateFee",params:[c(l,s.toHex)]});n=2n*o(u.gas_limit),i=2n*o(u.max_fee_per_gas),d=o(u.max_priority_fee_per_gas)||1n,(p=2n*o(u.gas_per_pubdata_limit))<50000n&&(p=50000n)}return{gas:n,gasPerPubdata:p,maxFeePerGas:i,maxPriorityFeePerGas:d}}async function T(e){let{transaction:a,from:n}=e,[r,i,s,o]=await Promise.all([(0,u.encode)(a),(0,l.resolvePromisedValue)(a.to),(0,l.resolvePromisedValue)(a.value),(0,l.resolvePromisedValue)(a.eip712)]),c=o?.gasPerPubdata;return{data:r,eip712Meta:{...o,factoryDeps:o?.factoryDeps?.map(e=>Array.from((0,t.hexToBytes)(e))),gasPerPubdata:c||50000n},from:n,gasPerPubdata:c,to:i,type:"0x71",value:s}}e.s(["getZkGasFees",()=>I,"populateEip712Transaction",()=>A,"sendEip712Transaction",()=>v,"signEip712Transaction",()=>w],598207)},424289,e=>{"use strict";e.s(["connectSmartAccount",()=>eG,"disconnectSmartAccount",()=>eE,"getEntrypointFromFactory",()=>eO],25835);var t=e.i(127742),a=e.i(108803),n=e.i(315428),r=e.i(612838),i=e.i(687322);let s=[{name:"owner",type:"address"},{name:"spender",type:"address"}],o=[{type:"uint256"}];async function c(e){return(0,i.readContract)({contract:e.contract,method:["0xdd62ed3e",s,o],params:[e.owner,e.spender]})}var d=e.i(244400),l=e.i(308716),u=e.i(558101);let p=[{name:"spender",type:"address"},{name:"value",type:"uint256"}],m=[{type:"bool"}];var f=e.i(253671),y=e.i(221284);let h=[{name:"signer",type:"address"}],x=[{components:[{name:"signer",type:"address"},{name:"approvedTargets",type:"address[]"},{name:"nativeTokenLimitPerTransaction",type:"uint256"},{name:"startTimestamp",type:"uint128"},{name:"endTimestamp",type:"uint128"}],name:"permissions",type:"tuple"}];async function g(e){return(0,i.readContract)({contract:e.contract,method:["0xf15d424e",h,x],params:[e.signer]})}let b=[{components:[{name:"signer",type:"address"},{name:"isAdmin",type:"uint8"},{name:"approvedTargets",type:"address[]"},{name:"nativeTokenLimitPerTransaction",type:"uint256"},{name:"permissionStartTimestamp",type:"uint128"},{name:"permissionEndTimestamp",type:"uint128"},{name:"reqValidityStartTimestamp",type:"uint128"},{name:"reqValidityEndTimestamp",type:"uint128"},{name:"uid",type:"bytes32"}],name:"req",type:"tuple"},{name:"signature",type:"bytes"}],v=[];var w=e.i(379279);function A(){return new Date(Date.now()+31536e7)}function I(e){return(0,w.toBigInt)(Math.floor(e.getTime()/1e3))}var T=e.i(79455);let P=[{name:"signer",type:"address"},{name:"isAdmin",type:"uint8"},{name:"approvedTargets",type:"address[]"},{name:"nativeTokenLimitPerTransaction",type:"uint256"},{name:"permissionStartTimestamp",type:"uint128"},{name:"permissionEndTimestamp",type:"uint128"},{name:"reqValidityStartTimestamp",type:"uint128"},{name:"reqValidityEndTimestamp",type:"uint128"},{name:"uid",type:"bytes32"}];async function G(e){let{account:t,contract:a,req:n}=e,r=await t.signTypedData({domain:{chainId:a.chain.id,name:"Account",verifyingContract:a.address,version:"1"},message:n,primaryType:"SignerPermissionRequest",types:{SignerPermissionRequest:P}});return{req:n,signature:r}}async function E(e){let{target:t,permissions:a}=e;return{approvedTargets:"*"===a.approvedTargets?[f.ZERO_ADDRESS]:a.approvedTargets,isAdmin:0,nativeTokenLimitPerTransaction:(0,d.toWei)(a.nativeTokenLimitPerTransaction?.toString()||"0"),permissionEndTimestamp:I(a.permissionEndTimestamp||A()),permissionStartTimestamp:I(a.permissionStartTimestamp||new Date(0)),reqValidityEndTimestamp:I(A()),reqValidityStartTimestamp:0n,signer:t,uid:await (0,T.randomBytesHex)()}}async function U(e){var t,a;let{accountContract:n,sessionKeyAddress:r,newPermissions:i}=e;if(!await (0,y.isContractDeployed)(n))return!0;let s=await g({contract:n,signer:r});return!!(s.endTimestamp&&s.endTimestamp<Math.floor(Date.now()/1e3)||(t=s.approvedTargets,!("*"===(a=i.approvedTargets)&&1===t.length&&t[0]===f.ZERO_ADDRESS||"*"!==a&&a.map(e=>e.toLowerCase()).every(e=>t.map(e=>e.toLowerCase()).includes(e))))||(0,d.toWei)(i.nativeTokenLimitPerTransaction?.toString()??"0")>s.nativeTokenLimitPerTransaction)}var C=e.i(200729),L=e.i(568744),O=e.i(598207),D=e.i(406356),B=e.i(452042),S=e.i(733813),H=e.i(594951);let _=2n**96n-1n;var k=e.i(464949),V=e.i(200335),R=e.i(641153),M=e.i(62126),F=e.i(147526);let N=[{name:"sender",type:"address"},{name:"key",type:"uint192"}],$=[{name:"nonce",type:"uint256"}];async function j(e){return(0,i.readContract)({contract:e.contract,method:["0x35567e1a",N,$],params:[e.sender,e.key]})}let z=[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"callGasLimit",type:"uint256"},{name:"verificationGasLimit",type:"uint256"},{name:"preVerificationGas",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOp",type:"tuple"}],q=[{type:"bytes32"}];async function W(e){return(0,i.readContract)({contract:e.contract,method:["0xa6193531",z,q],params:[e.userOp]})}let Z=[{components:[{name:"sender",type:"address"},{name:"nonce",type:"uint256"},{name:"initCode",type:"bytes"},{name:"callData",type:"bytes"},{name:"accountGasLimits",type:"bytes32"},{name:"preVerificationGas",type:"uint256"},{name:"gasFees",type:"bytes32"},{name:"paymasterAndData",type:"bytes"},{name:"signature",type:"bytes"}],name:"userOp",type:"tuple"}],K=[{type:"bytes32"}];async function Y(e){return(0,i.readContract)({contract:e.contract,method:["0x22cdde4c",Z,K],params:[e.userOp]})}var Q=e.i(217427),J=e.i(424448),X=e.i(414019),ee=e.i(803702),et=e.i(479963),ea=e.i(234667),en=e.i(629821),er=e.i(772935),ei=e.i(22411),es=e.i(675107),eo=e.i(825285);async function ec(e){let{userOp:t,paymasterOverride:a,client:n,chain:r,entrypointAddress:i}=e;if(a)return a(t);let s=i??R.ENTRYPOINT_ADDRESS_v0_6,o=(0,R.getDefaultBundlerUrl)(r),c={id:1,jsonrpc:"2.0",method:"pm_sponsorUserOperation",params:[(0,eo.hexlifyUserOp)(t),s]},d=(0,ea.getClientFetch)(n),l=await d(o,{body:(0,er.stringify)(c),headers:{"Content-Type":"application/json"},method:"POST"});if(!l.ok){let e=await l.text()||l.statusText;throw Error(`Paymaster error: ${l.status} - ${e}`)}let u=await l.json();if(u.result)return"string"==typeof u.result?{paymasterAndData:u.result}:(u.result.reason&&console.warn(`Paymaster policy rejected this transaction with reason: ${u.result.reason} ${u.result.policyId?`(policyId: ${u.result.policyId})`:""}`),{callGasLimit:u.result.callGasLimit?(0,ee.hexToBigInt)(u.result.callGasLimit):void 0,paymaster:u.result.paymaster,paymasterAndData:u.result.paymasterAndData,paymasterData:u.result.paymasterData,paymasterPostOpGasLimit:u.result.paymasterPostOpGasLimit?(0,ee.hexToBigInt)(u.result.paymasterPostOpGasLimit):void 0,paymasterVerificationGasLimit:u.result.paymasterVerificationGasLimit?(0,ee.hexToBigInt)(u.result.paymasterVerificationGasLimit):void 0,preVerificationGas:u.result.preVerificationGas?(0,ee.hexToBigInt)(u.result.preVerificationGas):void 0,verificationGasLimit:u.result.verificationGasLimit?(0,ee.hexToBigInt)(u.result.verificationGasLimit):void 0});let p=u.error?.message||u.error||l.statusText||"unknown error";throw Error(`Paymaster error from ${o}: ${p}`)}let ed=new Set,el=e=>`${e.chain.id}:${e.address}`,eu=e=>{ed.add(el(e))},ep=e=>{ed.delete(el(e))},em=e=>ed.has(el(e));async function ef(e){let t=e.timeoutMs||12e4,a=e.intervalMs||1e3,n=Date.now()+t;for(;Date.now()<n;){let t=await (0,k.getUserOpReceipt)(e);if(t)return t;await new Promise(e=>setTimeout(e,a))}throw Error(`Timeout waiting for userOp to be mined on chain ${e.chain.id} with UserOp hash: ${e.userOpHash}`)}async function ey(e){let{transaction:t,accountContract:a,factoryContract:n,adminAddress:r,overrides:i,sponsorGas:s,waitForDeployment:o=!0,isDeployedOverride:c}=e,d=t.chain,l=t.client,u={bundlerUrl:i?.bundlerUrl,chain:d,client:l,entrypointAddress:i?.entrypointAddress},p=(0,R.getEntryPointVersion)(e.overrides?.entrypointAddress||R.ENTRYPOINT_ADDRESS_v0_6),[m,f,h,x,g]=await Promise.all(["boolean"==typeof c?c:(0,y.isContractDeployed)(a).then(e=>e||em(a)),(0,J.encode)(t),(0,S.resolvePromisedValue)(t.gas),eh({bundlerOptions:u,chain:d,client:l,executeTx:t}),eA({accountContract:a,chain:d,client:l,entrypointAddress:i?.entrypointAddress,getNonceOverride:i?.getAccountNonce})]),{maxFeePerGas:b,maxPriorityFeePerGas:v}=x;return"v0.7"===p?ex({accountContract:a,adminAddress:r,bundlerOptions:u,callData:f,callGasLimit:h,factoryContract:n,isDeployed:m,maxFeePerGas:b,maxPriorityFeePerGas:v,nonce:g,overrides:i,sponsorGas:s,waitForDeployment:o}):eg({accountContract:a,adminAddress:r,bundlerOptions:u,callData:f,callGasLimit:h,factoryContract:n,isDeployed:m,maxFeePerGas:b,maxPriorityFeePerGas:v,nonce:g,overrides:i,sponsorGas:s,waitForDeployment:o})}async function eh(e){let{executeTx:t,bundlerOptions:a,chain:n,client:r}=e,{maxFeePerGas:i,maxPriorityFeePerGas:s}=t,o=a?.bundlerUrl??(0,R.getDefaultBundlerUrl)(n);if((0,ea.isThirdwebUrl)(o)){let e=await (0,k.getUserOpGasFees)({options:a});i=e.maxFeePerGas,s=e.maxPriorityFeePerGas}else{let[e,t]=await Promise.all([(0,S.resolvePromisedValue)(i),(0,S.resolvePromisedValue)(s)]);if(e&&t)i=e,s=t;else{let a=await (0,Q.getDefaultGasOverrides)(r,n);s=t??a.maxPriorityFeePerGas??0n,i=e??a.maxFeePerGas??0n}}return{maxFeePerGas:i,maxPriorityFeePerGas:s}}async function ex(e){let t,a,{bundlerOptions:n,isDeployed:r,factoryContract:i,accountContract:s,adminAddress:o,sponsorGas:c,overrides:d,nonce:l,callData:u,callGasLimit:p,maxFeePerGas:m,maxPriorityFeePerGas:f,waitForDeployment:y}=e,{chain:h,client:x}=n;r?(a="0x",y&&await eI(s)):(t=i.address,a=await (0,J.encode)((0,V.prepareCreateAccount)({accountSalt:d?.accountSalt,adminAddress:o,createAccountOverride:d?.createAccount,factoryContract:i})),y&&eu(s));let g={callData:u,callGasLimit:p??0n,factory:t,factoryData:a,maxFeePerGas:m,maxPriorityFeePerGas:f,nonce:l,paymaster:void 0,paymasterData:"0x",paymasterPostOpGasLimit:0n,paymasterVerificationGasLimit:0n,preVerificationGas:0n,sender:s.address,signature:R.DUMMY_SIGNATURE,verificationGasLimit:0n};if(c){let e=await ec({chain:h,client:x,entrypointAddress:d?.entrypointAddress,paymasterOverride:d?.paymaster,userOp:g});if(e.paymaster&&e.paymasterData&&(g.paymaster=e.paymaster,g.paymasterData=e.paymasterData),e.callGasLimit&&e.verificationGasLimit&&e.preVerificationGas&&e.paymasterPostOpGasLimit&&e.paymasterVerificationGasLimit)g.callGasLimit=e.callGasLimit,g.verificationGasLimit=e.verificationGasLimit,g.preVerificationGas=e.preVerificationGas,g.paymasterPostOpGasLimit=e.paymasterPostOpGasLimit,g.paymasterVerificationGasLimit=e.paymasterVerificationGasLimit;else{let e=d?.tokenPaymaster?{[d.tokenPaymaster.tokenAddress]:{stateDiff:{[(0,en.keccak256)((0,X.encodeAbiParameters)([{type:"address"},{type:"uint256"}],[s.address,d.tokenPaymaster.balanceStorageSlot]))]:(0,ee.toHex)(M.maxUint96,{size:32})}}}:void 0,t=await (0,k.estimateUserOpGas)({options:n,userOp:g},e);g.callGasLimit=t.callGasLimit,g.verificationGasLimit=t.verificationGasLimit,g.preVerificationGas=t.preVerificationGas,g.paymasterPostOpGasLimit=d?.tokenPaymaster?500000n:t.paymasterPostOpGasLimit||0n,g.paymasterVerificationGasLimit=t.paymasterVerificationGasLimit||0n;let a=await ec({chain:h,client:x,entrypointAddress:d?.entrypointAddress,paymasterOverride:d?.paymaster,userOp:g});a.paymaster&&a.paymasterData&&(g.paymaster=a.paymaster,g.paymasterData=a.paymasterData)}}else{let e=await (0,k.estimateUserOpGas)({options:n,userOp:g});g.callGasLimit=e.callGasLimit,g.verificationGasLimit=e.verificationGasLimit,g.preVerificationGas=e.preVerificationGas,g.paymasterPostOpGasLimit=e.paymasterPostOpGasLimit||0n,g.paymasterVerificationGasLimit=e.paymasterVerificationGasLimit||0n}return{...g,signature:"0x"}}async function eg(e){let t,{bundlerOptions:a,isDeployed:n,factoryContract:r,accountContract:i,adminAddress:s,sponsorGas:o,overrides:c,nonce:d,callData:l,callGasLimit:u,maxFeePerGas:p,maxPriorityFeePerGas:m,waitForDeployment:f}=e,{chain:y,client:h}=a;n?(t="0x",f&&await eI(i)):(t=await ew({accountSalt:c?.accountSalt,adminAddress:s,createAccountOverride:c?.createAccount,factoryContract:r}),f&&eu(i));let x={callData:l,callGasLimit:u??0n,initCode:t,maxFeePerGas:p,maxPriorityFeePerGas:m,nonce:d,paymasterAndData:"0x",preVerificationGas:0n,sender:i.address,signature:R.DUMMY_SIGNATURE,verificationGasLimit:0n};if(o){let e=await ec({chain:y,client:h,entrypointAddress:c?.entrypointAddress,paymasterOverride:c?.paymaster,userOp:x}),t="paymasterAndData"in e?e.paymasterAndData:"0x";if(t&&"0x"!==t&&(x.paymasterAndData=t),e.callGasLimit&&e.verificationGasLimit&&e.preVerificationGas)x.callGasLimit=e.callGasLimit,x.verificationGasLimit=e.verificationGasLimit,x.preVerificationGas=e.preVerificationGas;else{let e=await (0,k.estimateUserOpGas)({options:a,userOp:x});if(x.callGasLimit=e.callGasLimit,x.verificationGasLimit=e.verificationGasLimit,x.preVerificationGas=e.preVerificationGas,t&&"0x"!==t){let e=await ec({chain:y,client:h,entrypointAddress:c?.entrypointAddress,paymasterOverride:c?.paymaster,userOp:x}),t="paymasterAndData"in e?e.paymasterAndData:"0x";t&&"0x"!==t&&(x.paymasterAndData=t)}}}else{let e=await (0,k.estimateUserOpGas)({options:a,userOp:x});x.callGasLimit=e.callGasLimit,x.verificationGasLimit=e.verificationGasLimit,x.preVerificationGas=e.preVerificationGas}return{...x,signature:"0x"}}async function eb(e){let{userOp:t,chain:a,entrypointAddress:n,adminAccount:r}=e,i=await ev({chain:a,client:e.client,entrypointAddress:n,userOp:t});if(r.signMessage){let e=await r.signMessage({chainId:a.id,message:{raw:(0,et.hexToBytes)(i)},originalMessage:(0,er.stringify)(t)});return{...t,signature:e}}throw Error("signMessage not implemented in signingAccount")}async function ev(e){let t,{userOp:a,chain:n,entrypointAddress:i}=e;if("v0.7"===(0,R.getEntryPointVersion)(i||R.ENTRYPOINT_ADDRESS_v0_6)){let s={accountGasLimits:(0,F.concat)([(0,ei.pad)((0,es.toHex)(BigInt(a.verificationGasLimit)),{size:16}),(0,ei.pad)((0,es.toHex)(BigInt(a.callGasLimit)),{size:16})]),callData:a.callData,gasFees:(0,F.concat)([(0,ei.pad)((0,es.toHex)(BigInt(a.maxPriorityFeePerGas)),{size:16}),(0,ei.pad)((0,es.toHex)(BigInt(a.maxFeePerGas)),{size:16})]),initCode:a.factory?(0,F.concat)([a.factory,a.factoryData||"0x"]):"0x",nonce:BigInt(a.nonce),paymasterAndData:a.paymaster?(0,F.concat)([a.paymaster,(0,ei.pad)((0,es.toHex)(BigInt(a.paymasterVerificationGasLimit||0)),{size:16}),(0,ei.pad)((0,es.toHex)(BigInt(a.paymasterPostOpGasLimit||0)),{size:16}),a.paymasterData||"0x"]):"0x",preVerificationGas:BigInt(a.preVerificationGas),sender:a.sender,signature:a.signature};t=await Y({contract:(0,r.getContract)({address:i||R.ENTRYPOINT_ADDRESS_v0_7,chain:n,client:e.client}),userOp:s})}else t=await W({contract:(0,r.getContract)({address:i||R.ENTRYPOINT_ADDRESS_v0_6,chain:n,client:e.client}),userOp:a});return t}async function ew(e){let{factoryContract:t,adminAddress:a,accountSalt:n,createAccountOverride:r}=e,i=(0,V.prepareCreateAccount)({accountSalt:n,adminAddress:a,createAccountOverride:r,factoryContract:t});return(0,F.concat)([t.address,await (0,J.encode)(i)])}async function eA(e){let{accountContract:t,chain:a,client:n,entrypointAddress:i,getNonceOverride:s}=e;return s?s(t):await j({contract:(0,r.getContract)({address:i||R.ENTRYPOINT_ADDRESS_v0_6,chain:a,client:n}),key:(0,eo.generateRandomUint192)(),sender:t.address})}async function eI(e){let t=Date.now();for(;em(e);){if(Date.now()-t>6e4)throw ep(e),Error("Account deployment is taking too long (over 1 minute). Please try again.");await new Promise(e=>setTimeout(e,500))}}let eT=new WeakMap,eP=new WeakMap;async function eG(t,i){let{personalAccount:s,client:o}=t;if(!s)throw Error("No personal account provided for smart account connection");let c=i.chain,d="gasless"in i?i.gasless:i.sponsorGas;if(await (0,B.isZkSyncChain)(c))return[function(t){let{creationOptions:r,connectionOptions:i,chain:s}=t,o={address:(0,D.getAddress)(i.personalAccount.address),onTransactionRequested:async e=>i.personalAccount.onTransactionRequested?.(e),async sendTransaction(e){let c={chain:(0,n.getCachedChain)(e.chainId),client:i.client,data:e.data,eip712:e.eip712,to:e.to??void 0,value:e.value??0n},d=await (0,O.populateEip712Transaction)({account:o,transaction:c});if(t.sponsorGas&&!d.paymaster){let e=await (0,k.getZkPaymasterData)({options:{bundlerUrl:r.overrides?.bundlerUrl,chain:s,client:i.client,entrypointAddress:r.overrides?.entrypointAddress},transaction:d});d={...d,...e}}let l=await (0,O.signEip712Transaction)({account:o,chainId:s.id,eip712Transaction:d}),u=await (0,k.broadcastZkTransaction)({options:{bundlerUrl:r.overrides?.bundlerUrl,chain:s,client:i.client,entrypointAddress:r.overrides?.entrypointAddress},signedTransaction:l,transaction:d});return(0,a.trackTransaction)({chainId:s.id,client:i.client,contractAddress:e.to??void 0,transactionHash:u.transactionHash,walletAddress:o.address,walletType:"smart"}),{chain:s,client:i.client,transactionHash:u.transactionHash}},signMessage:async({message:e})=>i.personalAccount.signMessage({message:e}),async signTypedData(e){let t=(0,H.parseTypedData)(e);return i.personalAccount.signTypedData(t)},sendCalls:async t=>{let{inAppWalletSendCalls:a}=await e.A(88719),n=t.calls[0];if(!n)throw Error("No calls to send");let r=n.client,i=n.chain||t.chain,s=await a({account:o,calls:t.calls,chain:i});return{chain:i,client:r,id:s}},getCallsStatus:async t=>{let{inAppWalletGetCallsStatus:a}=await e.A(88719);return a(t)},getCapabilities:async e=>({[e.chainId??1]:{atomic:{status:"unsupported"},paymasterService:{supported:t.sponsorGas??!1}}})};return o}({chain:c,connectionOptions:t,creationOptions:i,sponsorGas:d}),c];if(i.factoryAddress&&!i.overrides?.entrypointAddress){let e=await eO(i.factoryAddress,o,c);e&&(i.overrides={...i.overrides,entrypointAddress:e})}i.overrides?.tokenPaymaster&&!i.overrides?.entrypointAddress&&(i.overrides={...i.overrides,entrypointAddress:R.ENTRYPOINT_ADDRESS_v0_7});let p=i.factoryAddress??(0,R.getDefaultAccountFactory)(i.overrides?.entrypointAddress),m=(0,r.getContract)({address:p,chain:c,client:o}),f=await (0,V.predictAddress)({accountAddress:i.overrides?.accountAddress,accountSalt:i.overrides?.accountSalt,adminAddress:s.address,factoryContract:m,predictAddressOverride:i.overrides?.predictAddress}).then(e=>e).catch(e=>{throw Error(`Failed to get account address with factory contract ${m.address} on chain ID ${c.id}: ${e?.message||"unknown error"}`,{cause:e})}),y=(0,r.getContract)({address:f,chain:c,client:o}),h=await eU({...i,accountContract:y,chain:c,client:o,factoryContract:m,personalAccount:s,sponsorGas:d});if(eT.set(s,h),eP.set(h,s),i.sessionKey&&await U({accountContract:y,newPermissions:i.sessionKey.permissions,sessionKeyAddress:i.sessionKey.address})){let e=function(e){var t;let a,{contract:n,sessionKeyAddress:r,account:i,permissions:s}=e;return t={async asyncParams(){let{req:e,signature:t}=await G({account:i,contract:n,req:await E({permissions:s,target:r})});return{req:e,signature:t}},contract:n},a=(0,u.once)(async()=>"asyncParams"in t?await t.asyncParams():t),(0,l.prepareContractCall)({accessList:async()=>(await a()).overrides?.accessList,authorizationList:async()=>(await a()).overrides?.authorizationList,contract:t.contract,erc20Value:async()=>(await a()).overrides?.erc20Value,extraGas:async()=>(await a()).overrides?.extraGas,gas:async()=>(await a()).overrides?.gas,gasPrice:async()=>(await a()).overrides?.gasPrice,maxFeePerGas:async()=>(await a()).overrides?.maxFeePerGas,maxPriorityFeePerGas:async()=>(await a()).overrides?.maxPriorityFeePerGas,method:["0x5892e236",b,v],nonce:async()=>(await a()).overrides?.nonce,params:async()=>{let e=await a();return[e.req,e.signature]},value:async()=>(await a()).overrides?.value})}({account:s,contract:y,permissions:i.sessionKey.permissions,sessionKeyAddress:i.sessionKey.address});await (0,C.sendTransaction)({account:h,transaction:e})}return[h,c]}async function eE(e){let t=eP.get(e);t&&(eT.delete(t),eP.delete(e))}async function eU(t){let i=t.overrides?.tokenPaymaster;if(i&&"v0.7"!==(0,R.getEntryPointVersion)(t.overrides?.entrypointAddress||R.ENTRYPOINT_ADDRESS_v0_6))throw Error("Token paymaster is only supported for entrypoint version v0.7");let s=t.sponsorGas,o=t.accountContract,c={address:(0,D.getAddress)(o.address),onTransactionRequested:async e=>t.personalAccount.onTransactionRequested?.(e),async sendBatchTransaction(e){let r=(0,V.prepareBatchExecute)({accountContract:o,executeBatchOverride:t.overrides?.executeBatch,transactions:e});if(0===e.length)throw Error("No transactions to send");let i=e[0];if(!i)throw Error("No transactions to send");let s=(0,n.getCachedChain)(i.chainId),c=await eL({executeTx:r,options:{...t,accountContract:o,chain:s}});return(0,a.trackTransaction)({chainId:s.id,client:t.client,contractAddress:e[0]?.to??void 0,transactionHash:c.transactionHash,walletAddress:t.accountContract.address,walletType:"smart"}),c},async sendTransaction(e){let s;if(i){await eC({accountContract:o,erc20Paymaster:i,options:t});let e=async()=>({paymaster:i.paymasterAddress,paymasterData:"0x"});s=t.overrides?.paymaster||e}else s=t.overrides?.paymaster;e.chainId!==o.chain.id&&(o=(0,r.getContract)({address:c.address,chain:(0,n.getCachedChain)(e.chainId),client:t.client}));let d=(0,V.prepareExecute)({accountContract:o,executeOverride:t.overrides?.execute,transaction:e}),l=(0,n.getCachedChain)(e.chainId),u=await eL({executeTx:d,options:{...t,accountContract:o,chain:l,overrides:{...t.overrides,paymaster:s}}});return(0,a.trackTransaction)({chainId:l.id,client:t.client,contractAddress:e.to??void 0,transactionHash:u.transactionHash,walletAddress:t.accountContract.address,walletType:"smart"}),u},async signMessage({message:a}){if(t.overrides?.signMessage)return t.overrides.signMessage({accountContract:o,adminAccount:t.personalAccount,factoryContract:t.factoryContract,message:a});let{smartAccountSignMessage:n}=await e.A(364124);return n({accountContract:o,factoryContract:t.factoryContract,message:a,options:t})},async signTypedData(a){if(t.overrides?.signTypedData)return t.overrides.signTypedData({accountContract:o,adminAccount:t.personalAccount,factoryContract:t.factoryContract,typedData:a});let{smartAccountSignTypedData:n}=await e.A(364124);return n({accountContract:o,factoryContract:t.factoryContract,options:t,typedData:a})},sendCalls:async t=>{let{inAppWalletSendCalls:a}=await e.A(88719),n=t.calls[0];if(!n)throw Error("No calls to send");let r=n.client,i=n.chain||t.chain,s=await a({account:c,calls:t.calls,chain:i});return{chain:i,client:r,id:s}},getCallsStatus:async t=>{let{inAppWalletGetCallsStatus:a}=await e.A(88719);return a(t)},getCapabilities:async e=>({[e.chainId??1]:{atomic:{status:"supported"},paymasterService:{supported:s??!1}}})};return c}async function eC(t){var a,n;let i,{accountContract:s,erc20Paymaster:o,options:f}=t,y=o.tokenAddress,h=(0,r.getContract)({address:y,chain:s.chain,client:s.client});if(await c({contract:h,owner:s.address,spender:o.paymasterAddress})>0n)return;let x=(n={asyncParams:async()=>{let t;if("amount"in a){let{decimals:n}=await e.A(111932),r=await n(a).catch(()=>18);t=(0,d.toUnits)(a.amount.toString(),r)}else t=a.amountWei;return{overrides:{erc20Value:{amountWei:t,tokenAddress:a.contract.address},...a.overrides},spender:a.spender,value:t}},contract:(a={amountWei:_-1n,contract:h,spender:o.paymasterAddress}).contract},i=(0,u.once)(async()=>"asyncParams"in n?await n.asyncParams():n),(0,l.prepareContractCall)({accessList:async()=>(await i()).overrides?.accessList,authorizationList:async()=>(await i()).overrides?.authorizationList,contract:n.contract,erc20Value:async()=>(await i()).overrides?.erc20Value,extraGas:async()=>(await i()).overrides?.extraGas,gas:async()=>(await i()).overrides?.gas,gasPrice:async()=>(await i()).overrides?.gasPrice,maxFeePerGas:async()=>(await i()).overrides?.maxFeePerGas,maxPriorityFeePerGas:async()=>(await i()).overrides?.maxPriorityFeePerGas,method:["0x095ea7b3",p,m],nonce:async()=>(await i()).overrides?.nonce,params:async()=>{let e=await i();return[e.spender,e.value]},value:async()=>(await i()).overrides?.value})),g=await (0,L.toSerializableTransaction)({from:s.address,transaction:x}),b=(0,V.prepareExecute)({accountContract:s,executeOverride:f.overrides?.execute,transaction:g});await eL({executeTx:b,options:{...f,overrides:{...f.overrides,tokenPaymaster:void 0}}})}async function eL(e){let{executeTx:n,options:r}=e;try{let e=await ey({accountContract:r.accountContract,adminAddress:r.personalAccount.address,factoryContract:r.factoryContract,overrides:r.overrides,sponsorGas:r.sponsorGas,transaction:n}),t=await eb({adminAccount:r.personalAccount,chain:r.chain,client:r.client,entrypointAddress:r.overrides?.entrypointAddress,userOp:e}),i={bundlerUrl:r.overrides?.bundlerUrl,chain:r.chain,client:r.client,entrypointAddress:r.overrides?.entrypointAddress},s=await (0,k.bundleUserOp)({options:i,userOp:t}),o=await ef({...i,userOpHash:s});return(0,a.trackTransaction)({chainId:r.chain.id,client:r.client,contractAddress:await (0,S.resolvePromisedValue)(n.to??void 0),transactionHash:o.transactionHash,walletAddress:r.accountContract.address,walletType:"smart"}),{chain:r.chain,client:r.client,transactionHash:o.transactionHash}}catch(e){throw(0,t.isInsufficientFundsError)(e)&&(0,a.trackInsufficientFundsError)({chainId:r.chain.id,client:r.client,contractAddress:await (0,S.resolvePromisedValue)(n.to??void 0),error:e,transactionValue:await (0,S.resolvePromisedValue)(n.value),walletAddress:r.accountContract.address}),e}finally{ep(r.accountContract)}}async function eO(e,t,a){let n=(0,r.getContract)({address:e,chain:a,client:t});try{return await (0,i.readContract)({contract:n,method:"function entrypoint() public view returns (address)"})}catch{return}}e.i(25835);var eD=e.i(313230);e.s(["connectSmartAccount",()=>eG,"disconnectSmartAccount",()=>eE,"getEntrypointFromFactory",()=>eO,"isSmartWallet",()=>eD.isSmartWallet],424289)},543671,e=>{e.v(t=>Promise.all(["static/chunks/785c5a89bc548111.js"].map(t=>e.l(t))).then(()=>t(174295)))},641117,e=>{e.v(t=>Promise.all(["static/chunks/337119b22de2b64a.js"].map(t=>e.l(t))).then(()=>t(622687)))},761618,e=>{e.v(t=>Promise.all(["static/chunks/ffea76187a9f987e.js"].map(t=>e.l(t))).then(()=>t(47758)))},963571,e=>{e.v(t=>Promise.all(["static/chunks/563d22c88c1a4fda.js"].map(t=>e.l(t))).then(()=>t(507787)))},214081,e=>{e.v(e=>Promise.resolve().then(()=>e(687322)))},884349,e=>{e.v(t=>Promise.all(["static/chunks/6c0185188edac50f.js"].map(t=>e.l(t))).then(()=>t(161010)))},341304,e=>{e.v(e=>Promise.resolve().then(()=>e(424448)))},685401,e=>{e.v(e=>Promise.resolve().then(()=>e(738290)))},97634,e=>{e.v(t=>Promise.all(["static/chunks/2bc5864fa1200ca2.js"].map(t=>e.l(t))).then(()=>t(242159)))},223276,e=>{e.v(t=>Promise.all(["static/chunks/a30bdee7da22e714.js"].map(t=>e.l(t))).then(()=>t(746708)))},111932,e=>{e.v(t=>Promise.all(["static/chunks/2a6a0524644df59e.js"].map(t=>e.l(t))).then(()=>t(139113)))},125163,e=>{e.v(t=>Promise.all(["static/chunks/2b0d56c38c8364bd.js"].map(t=>e.l(t))).then(()=>t(415131)))},3418,e=>{e.v(e=>Promise.resolve().then(()=>e(576656)))},329767,e=>{e.v(e=>Promise.resolve().then(()=>e(234667)))},122988,e=>{e.v(t=>Promise.all(["static/chunks/b8d82a573636fad1.js"].map(t=>e.l(t))).then(()=>t(57241)))},257143,e=>{e.v(e=>Promise.resolve().then(()=>e(772935)))},878967,e=>{e.v(e=>Promise.resolve().then(()=>e(240209)))},239638,e=>{e.v(e=>Promise.resolve().then(()=>e(598207)))},612417,e=>{e.v(t=>Promise.all(["static/chunks/c560200d2cd5e70b.js"].map(t=>e.l(t))).then(()=>t(376258)))},863244,e=>{e.v(t=>Promise.all(["static/chunks/ca86ec351506c8fe.js"].map(t=>e.l(t))).then(()=>t(981523)))},364124,e=>{e.v(t=>Promise.all(["static/chunks/f6e9f50b7d359a98.js"].map(t=>e.l(t))).then(()=>t(968388)))},88719,e=>{e.v(t=>Promise.all(["static/chunks/706832b03768e81e.js"].map(t=>e.l(t))).then(()=>t(878207)))}]);