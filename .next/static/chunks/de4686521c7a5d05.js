(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,240209,e=>{"use strict";var t=e.i(284251);function a(e){return t.concat(...e)}e.s(["concatHex",()=>a])},781979,383183,e=>{"use strict";var t=e.i(589518);function a(e,t,a){return e&t^~e&a}function s(e,t,a){return e&t^e&a^t&a}class n extends t.Hash{constructor(e,a,s,n){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=a,this.padOffset=s,this.isLE=n,this.buffer=new Uint8Array(e),this.view=(0,t.createView)(this.buffer)}update(e){(0,t.aexists)(this),e=(0,t.toBytes)(e),(0,t.abytes)(e);let{view:a,buffer:s,blockLen:n}=this,i=e.length;for(let r=0;r<i;){let c=Math.min(n-this.pos,i-r);if(c===n){let a=(0,t.createView)(e);for(;n<=i-r;r+=n)this.process(a,r);continue}s.set(e.subarray(r,r+c),this.pos),this.pos+=c,r+=c,this.pos===n&&(this.process(a,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,t.aexists)(this),(0,t.aoutput)(e,this),this.finished=!0;let{buffer:a,view:s,blockLen:n,isLE:i}=this,{pos:r}=this;a[r++]=128,(0,t.clean)(this.buffer.subarray(r)),this.padOffset>n-r&&(this.process(s,0),r=0);for(let e=r;e<n;e++)a[e]=0;!function(e,t,a,s){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,a,s);let n=BigInt(32),i=BigInt(0xffffffff),r=Number(a>>n&i),c=Number(a&i),x=4*!!s,o=4*!s;e.setUint32(t+x,r,s),e.setUint32(t+o,c,s)}(s,n-8,BigInt(8*this.length),i),this.process(s,0);let c=(0,t.createView)(e),x=this.outputLen;if(x%4)throw Error("_sha2: outputLen should be aligned to 32bit");let o=x/4,f=this.get();if(o>f.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<o;e++)c.setUint32(4*e,f[e],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let a=e.slice(0,t);return this.destroy(),a}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:a,length:s,finished:n,destroyed:i,pos:r}=this;return e.destroyed=i,e.finished=n,e.length=s,e.pos=r,s%t&&e.buffer.set(a),e}clone(){return this._cloneInto()}}let i=Uint32Array.from([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),r=Uint32Array.from([0xc1059ed8,0x367cd507,0x3070dd17,0xf70e5939,0xffc00b31,0x68581511,0x64f98fa7,0xbefa4fa4]),c=Uint32Array.from([0xcbbb9d5d,0xc1059ed8,0x629a292a,0x367cd507,0x9159015a,0x3070dd17,0x152fecd8,0xf70e5939,0x67332667,0xffc00b31,0x8eb44a87,0x68581511,0xdb0c2e0d,0x64f98fa7,0x47b5481d,0xbefa4fa4]),x=Uint32Array.from([0x6a09e667,0xf3bcc908,0xbb67ae85,0x84caa73b,0x3c6ef372,0xfe94f82b,0xa54ff53a,0x5f1d36f1,0x510e527f,0xade682d1,0x9b05688c,0x2b3e6c1f,0x1f83d9ab,0xfb41bd6b,0x5be0cd19,0x137e2179]);e.s(["Chi",()=>a,"HashMD",()=>n,"Maj",()=>s,"SHA224_IV",0,r,"SHA256_IV",0,i,"SHA384_IV",0,c,"SHA512_IV",0,x],383183);var o=e.i(126101);let f=Uint32Array.from([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),b=new Uint32Array(64);class d extends n{constructor(e=32){super(64,e,8,!1),this.A=0|i[0],this.B=0|i[1],this.C=0|i[2],this.D=0|i[3],this.E=0|i[4],this.F=0|i[5],this.G=0|i[6],this.H=0|i[7]}get(){let{A:e,B:t,C:a,D:s,E:n,F:i,G:r,H:c}=this;return[e,t,a,s,n,i,r,c]}set(e,t,a,s,n,i,r,c){this.A=0|e,this.B=0|t,this.C=0|a,this.D=0|s,this.E=0|n,this.F=0|i,this.G=0|r,this.H=0|c}process(e,a){for(let t=0;t<16;t++,a+=4)b[t]=e.getUint32(a,!1);for(let e=16;e<64;e++){let a=b[e-15],s=b[e-2],n=(0,t.rotr)(a,7)^(0,t.rotr)(a,18)^a>>>3,i=(0,t.rotr)(s,17)^(0,t.rotr)(s,19)^s>>>10;b[e]=i+b[e-7]+n+b[e-16]|0}let{A:n,B:i,C:r,D:c,E:x,F:o,G:d,H:h}=this;for(let e=0;e<64;e++){var u;let a=h+((0,t.rotr)(x,6)^(0,t.rotr)(x,11)^(0,t.rotr)(x,25))+((u=x)&o^~u&d)+f[e]+b[e]|0,l=((0,t.rotr)(n,2)^(0,t.rotr)(n,13)^(0,t.rotr)(n,22))+s(n,i,r)|0;h=d,d=o,o=x,x=c+a|0,c=r,r=i,i=n,n=a+l|0}n=n+this.A|0,i=i+this.B|0,r=r+this.C|0,c=c+this.D|0,x=x+this.E|0,o=o+this.F|0,d=d+this.G|0,h=h+this.H|0,this.set(n,i,r,c,x,o,d,h)}roundClean(){(0,t.clean)(b)}destroy(){this.set(0,0,0,0,0,0,0,0),(0,t.clean)(this.buffer)}}class h extends d{constructor(){super(28),this.A=0|r[0],this.B=0|r[1],this.C=0|r[2],this.D=0|r[3],this.E=0|r[4],this.F=0|r[5],this.G=0|r[6],this.H=0|r[7]}}let u=o.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),l=u[0],p=u[1],y=new Uint32Array(80),g=new Uint32Array(80);let m=(0,t.createHasher)(()=>new d),B=(0,t.createHasher)(()=>new h);e.s(["SHA224",()=>h,"SHA256",()=>d,"sha224",0,B,"sha256",0,m],781979)},70326,862243,e=>{"use strict";var t=e.i(569934),a=e.i(795),s=e.i(769936),n=e.i(675107);function i(e,t="hex"){let r=function e(t){var a,n;let i,r,c,o;return Array.isArray(t)?(r=x(i=(a=t.map(t=>e(t))).reduce((e,t)=>e+t.length,0)),{length:i<=55?1+i:1+r+i,encode(e){for(let{encode:t}of(i<=55?e.pushByte(192+i):(e.pushByte(247+r),1===r?e.pushUint8(i):2===r?e.pushUint16(i):3===r?e.pushUint24(i):e.pushUint32(i)),a))t(e)}}):(o=x((c="string"==typeof(n=t)?(0,s.hexToBytes)(n):n).length),{length:1===c.length&&c[0]<128?1:c.length<=55?1+c.length:1+o+c.length,encode(e){1===c.length&&c[0]<128||(c.length<=55?e.pushByte(128+c.length):(e.pushByte(183+o),1===o?e.pushUint8(c.length):2===o?e.pushUint16(c.length):3===o?e.pushUint24(c.length):e.pushUint32(c.length))),e.pushBytes(c)}})}(e),c=(0,a.createCursor)(new Uint8Array(r.length));return(r.encode(c),"hex"===t)?(0,n.bytesToHex)(c.bytes):c.bytes}function r(e,t="bytes"){return i(e,t)}function c(e,t="hex"){return i(e,t)}function x(e){if(e<256)return 1;if(e<65536)return 2;if(e<0x1000000)return 3;if(e<0x100000000)return 4;throw new t.BaseError("Length is too large.")}e.s(["bytesToRlp",()=>r,"hexToRlp",()=>c,"toRlp",()=>i],70326);var o=e.i(781979);o.SHA256;let f=o.sha256;o.SHA224,o.sha224;var b=e.i(880841);function d(e,t){let a=f((0,b.isHex)(e,{strict:!1})?(0,s.toBytes)(e):e);return"bytes"===(t||"hex")?a:(0,n.toHex)(a)}e.s(["sha256",()=>d],862243)},921492,e=>{"use strict";async function t(e,t){return await e({method:"eth_sendRawTransaction",params:[t]})}e.s(["eth_sendRawTransaction",()=>t])},598207,379279,e=>{"use strict";var t=e.i(769936),a=e.i(70326),s=e.i(921492),n=e.i(738290),i=e.i(406356),r=e.i(803702);function c(e){if(["string","number"].includes(typeof e)&&!Number.isInteger(Number(e)))throw Error(`Expected value to be an integer to convert to a bigint, got ${e} of type ${typeof e}`);return e instanceof Uint8Array?BigInt((0,r.uint8ArrayToHex)(e)):BigInt(e)}let x=(e,t)=>"bigint"==typeof e?t(e):Array.isArray(e)?e.map(e=>x(e,t)):e&&"object"==typeof e?Object.fromEntries(Object.entries(e).map(([e,a])=>[e,x(a,t)])):e;e.s(["replaceBigInts",0,x,"toBigInt",()=>c],379279);var o=e.i(240209),f=e.i(733813),b=e.i(424448),d=e.i(568744),h=e.i(22411),u=e.i(862243);let l=32n*e.i(674768).maxUint16;var p=e.i(569934);class y extends p.BaseError{constructor({givenLength:e,maxBytecodeSize:t}){super(`Bytecode cannot be longer than ${t} bytes. Given length: ${e}`,{name:"BytecodeLengthExceedsMaxSizeError"})}}class g extends p.BaseError{constructor({givenLengthInWords:e}){super(`Bytecode length in 32-byte words must be odd. Given length in words: ${e}`,{name:"BytecodeLengthInWordsMustBeOddError"})}}class m extends p.BaseError{constructor({givenLength:e}){super(`The bytecode length in bytes must be divisible by 32. Given length: ${e}`,{name:"BytecodeLengthMustBeDivisibleBy32Error"})}}async function B(e){let{account:t,transaction:a}=e,i=await v(e),r=await w({account:t,chainId:a.chain.id,eip712Transaction:i}),c=(0,n.getRpcClient)(a),x=await (0,s.eth_sendRawTransaction)(c,r);return{chain:a.chain,client:a.client,transactionHash:x}}async function w(e){let s,{account:n,eip712Transaction:i,chainId:c}=e,x=(s=function(e){let{gas:a,nonce:s,to:n,from:i,value:c,maxFeePerGas:x,maxPriorityFeePerGas:o,paymaster:f,paymasterInput:b,gasPerPubdata:d,data:p,factoryDeps:B}=e;return{data:p||"0x0",factoryDeps:B?.map(e=>(0,r.toHex)(function(e){let a=(0,t.toBytes)(e);if(a.length%32!=0)throw new m({givenLength:a.length});if(a.length>l)throw new y({givenLength:a.length,maxBytecodeSize:l});let s=(0,u.sha256)(a),n=(0,t.toBytes)(s),i=a.length/32;if(i%2==0)throw new g({givenLengthInWords:i});let r=(0,t.toBytes)(i),c=(0,h.pad)(r,{size:2}),x=new Uint8Array([1,0]);return n.set(x,0),n.set(c,2),n}(e)))??[],from:BigInt(i),gasLimit:a??0n,gasPerPubdataByteLimit:d??50000n,maxFeePerGas:x??0n,maxPriorityFeePerGas:o??0n,nonce:s?BigInt(s):0n,paymaster:f?BigInt(f):0n,paymasterInput:b||"0x",to:n?BigInt(n):0n,txType:113n,value:c??0n}}(i),{domain:{chainId:i.chainId,name:"zkSync",version:"2"},message:s,primaryType:"Transaction",types:{Transaction:[{name:"txType",type:"uint256"},{name:"from",type:"uint256"},{name:"to",type:"uint256"},{name:"gasLimit",type:"uint256"},{name:"gasPerPubdataByteLimit",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymaster",type:"uint256"},{name:"nonce",type:"uint256"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"factoryDeps",type:"bytes32[]"},{name:"paymasterInput",type:"bytes"}]}}),f=await n.signTypedData({...x});return function(e){let{chainId:t,gas:s,nonce:n,to:i,from:c,value:x,maxFeePerGas:f,maxPriorityFeePerGas:b,customSignature:d,factoryDeps:h,paymaster:u,paymasterInput:l,gasPerPubdata:p,data:y}=e,g=[n?(0,r.toHex)(n):"0x",b?(0,r.toHex)(b):"0x",f?(0,r.toHex)(f):"0x",s?(0,r.toHex)(s):"0x",i??"0x",x?(0,r.toHex)(x):"0x",y??"0x0",(0,r.toHex)(t),(0,r.toHex)(""),(0,r.toHex)(""),(0,r.toHex)(t),c??"0x",p?(0,r.toHex)(p):(0,r.toHex)(50000n),h??[],d??"0x",u&&l?[u,l]:[]];return(0,o.concatHex)(["0x71",(0,a.toRlp)(g)])}({...i,chainId:c,customSignature:f})}async function v(e){let{account:t,transaction:a}=e,{gas:s,maxFeePerGas:n,maxPriorityFeePerGas:r,gasPerPubdata:c}=await H({from:(0,i.getAddress)(t.address),transaction:a});return{...await (0,d.toSerializableTransaction)({from:t.address,transaction:{...a,gas:s,maxFeePerGas:n,maxPriorityFeePerGas:r}}),...a.eip712,from:t.address,gasPerPubdata:c}}async function H(e){let{transaction:t,from:a}=e,[s,i,o,b]=await Promise.all([(0,f.resolvePromisedValue)(t.gas),(0,f.resolvePromisedValue)(t.maxFeePerGas),(0,f.resolvePromisedValue)(t.maxPriorityFeePerGas),(0,f.resolvePromisedValue)(t.eip712)]),d=b?.gasPerPubdata;if(void 0===s||void 0===i||void 0===o){let e=(0,n.getRpcClient)(t),f=await A({from:a,transaction:t}),b=await e({method:"zks_estimateFee",params:[x(f,r.toHex)]});s=2n*c(b.gas_limit),i=2n*c(b.max_fee_per_gas),o=c(b.max_priority_fee_per_gas)||1n,(d=2n*c(b.gas_per_pubdata_limit))<50000n&&(d=50000n)}return{gas:s,gasPerPubdata:d,maxFeePerGas:i,maxPriorityFeePerGas:o}}async function A(e){let{transaction:a,from:s}=e,[n,i,r,c]=await Promise.all([(0,b.encode)(a),(0,f.resolvePromisedValue)(a.to),(0,f.resolvePromisedValue)(a.value),(0,f.resolvePromisedValue)(a.eip712)]),x=c?.gasPerPubdata;return{data:n,eip712Meta:{...c,factoryDeps:c?.factoryDeps?.map(e=>Array.from((0,t.hexToBytes)(e))),gasPerPubdata:x||50000n},from:s,gasPerPubdata:x,to:i,type:"0x71",value:r}}e.s(["getZkGasFees",()=>H,"populateEip712Transaction",()=>v,"sendEip712Transaction",()=>B,"signEip712Transaction",()=>w],598207)}]);