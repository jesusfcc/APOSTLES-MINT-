(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,746708,e=>{"use strict";var r=e.i(612838),t=e.i(568744),i=e.i(687322),n=e.i(284251),o=e.i(779591),a=e.i(308131),s=e.i(602376);function u(e){if(!e||0===e.length)return[];let r=[];for(let{address:t,storageKeys:i}of e){for(let e=0;e<i.length;e++)if(32!==n.size(i[e]))throw new c({storageKey:i[e]});t&&a.assert(t,{strict:!1}),r.push([t,i])}return r}e.i(364336);class c extends s.BaseError{constructor({storageKey:e}){super(`Size for storage key "${e}" is invalid. Expected 32 bytes. Got ${n.size(e)} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccessList.InvalidStorageKeySizeError"})}}var f=e.i(566335),l=s;let m={wei:0,gwei:9,szabo:12,finney:15,ether:18};function v(e,r="wei"){return function(e,r=0){let t=e.toString(),i=t.startsWith("-");i&&(t=t.slice(1));let[n,o]=[(t=t.padStart(r,"0")).slice(0,t.length-r),t.slice(t.length-r)];return o=o.replace(/(0+)$/,""),`${i?"-":""}${n||"0"}${o?`.${o}`:""}`}(e,m.gwei-m[r])}s.BaseError;class b extends l.BaseError{constructor({feeCap:e}={}){super(`The fee cap (\`maxFeePerGas\`/\`maxPriorityFeePerGas\`${e?` = ${v(e)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionEnvelope.FeeCapTooHighError"})}}class g extends l.BaseError{constructor({gasPrice:e}={}){super(`The gas price (\`gasPrice\`${e?` = ${v(e)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionEnvelope.GasPriceTooHighError"})}}class x extends l.BaseError{constructor({chainId:e}){super(void 0!==e?`Chain ID "${e}" is invalid.`:"Chain ID is invalid."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionEnvelope.InvalidChainIdError"})}}l.BaseError;class d extends l.BaseError{constructor({maxPriorityFeePerGas:e,maxFeePerGas:r}={}){super(`The provided tip (\`maxPriorityFeePerGas\`${e?` = ${v(e)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${v(r)} gwei`:""}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionEnvelope.TipAboveFeeCapError"})}}function h(e){let{chainId:r,maxPriorityFeePerGas:t,maxFeePerGas:i,to:n}=e;if(r<=0)throw new x({chainId:r});if(n&&a.assert(n,{strict:!1}),i&&BigInt(i)>2n**256n-1n)throw new b({feeCap:i});if(t&&i&&t>i)throw new d({maxFeePerGas:i,maxPriorityFeePerGas:t})}function p(e){let{chainId:r,gasPrice:t,to:i}=e;if(r<=0)throw new x({chainId:r});if(i&&a.assert(i,{strict:!1}),t&&BigInt(t)>2n**256n-1n)throw new g({gasPrice:t})}var y=e.i(287556);function w(e){let{authorizationList:r}=e;if(r)for(let e of r){let{address:r,chainId:t}=e;if(r&&a.assert(r,{strict:!1}),0>Number(t))throw new x({chainId:t})}h(e)}function N(e){let{chainId:r,gasPrice:t,to:i}=e;if(i&&a.assert(i,{strict:!1}),void 0!==r&&r<=0)throw new x({chainId:r});if(t&&BigInt(t)>2n**256n-1n)throw new g({gasPrice:t})}async function P(e){let{transaction:a,gasPriceOracleAddress:s}=e,c=(0,r.getContract)({address:s||"0x420000000000000000000000000000000000000F",chain:a.chain,client:a.client}),{gasPrice:l,...m}=await (0,t.toSerializableTransaction)({transaction:a}),v=function(e){let{transaction:r}=e,t=function(e){if(void 0!==e.type)return e.type;if(void 0!==e.authorizationList)return"eip7702";if(void 0!==e.maxFeePerGas||void 0!==e.maxPriorityFeePerGas)return"eip1559";if(void 0!==e.gasPrice)return void 0!==e.accessList?"eip2930":"legacy";throw Error("Invalid transaction type")}(r),i=(()=>{if(e.signature)return"v"in e.signature&&void 0!==e.signature.v?o.fromLegacy({r:n.toBigInt(e.signature.r),s:n.toBigInt(e.signature.s),v:Number(e.signature.v)}):{r:n.toBigInt(e.signature.r),s:n.toBigInt(e.signature.s),yParity:e.signature.yParity};if(void 0!==r.v||void 0!==r.yParity){if(void 0===r.r||void 0===r.s)throw Error("Invalid signature provided with transaction");return{r:"bigint"==typeof r.r?r.r:n.toBigInt(r.r),s:"bigint"==typeof r.s?r.s:n.toBigInt(r.s),yParity:void 0!==r.v&&void 0===r.yParity?o.vToYParity(Number(r.v)):Number(r.yParity)}}})();if("eip1559"===t)return h(r),function(e,r={}){let{chainId:t,gas:i,nonce:a,to:s,value:c,maxFeePerGas:l,maxPriorityFeePerGas:m,accessList:v,data:b,input:g}=e;h(e);let x=u(v),d=o.extract(r.signature||e),p=[n.fromNumber(t),a?n.fromNumber(a):"0x",m?n.fromNumber(m):"0x",l?n.fromNumber(l):"0x",i?n.fromNumber(i):"0x",s??"0x",c?n.fromNumber(c):"0x",b??g??"0x",x,...d?o.toTuple(d):[]];return n.concat("0x02",f.fromHex(p))}(r,{signature:i});if("legacy"===t)return N(r),function(e,r={}){let{chainId:t=0,gas:i,data:a,input:s,nonce:u,to:c,value:l,gasPrice:m}=e;N(e);let v=[u?n.fromNumber(u):"0x",m?n.fromNumber(m):"0x",i?n.fromNumber(i):"0x",c??"0x",l?n.fromNumber(l):"0x",a??s??"0x"],b=r.signature?{r:r.signature.r,s:r.signature.s,v:o.yParityToV(r.signature.yParity)}:void 0!==e.r&&void 0!==e.s?{r:e.r,s:e.s,v:e.v}:void 0;if(b){let e=(()=>{if(b.v>=35)return Math.floor((b.v-35)/2)>0?b.v:27+ +(35!==b.v);if(t>0)return 2*t+35+b.v-27;let e=27+ +(27!==b.v);if(b.v!==e)throw new o.InvalidVError({value:b.v});return e})();v=[...v,n.fromNumber(e),0n===b.r?"0x":n.trimLeft(n.fromNumber(b.r)),0n===b.s?"0x":n.trimLeft(n.fromNumber(b.s))]}else t>0&&(v=[...v,n.fromNumber(t),"0x","0x"]);return f.fromHex(v)}(r,{signature:i});if("eip2930"===t)return p(r),function(e,r={}){let{chainId:t,gas:i,data:a,input:s,nonce:c,to:l,value:m,accessList:v,gasPrice:b}=e;p(e);let g=u(v),x=o.extract(r.signature||e),d=[n.fromNumber(t),c?n.fromNumber(c):"0x",b?n.fromNumber(b):"0x",i?n.fromNumber(i):"0x",l??"0x",m?n.fromNumber(m):"0x",a??s??"0x",g,...x?o.toTuple(x):[]];return n.concat("0x01",f.fromHex(d))}(r,{signature:i});if("eip7702"===t)return w(r),function(e,r={}){let{authorizationList:t,chainId:i,gas:a,nonce:s,to:c,value:l,maxFeePerGas:m,maxPriorityFeePerGas:v,accessList:b,data:g,input:x}=e;w(e);let d=u(b),h=y.toTupleList(t),p=o.extract(r.signature||e),N=[n.fromNumber(i),s?n.fromNumber(s):"0x",v?n.fromNumber(v):"0x",m?n.fromNumber(m):"0x",a?n.fromNumber(a):"0x",c??"0x",l?n.fromNumber(l):"0x",g??x??"0x",d,h,...p?o.toTuple(p):[]];return n.concat("0x04",f.fromHex(N))}(r,{signature:i});throw Error("Invalid transaction type")}({transaction:m});return(0,i.readContract)({contract:c,method:"function getL1Fee(bytes memory _data) view returns (uint256)",params:[v]})}e.s(["estimateL1Fee",()=>P],746708)}]);