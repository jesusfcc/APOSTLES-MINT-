(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,428582,e=>{"use strict";class t extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){let t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){let e=this.keys().next().value;e&&this.delete(e)}return this}}let r={checksum:new t(8192)}.checksum;e.s(["checksum",0,r],428582)},364336,e=>{"use strict";var t=e.i(145535),r=e.i(759384),n=e.i(284251);function a(e,i={}){let{as:s="string"==typeof e?"Hex":"Bytes"}=i,o=(0,t.keccak_256)(r.from(e));return"Bytes"===s?o:n.fromBytes(o)}function i(e){return n.validate(e)&&32===n.size(e)}e.s(["keccak256",()=>a,"validate",()=>i])},308131,e=>{"use strict";var t=e.i(759384),r=e.i(428582),n=e.i(602376),a=e.i(364336);let i=/^0x[a-fA-F0-9]{40}$/;function s(e,t={}){let{strict:r=!0}=t;if(!i.test(e))throw new u({address:e,cause:new l});if(r){if(e.toLowerCase()===e)return;if(o(e)!==e)throw new u({address:e,cause:new d})}}function o(e){if(r.checksum.has(e))return r.checksum.get(e);s(e,{strict:!1});let n=e.substring(2).toLowerCase(),i=a.keccak256(t.fromString(n),{as:"Bytes"}),o=n.split("");for(let e=0;e<40;e+=2)i[e>>1]>>4>=8&&o[e]&&(o[e]=o[e].toUpperCase()),(15&i[e>>1])>=8&&o[e+1]&&(o[e+1]=o[e+1].toUpperCase());let c=`0x${o.join("")}`;return r.checksum.set(e,c),c}function c(e,t={}){let{strict:r=!0}=t??{};try{return s(e,{strict:r}),!0}catch{return!1}}class u extends n.BaseError{constructor({address:e,cause:t}){super(`Address "${e}" is invalid.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class l extends n.BaseError{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class d extends n.BaseError{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}e.s(["InvalidAddressError",()=>u,"InvalidInputError",()=>l,"assert",()=>s,"checksum",()=>o,"validate",()=>c])},849557,e=>{"use strict";e.i(525908),e.i(589513),e.i(61460),e.i(902094),e.i(88776);var t=e.i(308131),r=e.i(602376),n=e.i(284251),a=e.i(62126),i=e.i(759384);function s(e){let t=0;for(let r=0;r<e.length;r++){let{dynamic:a,encoded:i}=e[r];a?t+=32:t+=n.size(i)}let r=[],a=[],i=0;for(let s=0;s<e.length;s++){let{dynamic:o,encoded:c}=e[s];o?(r.push(n.fromNumber(t+i,{size:32})),a.push(c),i+=n.size(c)):r.push(c)}return n.concat(...r,...a)}function o(e,i,o){let{checksumAddress:c=!1}=o??{};if(e.length!==i.length)throw new d({expectedLength:e.length,givenLength:i.length});let y=s(function({checksumAddress:e,parameters:i,values:o}){let c=[];for(let d=0;d<i.length;d++)c.push(function e({checksumAddress:i=!1,parameter:o,value:c}){let d,y=(d=o.type.match(/^(.*)\[(\d+)?\]$/))?[d[2]?Number(d[2]):null,d[1]]:void 0;if(y){let[t,r]=y;return function(t,r){let{checksumAddress:a,length:i,parameter:o}=r,c=null===i;if(!Array.isArray(t))throw new p(t);if(!c&&t.length!==i)throw new u({expectedLength:i,givenLength:t.length,type:`${o.type}[${i}]`});let l=!1,d=[];for(let r=0;r<t.length;r++){let n=e({checksumAddress:a,parameter:o,value:t[r]});n.dynamic&&(l=!0),d.push(n)}if(c||l){let e=s(d);if(c){let t=n.fromNumber(d.length,{size:32});return{dynamic:!0,encoded:d.length>0?n.concat(t,e):t}}if(l)return{dynamic:!0,encoded:e}}return{dynamic:!1,encoded:n.concat(...d.map(({encoded:e})=>e))}}(c,{checksumAddress:i,length:t,parameter:{...o,type:r}})}if("tuple"===o.type)return function(t,r){let{checksumAddress:a,parameter:i}=r,o=!1,c=[];for(let r=0;r<i.components.length;r++){let n=i.components[r],s=Array.isArray(t)?r:n.name,u=e({checksumAddress:a,parameter:n,value:t[s]});c.push(u),u.dynamic&&(o=!0)}return{dynamic:o,encoded:o?s(c):n.concat(...c.map(({encoded:e})=>e))}}(c,{checksumAddress:i,parameter:o});if("address"===o.type)return function(e,r){let{checksum:a=!1}=r;return t.assert(e,{strict:a}),{dynamic:!1,encoded:n.padLeft(e.toLowerCase())}}(c,{checksum:i});if("bool"===o.type){var f=c;if("boolean"!=typeof f)throw new r.BaseError(`Invalid boolean value: "${f}" (type: ${typeof f}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:n.padLeft(n.fromBoolean(f))}}if(o.type.startsWith("uint")||o.type.startsWith("int")){let e=o.type.startsWith("int"),[,,t="256"]=a.integerRegex.exec(o.type)??[];return function(e,{signed:t,size:r}){if("number"==typeof r){let a=2n**(BigInt(r)-(t?1n:0n))-1n,i=t?-a-1n:0n;if(e>a||e<i)throw new n.IntegerOutOfRangeError({max:a.toString(),min:i.toString(),signed:t,size:r/8,value:e.toString()})}return{dynamic:!1,encoded:n.fromNumber(e,{size:32,signed:t})}}(c,{signed:e,size:Number(t)})}if(o.type.startsWith("bytes"))return function(e,{type:t}){let[,r]=t.split("bytes"),a=n.size(e);if(!r){let t=e;return a%32!=0&&(t=n.padRight(t,32*Math.ceil((e.length-2)/2/32))),{dynamic:!0,encoded:n.concat(n.padLeft(n.fromNumber(a,{size:32})),t)}}if(a!==Number.parseInt(r))throw new l({expectedSize:Number.parseInt(r),value:e});return{dynamic:!1,encoded:n.padRight(e)}}(c,{type:o.type});if("string"===o.type){var h=c;let e=n.fromString(h),t=Math.ceil(n.size(e)/32),r=[];for(let a=0;a<t;a++)r.push(n.padRight(n.slice(e,32*a,(a+1)*32)));return{dynamic:!0,encoded:n.concat(n.padRight(n.fromNumber(n.size(e),{size:32})),...r)}}throw new m(o.type)}({checksumAddress:e,parameter:i[d],value:o[d]}));return c}({checksumAddress:c,parameters:e,values:i}));return 0===y.length?"0x":y}function c(e,t){if(e.length!==t.length)throw new d({expectedLength:e.length,givenLength:t.length});let r=[];for(let n=0;n<e.length;n++){let a=e[n],i=t[n];r.push(c.encode(a,i))}return n.concat(...r)}(c||(c={})).encode=function e(r,i,s=!1){if("address"===r)return t.assert(i),n.padLeft(i.toLowerCase(),32*!!s);if("string"===r)return n.fromString(i);if("bytes"===r)return i;if("bool"===r)return n.padLeft(n.fromBoolean(i),s?32:1);let o=r.match(a.integerRegex);if(o){let[e,t,r="256"]=o,a=Number.parseInt(r)/8;return n.fromNumber(i,{size:s?32:a,signed:"int"===t})}let c=r.match(a.bytesRegex);if(c){let[e,t]=c;if(Number.parseInt(t)!==(i.length-2)/2)throw new l({expectedSize:Number.parseInt(t),value:i});return n.padRight(i,32*!!s)}let u=r.match(a.arrayRegex);if(u&&Array.isArray(i)){let[t,r]=u,a=[];for(let t=0;t<i.length;t++)a.push(e(r,i[t],!0));return 0===a.length?"0x":n.concat(...a)}throw new m(r)},r.BaseError,r.BaseError;class u extends r.BaseError{constructor({expectedLength:e,givenLength:t,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${e}\`. Given: \`${t}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class l extends r.BaseError{constructor({expectedSize:e,value:t}){super(`Size of bytes "${t}" (bytes${n.size(t)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class d extends r.BaseError{constructor({expectedLength:e,givenLength:t}){super(`ABI encoding parameters/values length mismatch.
Expected length (parameters): ${e}
Given length (values): ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class p extends r.BaseError{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class m extends r.BaseError{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}var y=r,f=e.i(364336),h=e.i(382721);function g(e){return["string"==typeof e?.name&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},"number"==typeof e?.chainId&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function b(e){let{domain:t,types:r}=e;return function(e){let{data:t,primaryType:r,types:a}=e,s=function e(t){let{data:r,primaryType:a,types:s}=t,c=[{type:"bytes32"}],u=[function(e){let{primaryType:t,types:r}=e,a=n.fromString(function(e){let{primaryType:t,types:r}=e,n="",a=function e(t,r=new Set){let{primaryType:n,types:a}=t,i=n.match(/^\w*/u),s=i?.[0];if(r.has(s)||void 0===a[s])return r;for(let t of(r.add(s),a[s]))e({primaryType:t.type,types:a},r);return r}({primaryType:t,types:r});for(let e of(a.delete(t),[t,...Array.from(a).sort()]))n+=`${e}(${(r[e]??[]).map(({name:e,type:t})=>`${t} ${e}`).join(",")})`;return n}({primaryType:t,types:r}));return f.keccak256(a)}({primaryType:a,types:s})];for(let t of s[a]??[]){let[n,a]=function t(r){let{types:n,name:a,type:s,value:c}=r;if(void 0!==n[s])return[{type:"bytes32"},f.keccak256(e({data:c,primaryType:s,types:n}))];if("bytes"===s){let e=c.length%2?"0":"";return c=`0x${e+c.slice(2)}`,[{type:"bytes32"},f.keccak256(c,{as:"Hex"})]}if("string"===s)return[{type:"bytes32"},f.keccak256(i.fromString(c),{as:"Hex"})];if(s.lastIndexOf("]")===s.length-1){let e=s.slice(0,s.lastIndexOf("[")),r=c.map(r=>t({name:a,type:e,types:n,value:r}));return[{type:"bytes32"},f.keccak256(o(r.map(([e])=>e),r.map(([,e])=>e)))]}return[{type:s},c]}({types:s,name:t.name,type:t.type,value:r[t.name]});c.push(n),u.push(a)}return o(c,u)}({data:t,primaryType:r,types:a});return f.keccak256(s)}({data:t,primaryType:"EIP712Domain",types:{...r,EIP712Domain:r?.EIP712Domain||g(t)}})}function v(e){let{domain:t,message:r,primaryType:n,types:a}=e,i=(e,t)=>{let r={...t};for(let t of e){let{name:e,type:n}=t;"address"===n&&(r[e]=r[e].toLowerCase())}return r},s=t?i(a.EIP712Domain??g(t),t):{},o=(()=>{if("EIP712Domain"!==n)return a[n]?i(a[n],r):{}})();return h.stringify({domain:s,message:o,primaryType:n,types:a},(e,t)=>"bigint"==typeof t?t.toString():t)}function w(e){try{return!function(e){let{domain:r,message:i,primaryType:s,types:o}=e,c=(e,r)=>{for(let i of e){let{name:e,type:s}=i,u=r[e],l=s.match(a.integerRegex);if(l&&("number"==typeof u||"bigint"==typeof u)){let[,e,t]=l;n.fromNumber(u,{signed:"int"===e,size:Number.parseInt(t??"")/8})}if("address"===s&&"string"==typeof u&&!t.validate(u))throw new t.InvalidAddressError({address:u,cause:new t.InvalidInputError});let d=s.match(a.bytesRegex);if(d){let[,e]=d;if(e&&n.size(u)!==Number.parseInt(e))throw new x({expectedSize:Number.parseInt(e),givenSize:n.size(u)})}let p=o[s];p&&(function(e){if("address"===e||"bool"===e||"string"===e||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new I({type:e})}(s),c(p,u))}};if(o.EIP712Domain&&r){if("object"!=typeof r)throw new A({domain:r});c(o.EIP712Domain,r)}if("EIP712Domain"!==s)if(o[s])c(o[s],i);else throw new E({primaryType:s,types:o})}(e),!0}catch{return!1}}class x extends y.BaseError{constructor({expectedSize:e,givenSize:t}){super(`Expected bytes${e}, got bytes${t}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TypedData.BytesSizeMismatchError"})}}class A extends y.BaseError{constructor({domain:e}){super(`Invalid domain "${h.stringify(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TypedData.InvalidDomainError"})}}class E extends y.BaseError{constructor({primaryType:e,types:t}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(t))}\`.`,{metaMessages:["Check that the primary type is a key in `types`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TypedData.InvalidPrimaryTypeError"})}}class I extends y.BaseError{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TypedData.InvalidStructTypeError"})}}e.s(["extractEip712DomainTypes",()=>g,"hashDomain",()=>b,"serialize",()=>v,"validate",()=>w],849557)},968388,e=>{"use strict";var t=e.i(414019),r=e.i(240209);function n({address:e,data:n,signature:a}){return(0,r.concatHex)([(0,t.encodeAbiParameters)([{type:"address"},{type:"bytes"},{type:"bytes"}],[e,n,a]),"0x6492649264926492649264926492649264926492649264926492649264926492"])}var a=e.i(687322);let i=[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],s=[{type:"bytes4"}];async function o(e){return(0,a.readContract)({contract:e.contract,method:["0x1626ba7e",i,s],params:[e.hash,e.signature]})}async function c({hash:e,signature:t,contract:r}){try{return await o({contract:r,hash:e,signature:t})==="0x1626ba7e"}catch(e){return console.error("Error verifying EIP-1271 signature",e),!1}}var u=e.i(424448),l=e.i(221284),d=e.i(759384),p=e.i(479963),m=e.i(629821),y=e.i(849557),f=e.i(803702),h=e.i(200335);async function g({accountContract:e,factoryContract:r,options:a,message:i}){let s,o,y,f=(o="string"==typeof i?(0,p.stringToBytes)(i):i.raw instanceof Uint8Array?i.raw:(0,p.toBytes)(i.raw),y=(0,p.stringToBytes)(`\x19Ethereum Signed Message:
${o.length}`),(0,m.keccak256)(d.concat(y,o),void 0)),g=(0,t.encodeAbiParameters)([{type:"bytes32"}],[f]);if(s=await a.personalAccount.signTypedData({domain:{chainId:a.chain.id,name:"Account",verifyingContract:e.address,version:"1"},message:{message:g},primaryType:"AccountMessage",types:{AccountMessage:[{name:"message",type:"bytes"}]}}),await (0,l.isContractDeployed)(e)){if(await c({contract:e,hash:f,signature:s}))return s;throw Error("Failed to verify signature")}{let e=(0,h.prepareCreateAccount)({accountSalt:a.overrides?.accountSalt,adminAddress:a.personalAccount.address,createAccountOverride:a.overrides?.createAccount,factoryContract:r});if(!e)throw Error("Create account override not provided");let t=await (0,u.encode)(e);return n({address:r.address,data:t,signature:s})}}async function b({accountContract:e,factoryContract:r,options:a,typedData:i}){let s;if(i.domain?.verifyingContract?.toLowerCase()===e.address?.toLowerCase())return a.personalAccount.signTypedData(i);let o=function(e){let{domain:r={},message:n,primaryType:a}=e,i={EIP712Domain:y.extractEip712DomainTypes(r),...e.types};y.validate({domain:r,message:n,primaryType:a,types:i});let s=["0x1901"];if(r&&s.push(y.hashDomain({domain:r,types:i})),"EIP712Domain"!==a){let e,r=(e=function e({data:r,primaryType:n,types:a}){let i=[{type:"bytes32"}],s=[function({primaryType:e,types:t}){let r=(0,f.toHex)(function({primaryType:e,types:t}){let r="",n=function e({primaryType:t,types:r},n=new Set){let a=t.match(/^\w*/u),i=a?.[0];if(n.has(i)||void 0===r[i])return n;for(let t of(n.add(i),r[i]))e({primaryType:t.type,types:r},n);return n}({primaryType:e,types:t});for(let a of(n.delete(e),[e,...Array.from(n).sort()])){if(!t[a])throw Error("Invalid types");r+=`${a}(${t[a].map(({name:e,type:t})=>`${t} ${e}`).join(",")})`}return r}({primaryType:e,types:t}));return(0,m.keccak256)(r)}({primaryType:n,types:a})];if(!a[n])throw Error("Invalid types");for(let o of a[n]){let[n,c]=function r({types:n,name:a,type:i,value:s}){if(void 0!==n[i])return[{type:"bytes32"},(0,m.keccak256)(e({data:s,primaryType:i,types:n}))];if("bytes"===i){let e=s.length%2?"0":"";return s=`0x${e+s.slice(2)}`,[{type:"bytes32"},(0,m.keccak256)(s)]}if("string"===i)return[{type:"bytes32"},(0,m.keccak256)((0,f.toHex)(s))];if(i.lastIndexOf("]")===i.length-1){let e=i.slice(0,i.lastIndexOf("[")),o=s.map(t=>r({name:a,type:e,types:n,value:t}));return[{type:"bytes32"},(0,m.keccak256)((0,t.encodeAbiParameters)(o.map(([e])=>e),o.map(([,e])=>e)))]}return[{type:i},s]}({name:o.name,type:o.type,types:a,value:r[o.name]});i.push(n),s.push(c)}return(0,t.encodeAbiParameters)(i,s)}({data:n,primaryType:a,types:i}),(0,m.keccak256)(e));s.push(r)}return(0,m.keccak256)(d.concat(...s.map(e=>d.fromHex(e))))}(i),p=(0,t.encodeAbiParameters)([{type:"bytes32"}],[o]);if(s=await a.personalAccount.signTypedData({domain:{chainId:a.chain.id,name:"Account",verifyingContract:e.address,version:"1"},message:{message:p},primaryType:"AccountMessage",types:{AccountMessage:[{name:"message",type:"bytes"}]}}),await (0,l.isContractDeployed)(e)){if(await c({contract:e,hash:o,signature:s}))return s;throw Error("Failed to verify signature")}{let e=(0,h.prepareCreateAccount)({accountSalt:a.overrides?.accountSalt,adminAddress:a.personalAccount.address,createAccountOverride:a.overrides?.createAccount,factoryContract:r});if(!e)throw Error("Create account override not provided");let t=await (0,u.encode)(e);return n({address:r.address,data:t,signature:s})}}async function v(t){let{accountContract:r}=t,n=Date.now(),{isContractDeployed:a}=await e.A(406182),i=await a(r);for(;!i;){if(Date.now()-n>6e4)throw Error("Timeout: Smart account deployment not confirmed after 1 minute");await new Promise(e=>setTimeout(e,500)),i=await a(r)}}async function w(t){let{chain:r,client:n,smartAccount:a,accountContract:i}=t;if(await (0,l.isContractDeployed)(i))return;let[{sendTransaction:s},{prepareTransaction:o}]=await Promise.all([e.A(634823),e.A(740445)]),c=o({chain:r,client:n,gas:50000n,to:i.address,value:0n}),u=await s({account:a,transaction:c});return await v({accountContract:i}),u}e.s(["confirmContractDeployment",()=>v,"deploySmartAccount",()=>w,"smartAccountSignMessage",()=>g,"smartAccountSignTypedData",()=>b],968388)},406182,e=>{e.v(e=>Promise.resolve().then(()=>e(221284)))},634823,e=>{e.v(e=>Promise.resolve().then(()=>e(200729)))},740445,e=>{e.v(e=>Promise.resolve().then(()=>e(450466)))}]);